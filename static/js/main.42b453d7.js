/*! For license information please see main.42b453d7.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),a=r(4052),s=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[s,o,i].join("|")+")"+c+l+")*"),u="(?:"+[s+n+"?",n,o,i,r].join("|")+")",h=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,s,o,i){var l=-1,c=t.length;for(s||(s=a),i||(i=[]);++l<c;){var d=t[l];r>0&&s(d)?r>1?e(d,r-1,s,o,i):n(i,d):o||(i[i.length]=d)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),s=r(9841),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=i.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),s=r(9194),o=r(6686);e.exports=function(e,t,r){if(!o(r))return!1;var i=typeof t;return!!("number"==i?a(r)&&s(t,r.length):"string"==i&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1268:(e,t,r)=>{var n=r(5428),a=r(7574),s=r(6832),o=s&&s.isTypedArray,i=o?a(o):n;e.exports=i},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),s=r(9096);e.exports=function(e,t){var r={};return t=s(t,3),a(e,(function(e,a,s){n(r,a,t(e,a,s))})),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),s=r(2761),o=Function.prototype,i=Object.prototype,l=o.toString,c=i.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),s=r(9140),o=Math.max;e.exports=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var l=null==r?0:s(r);return l<0&&(l=o(i+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),s=r(9096),o=r(8883),i=r(320),l=r(7574),c=r(5893),d=r(3279),u=r(4052);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=n(t,l(s));var f=o(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++h,value:e}}));return i(f,(function(e,t){return c(e,t,r)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(p,e)||!u.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function Oe(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Pe=!1;function Ee(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return _e(e,t,r)}finally{Pe=!1,(null!==Ne||null!==ke)&&(Ae(),Ce())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=ja(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Te=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Te=!1}function De(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Re=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){Re=!0,Le=e}};function $e(e,t,r,n,a,s,o,i,l){Re=!1,Le=null,De.apply(Be,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return He(a),e;if(o===n)return He(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=ut(i):0!==(s&=o)&&(n=ut(s))}else 0!==(o=r&~a)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,Ot=!1,Ct=[],_t=null,At=null,Pt=null,Et=new Map,Mt=new Map,Tt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Rt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void St(e.priority,(function(){Nt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function zt(e,t,r){Ft(e)&&r.delete(t)}function Bt(){Ot=!1,null!==_t&&Ft(_t)&&(_t=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Et.forEach(zt),Mt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return $t(t,e)}if(0<Ct.length){$t(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==_t&&$t(_t,e),null!==At&&$t(At,e),null!==Pt&&$t(Pt,e),Et.forEach(t),Mt.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Tt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,r,n){var a=vt,s=qt.transition;qt.transition=null;try{vt=1,Kt(e,t,r,n)}finally{vt=a,qt.transition=s}}function Vt(e,t,r,n){var a=vt,s=qt.transition;qt.transition=null;try{vt=4,Kt(e,t,r,n)}finally{vt=a,qt.transition=s}}function Kt(e,t,r,n){if(Ht){var a=Xt(e,t,r,n);if(null===a)Hn(e,t,n,Yt,r),Dt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return _t=Rt(_t,e,t,r,n,a),!0;case"dragenter":return At=Rt(At,e,t,r,n,a),!0;case"mouseover":return Pt=Rt(Pt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Et.set(s,Rt(Et.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Mt.set(s,Rt(Mt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Xt(e,t,r,n))&&Hn(e,t,n,Yt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function Xt(e,t,r,n){if(Yt=null,null!==(e=ya(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=L({},lr,{view:0,detail:0}),ur=ar(dr),hr=L({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ar(hr),pr=ar(L({},hr,{dataTransfer:0})),mr=ar(L({},dr,{relatedTarget:0})),xr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(gr),vr=ar(L({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function kr(){return Nr}var Sr=L({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Or=ar(Sr),Cr=ar(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_r=ar(L({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Ar=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Er=ar(Pr),Mr=[9,13,27,32],Tr=d&&"CompositionEvent"in window,Ir=null;d&&"documentMode"in document&&(Ir=document.documentMode);var Dr=d&&"TextEvent"in window&&!Ir,Rr=d&&(!Tr||Ir&&8<Ir&&11>=Ir),Lr=String.fromCharCode(32),Fr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $r=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Hr(e,t,r,n){Oe(n),0<(t=Vn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Vr=null;function Kr(e){Fn(e,0)}function Yr(e){if(K(ba(e)))return e}function Xr(e,t){if("change"===e)return t}var Gr=!1;if(d){var Qr;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Qr=Jr}else Qr=!1;Gr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Vr=Wr=null)}function tn(e){if("value"===e.propertyName&&Yr(Vr)){var t=[];Hr(t,Vr,e,je(e)),Ee(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Vr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Vr)}function an(e,t){if("click"===e)return Yr(t)}function sn(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var o=dn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,gn=null,yn=null,vn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==xn||xn!==Y(n)||("selectionStart"in(n=xn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Vn(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var On=Sn("animationend"),Cn=Sn("animationiteration"),_n=Sn("animationstart"),An=Sn("transitionend"),Pn=new Map,En="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Pn.set(e,t),l(t,[e])}for(var Tn=0;Tn<En.length;Tn++){var In=En[Tn];Mn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Mn(On,"onAnimationEnd"),Mn(Cn,"onAnimationIteration"),Mn(_n,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,i,l,c){if($e.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,i,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(qn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),qn(r,e,n,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[$n]){e[$n]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$n]||(t[$n]=!0,Bn("selectionchange",!1,t))}}function qn(e,t,r,n){switch(Gt(t)){case 1:var a=Wt;break;case 4:a=Vt;break;default:a=Kt}r=a.bind(null,t,r,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ya(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}Ee((function(){var n=s,a=je(r),o=[];e:{var i=Pn.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Or;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_r;break;case On:case Cn:case _n:l=xr;break;case An:l=Ar;break;case"scroll":l=ur;break;case"wheel":l=Er;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Me(p,h))&&d.push(Wn(p,m,f)))),u)break;p=p.return}0<d.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[pa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?i:ba(l),f=null==c?i:ba(c),(i=new d(m,p+"leave",l,r,a)).target=u,i.relatedTarget=f,m=null,ya(a)===n&&((d=new d(h,p+"enter",c,r,a)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,p=0,f=d=l;f;f=Kn(f))p++;for(f=0,m=h;m;m=Kn(m))f++;for(;0<p-f;)d=Kn(d),p--;for(;0<f-p;)h=Kn(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kn(d),h=Kn(h)}d=null}else d=null;null!==l&&Yn(o,i,l,d,!1),null!==c&&null!==u&&Yn(o,u,c,d,!0)}if("select"===(l=(i=n?ba(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var x=Xr;else if(qr(i))if(Gr)x=sn;else{x=nn;var g=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=an);switch(x&&(x=x(e,n))?Hr(o,x,r,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?ba(n):window,e){case"focusin":(qr(g)||"true"===g.contentEditable)&&(xn=g,gn=n,yn=null);break;case"focusout":yn=gn=xn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,bn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(o,r,a)}var y;if(Tr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else $r?zr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Rr&&"ko"!==r.locale&&($r||"onCompositionStart"!==v?"onCompositionEnd"===v&&$r&&(y=er()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,$r=!0)),0<(g=Vn(n,v)).length&&(v=new vr(v,e,null,r,a),o.push({event:v,listeners:g}),y?v.data=y:null!==(y=Br(r))&&(v.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Fr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Fr?null:e;default:return null}}(e,r):function(e,t){if($r)return"compositionend"===e||!Tr&&zr(e,t)?(e=er(),Zt=Jt=Qt=null,$r=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Vn(n,"onBeforeInput")).length&&(a=new vr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Fn(o,t)}))}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Me(e,r))&&n.unshift(Wn(e,s,a)),null!=(s=Me(e,t))&&n.push(Wn(e,s,a))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Me(r,s))&&o.unshift(Wn(r,l,i)):a||null!=(l=Me(r,s))&&o.push(Wn(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Xn=/\r\n?/g,Gn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Gn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,fa="__reactProps$"+ua,pa="__reactContainer$"+ua,ma="__reactEvents$"+ua,xa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ya(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ha])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[fa]||null}var wa=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function Oa(e,t){Na++,wa[Na]=e.current,e.current=t}var Ca={},_a=ka(Ca),Aa=ka(!1),Pa=Ca;function Ea(e,t){var r=e.type.contextTypes;if(!r)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){Sa(Aa),Sa(_a)}function Ia(e,t,r){if(_a.current!==Ca)throw Error(s(168));Oa(_a,t),Oa(Aa,r)}function Da(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,q(e)||"Unknown",a));return L({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Pa=_a.current,Oa(_a,e),Oa(Aa,Aa.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Da(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(_a),Oa(_a,e)):Sa(Aa),Oa(Aa,r)}var Fa=null,za=!1,Ba=!1;function $a(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!Ba&&null!==Fa){Ba=!0;var e=0,t=vt;try{var r=Fa;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,Ua),a}finally{vt=t,Ba=!1}}return null}var qa=[],Ha=0,Wa=null,Va=0,Ka=[],Ya=0,Xa=null,Ga=1,Qa="";function Ja(e,t){qa[Ha++]=Va,qa[Ha++]=Wa,Wa=e,Va=t}function Za(e,t,r){Ka[Ya++]=Ga,Ka[Ya++]=Qa,Ka[Ya++]=Xa,Xa=e;var n=Ga;e=Qa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ga=1<<32-ot(t)+a|r<<a|n,Qa=s+e}else Ga=1<<s|r<<a|n,Qa=e}function es(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ts(e){for(;e===Wa;)Wa=qa[--Ha],qa[Ha]=null,Va=qa[--Ha],qa[Ha]=null;for(;e===Xa;)Xa=Ka[--Ya],Ka[Ya]=null,Qa=Ka[--Ya],Ka[Ya]=null,Ga=Ka[--Ya],Ka[Ya]=null}var rs=null,ns=null,as=!1,ss=null;function os(e,t){var r=Ec(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xa?{id:Ga,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ec(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&is(e,t)?os(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=ca(e.nextSibling)}function fs(){ns=rs=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&ys(s)===t.type)?((n=a(t,r.props)).ref=xs(e,t,r),n.return=e,n):((n=Ic(r.type,r.key,r.props,null,e.mode,n)).ref=xs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Ic(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case w:return(t=Fc(t,e.mode,r)).return=e,t;case M:return h(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Dc(t,e.mode,r,null)).return=e,t;gs(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case w:return r.key===a?d(e,t,r,n):null;case M:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||D(r))return null!==a?null:u(e,t,r,n,null);gs(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case M:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||D(n))return u(t,e=e.get(r)||null,n,a,null);gs(t,n)}return null}function m(a,s,i,l){for(var c=null,d=null,u=s,m=s=0,x=null;null!==u&&m<i.length;m++){u.index>m?(x=u,u=null):x=u.sibling;var g=f(a,u,i[m],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g,u=x}if(m===i.length)return r(a,u),as&&Ja(a,m),c;if(null===u){for(;m<i.length;m++)null!==(u=h(a,i[m],l))&&(s=o(u,s,m),null===d?c=u:d.sibling=u,d=u);return as&&Ja(a,m),c}for(u=n(a,u);m<i.length;m++)null!==(x=p(u,a,m,i[m],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?m:x.key),s=o(x,s,m),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(a,e)})),as&&Ja(a,m),c}function x(a,i,l,c){var d=D(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,m=i,x=i=0,g=null,y=l.next();null!==m&&!y.done;x++,y=l.next()){m.index>x?(g=m,m=null):g=m.sibling;var v=f(a,m,y.value,c);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(a,m),i=o(v,i,x),null===u?d=v:u.sibling=v,u=v,m=g}if(y.done)return r(a,m),as&&Ja(a,x),d;if(null===m){for(;!y.done;x++,y=l.next())null!==(y=h(a,y.value,c))&&(i=o(y,i,x),null===u?d=y:u.sibling=y,u=y);return as&&Ja(a,x),d}for(m=n(a,m);!y.done;x++,y=l.next())null!==(y=p(m,a,x,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?x:y.key),i=o(y,i,x),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(a,e)})),as&&Ja(a,x),d}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case j:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,o.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&ys(c)===d.type){r(n,d.sibling),(s=a(d,o.props)).ref=xs(n,d,o),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}o.type===N?((s=Dc(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Ic(o.type,o.key,o.props,null,n.mode,l)).ref=xs(n,s,o),l.return=n,n=l)}return i(n);case w:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=a(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Fc(o,n.mode,l)).return=n,n=s}return i(n);case M:return e(n,s,(d=o._init)(o._payload),l)}if(te(o))return m(n,s,o,l);if(D(o))return x(n,s,o,l);gs(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,o)).return=n,n=s):(r(n,s),(s=Lc(o,n.mode,l)).return=n,n=s),i(n)):r(n,s)}}var bs=vs(!0),js=vs(!1),ws=ka(null),Ns=null,ks=null,Ss=null;function Os(){Ss=ks=Ns=null}function Cs(e){var t=ws.current;Sa(ws),e._currentValue=t}function _s(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Es=null;function Ms(e){null===Es?Es=[e]:Es.push(e)}function Ts(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ms(t)):(r.next=a.next,a.next=r),t.interleaved=r,Is(e,n)}function Is(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ds=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&_l)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Is(e,r)}return null===(a=n.interleaved)?(t.next=t,Ms(n)):(t.next=a.next,a.next=t),n.interleaved=t,Is(e,r)}function Bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function $s(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Us(e,t,r,n){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,u,h):p)||void 0===h)break e;u=L({},u,h);break e;case 2:Ds=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=u}}function qs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},Ws=ka(Hs),Vs=ka(Hs),Ks=ka(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Xs(e,t){switch(Oa(Ks,t),Oa(Vs,e),Oa(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Ws),Oa(Ws,t)}function Gs(){Sa(Ws),Sa(Vs),Sa(Ks)}function Qs(e){Ys(Ks.current);var t=Ys(Ws.current),r=le(t,e.type);t!==r&&(Oa(Vs,e),Oa(Ws,r))}function Js(e){Vs.current===e&&(Sa(Ws),Sa(Vs))}var Zs=ka(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function xo(e,t,r,n,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:ei,e=r(n,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,no.current=ti,e=r(n,a)}while(uo)}if(no.current=Jo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function go(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=io,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,i=n):c=c.next=h,oo.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==o);null===c?i=n:c.next=l,on(n,t.memoizedState)||(vi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);on(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function No(){}function ko(e,t){var r=oo,n=vo(),a=t(),o=!on(n.memoizedState,a);if(o&&(n.memoizedState=a,vi=!0),n=n.queue,Ro(Co.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Eo(9,Oo.bind(null,r,n,a,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||So(r,t,a)}return a}function So(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Oo(e,t,r,n){t.value=r,t.getSnapshot=n,_o(t)&&Ao(e)}function Co(e,t,r){return r((function(){_o(t)&&Ao(e)}))}function _o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ao(e){var t=Is(e,1);null!==t&&rc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Mo(){return vo().memoizedState}function To(e,t,r,n){var a=yo();oo.flags|=e,a.memoizedState=Eo(1|t,r,void 0,void 0===n?null:n)}function Io(e,t,r,n){var a=vo();n=void 0===n?null:n;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==n&&mo(n,o.deps))return void(a.memoizedState=Eo(t,r,s,n))}oo.flags|=e,a.memoizedState=Eo(1|t,r,s,n)}function Do(e,t){return To(8390656,8,e,t)}function Ro(e,t){return Io(2048,8,e,t)}function Lo(e,t){return Io(4,2,e,t)}function Fo(e,t){return Io(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Io(4,4,zo.bind(null,t,e),r)}function $o(){}function Uo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=r):(on(r,t)||(r=mt(),oo.lanes|=r,Rl|=r,e.baseState=!0),t)}function Wo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{vt=r,ao.transition=n}}function Vo(){return vo().memoizedState}function Ko(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xo(e))Go(t,r);else if(null!==(r=Ts(e,t,r,n))){rc(r,e,n,ec()),Qo(r,t,n)}}function Yo(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Go(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,on(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ms(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Ts(e,t,a,n))&&(rc(r,e,n,a=ec()),Qo(r,t,n))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Go(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Do,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,To(4194308,4,zo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var r=yo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:$o,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=yo();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Al)throw Error(s(349));0!==(30&so)||So(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Do(Co.bind(null,n,o,e),[e]),n.flags|=2048,Eo(9,Oo.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yo(),t=Al.identifierPrefix;if(as){var r=Qa;t=":"+t+"R"+(r=(Ga&~(1<<32-ot(Ga)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ps,useCallback:Uo,useContext:Ps,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:jo,useRef:Mo,useState:function(){return jo(bo)},useDebugValue:$o,useDeferredValue:function(e){return Ho(vo(),io.memoizedState,e)},useTransition:function(){return[jo(bo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Vo,unstable_isNewReconciler:!1},ti={readContext:Ps,useCallback:Uo,useContext:Ps,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:wo,useRef:Mo,useState:function(){return wo(bo)},useDebugValue:$o,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Vo,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Fs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=zs(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Fs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=zs(e,s,a))&&(rc(t,e,a,n),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Fs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zs(e,a,n))&&(rc(t,e,n,r),Bs(t,e,n))}};function si(e,t,r,n,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function oi(e,t,r){var n=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(a=Ma(t)?Pa:_a.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ea(e,a):Ca),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ps(s):(s=Ma(t)?Pa:_a.current,a.context=Ea(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Us(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=$(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,r){(r=Fs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Wl=n),ui(0,t)},r}function pi(e,t,r){(r=Fs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fs(-1,1)).tag=2,zs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=b.ReactCurrentOwner,vi=!1;function bi(e,t,r,n){t.child=null===e?js(t,null,r,n):bs(t,e.child,r,n)}function ji(e,t,r,n,a){r=r.render;var s=t.ref;return As(t,a),n=xo(e,t,r,n,s,a),r=go(),null===e||vi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function wi(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ic(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Tc(s,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(vi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(vi=!0)}}return Oi(e,t,r,n,a)}function ki(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Tl,Ml),Ml|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Tl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Oa(Tl,Ml),Ml|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Oa(Tl,Ml),Ml|=n;return bi(e,t,a,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oi(e,t,r,n,a){var s=Ma(r)?Pa:_a.current;return s=Ea(t,s),As(t,a),r=xo(e,t,r,n,s,a),n=go(),null===e||vi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Ci(e,t,r,n,a){if(Ma(r)){var s=!0;Ra(t)}else s=!1;if(As(t,a),null===t.stateNode)qi(e,t),oi(t,r,n),li(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ea(t,c=Ma(r)?Pa:_a.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,o,n,c),Ds=!1;var h=t.memoizedState;o.state=h,Us(t,n,o,a),l=t.memoizedState,i!==n||h!==l||Aa.current||Ds?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=Ds||si(t,r,i,n,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ps(l):l=Ea(t,l=Ma(r)?Pa:_a.current);var f=r.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||h!==l)&&ii(t,o,n,l),Ds=!1,h=t.memoizedState,o.state=h,Us(t,n,o,a);var p=t.memoizedState;i!==u||h!==p||Aa.current||Ds?("function"===typeof f&&(ni(t,r,f,n),p=t.memoizedState),(c=Ds||si(t,r,c,n,h,p,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _i(e,t,r,n,s,a)}function _i(e,t,r,n,a,s){Si(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&La(t,r,!1),Hi(e,t,s);n=t.stateNode,yi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Xs(e,t.containerInfo)}function Pi(e,t,r,n,a){return fs(),ps(a),t.flags|=256,bi(e,t,r,n),t.child}var Ei,Mi,Ti,Ii,Di={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,r){var n,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Oa(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Rc(l,a,0,null),e=Dc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(r),t.memoizedState=Di,e):Fi(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,i){if(r)return 256&t.flags?(t.flags&=-257,zi(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Rc({mode:"visible",children:n.children},a,0,null),(o=Dc(o,a,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Di,o);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,zi(e,t,i,n=di(o=Error(s(419)),n,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(n=Al)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Is(e,a),rc(n,e,a,-1))}return mc(),zi(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Ga,Ka[Ya++]=Qa,Ka[Ya++]=Xa,Ga=e.id,Qa=e.overflow,Xa=t),t=Fi(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(i){i=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Tc(n,i):(i=Dc(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ri(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Di,a}return e=(i=e.child).sibling,a=Tc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,r,n){return null!==n&&ps(n),bs(t,e.child,null,r),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_s(e.return,t,r)}function $i(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Ui(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(bi(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,r,t);else if(19===e.tag)Bi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oa(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$i(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$i(t,!0,r,null,s);break;case"together":$i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Tc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Tc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ki(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Ma(t.type)&&Ta(),Vi(t),null;case 3:return n=t.stateNode,Gs(),Sa(Aa),Sa(_a),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Mi(e,t),Vi(t),null;case 5:Js(t);var a=Ys(Ks.current);if(r=t.type,null!==e&&null!=t.stateNode)Ti(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Vi(t),null}if(e=Ys(Ws.current),us(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ha]=t,n[fa]=o,e=0!==(1&t.mode),r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)zn(Dn[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":G(n,o),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zn("invalid",n);break;case"textarea":ae(n,o),zn("invalid",n)}for(var l in ye(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zn("scroll",n)}switch(r){case"input":V(n),Z(n,o,!0);break;case"textarea":V(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Ei(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)zn(Dn[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":G(e,n),a=X(e,n),zn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),zn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),zn("invalid",e)}for(o in ye(r,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?xe(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&zn("scroll",e):null!=d&&v(e,o,d,l))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Ii(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Ys(Ks.current),Ys(Ws.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Vi(t),null;case 13:if(Sa(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Gs(),Mi(e,t),null===e&&Un(t.stateNode.containerInfo),Vi(t),null;case 10:return Cs(t.type._context),Vi(t),null;case 19:if(Sa(Zs),null===(o=t.memoizedState))return Vi(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Wi(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wi(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oa(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Wi(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Vi(t),null}else 2*Qe()-o.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Wi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=Zs.current,Oa(Zs,n?1&r|2:1&r),t):(Vi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yi(e,t){switch(ts(t),t.tag){case 1:return Ma(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Sa(Aa),Sa(_a),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Gs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ei=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Mi=function(){},Ti=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ys(Ws.current);var s,o=null;switch(r){case"input":a=X(e,a),n=X(e,n),o=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ii=function(e,t,r,n){r!==n&&(t.flags|=4)};var Xi=!1,Gi=!1,Qi="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,r,s)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Gi||Zi(r,t);case 6:var n=dl,a=ul;dl=null,hl(e,t,r),ul=a,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Ut(e)):la(dl,r.stateNode));break;case 4:n=dl,a=ul,dl=r.stateNode.containerInfo,ul=!0,hl(e,t,r),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Gi&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){kc(r,t,i)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Gi=(n=Gi)||null!==r.memoizedState,hl(e,t,r),Gi=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qi),t.forEach((function(t){var n=_c.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));fl(o,i,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(x){kc(e,e.return,x)}try{rl(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:ml(t,e),gl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(ml(t,e),gl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),ve(l,i);var d=ve(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];"style"===u?xe(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):v(a,u,h,d)}switch(l){case"input":J(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(x){kc(e,e.return,x)}}break;case 6:if(ml(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){kc(e,e.return,x)}}break;case 3:if(ml(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||($l=Qe())),4&n&&pl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Gi=(d=Gi)||u,ml(t,e),Gi=d):ml(t,e),gl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ji=e,u=e.child;null!==u;){for(h=Ji=u;null!==Ji;){switch(p=(f=Ji).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zi(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){kc(n,r,x)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==p?(p.return=f,Ji=p):jl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(x){kc(e,e.return,x)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&n&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Ji=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Ji;){var a=Ji,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Xi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Gi;i=Xi;var c=Gi;if(Xi=o,(Gi=l)&&!c)for(Ji=a;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?wl(a):null!==l?(l.return=o,Ji=l):wl(a);for(;null!==s;)Ji=s,vl(s,t,r),s=s.sibling;Ji=a,Xi=i,Gi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Ji=s):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Gi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}qs(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Gi||512&t.flags&&al(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ji=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ji=r;break}Ji=t.return}}function jl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ji=r;break}Ji=t.return}}function wl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var s=t.return;try{al(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Ol=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,_l=0,Al=null,Pl=null,El=0,Ml=0,Tl=ka(0),Il=0,Dl=null,Rl=0,Ll=0,Fl=0,zl=null,Bl=null,$l=0,Ul=1/0,ql=null,Hl=!1,Wl=null,Vl=null,Kl=!1,Yl=null,Xl=0,Gl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&_l)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==El?El&-El:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,r,n){if(50<Gl)throw Gl=0,Ql=null,Error(s(185));gt(e,r,n),0!==(2&_l)&&e===Al||(e===Al&&(0===(2&_l)&&(Ll|=r),4===Il&&ic(e,El)),nc(e,n),1===r&&0===_l&&0===(1&t.mode)&&(Ul=Qe()+500,za&&Ua()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=ft(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=ht(e,e===Al?El:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){za=!0,$a(e)}(lc.bind(null,e)):$a(lc.bind(null,e)),oa((function(){0===(6&_l)&&Ua()})),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ac(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&_l))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===Al?El:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var a=_l;_l|=2;var o=pc();for(Al===e&&El===t||(ql=null,Ul=Qe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Os(),Sl.current=o,_l=a,null!==Pl?t=0:(Al=null,El=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=sc(e,a))),1===t)throw r=Dl,hc(e,0),ic(e,n),nc(e,Qe()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,n))&&(0!==(o=pt(e))&&(n=o,t=sc(e,o))),1===t))throw r=Dl,hc(e,0),ic(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Bl,ql);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=$l+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(jc.bind(null,e,Bl,ql),t);break}jc(e,Bl,ql);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ot(n);o=1<<i,(i=t[i])>a&&(a=i),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(jc.bind(null,e,Bl,ql),n);break}jc(e,Bl,ql);break;default:throw Error(s(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Bl,Bl=r,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&_l))throw Error(s(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Dl,hc(e,0),ic(e,t),nc(e,Qe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bl,ql),nc(e,Qe()),null}function cc(e,t){var r=_l;_l|=1;try{return e(t)}finally{0===(_l=r)&&(Ul=Qe()+500,za&&Ua())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&_l)&&wc();var t=_l;_l|=1;var r=Cl.transition,n=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=n,Cl.transition=r,0===(6&(_l=t))&&Ua()}}function uc(){Ml=Tl.current,Sa(Tl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ta();break;case 3:Gs(),Sa(Aa),Sa(_a),ro();break;case 5:Js(n);break;case 4:Gs();break;case 13:case 19:Sa(Zs);break;case 10:Cs(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Al=e,Pl=e=Tc(e.current,null),El=Ml=t,Il=0,Dl=null,Fl=Ll=Rl=0,Bl=zl=null,null!==Es){for(t=0;t<Es.length;t++)if(null!==(n=(r=Es[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}Es=null}return e}function fc(e,t){for(;;){var r=Pl;try{if(Os(),no.current=Jo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Ol.current=null,null===r||null===r.return){Il=1,Dl=t,Pl=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xi(i);if(null!==p){p.flags&=-257,gi(p,i,l,0,t),1&p.mode&&mi(o,d,t),c=d;var m=(t=p).updateQueue;if(null===m){var x=new Set;x.add(c),t.updateQueue=x}else m.add(c);break e}if(0===(1&t)){mi(o,d,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=xi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,l,0,t),ps(ci(c,l));break e}}o=c=ci(c,l),4!==Il&&(Il=2),null===zl?zl=[o]:zl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$s(o,fi(0,c,t));break e;case 1:l=c;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vl||!Vl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,$s(o,pi(o,l,t));break e}}o=o.return}while(null!==o)}bc(r)}catch(b){t=b,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Jo,null===e?Jo:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Al||0===(268435455&Rl)&&0===(268435455&Ll)||ic(Al,El)}function xc(e,t){var r=_l;_l|=2;var n=pc();for(Al===e&&El===t||(ql=null,hc(e,t));;)try{gc();break}catch(a){fc(e,a)}if(Os(),_l=r,Sl.current=n,null!==Pl)throw Error(s(261));return Al=null,El=0,Il}function gc(){for(;null!==Pl;)vc(Pl)}function yc(){for(;null!==Pl&&!Xe();)vc(Pl)}function vc(e){var t=Nl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Ol.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ki(r,t,Ml)))return void(Pl=r)}else{if(null!==(r=Yi(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,r){var n=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&_l))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,o),e===Al&&(Pl=Al=null,El=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Ac(tt,(function(){return wc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var i=vt;vt=1;var l=_l;_l|=4,Ol.current=null,function(e,t){if(ea=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(j){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===a&&(l=i),f===o&&++u===n&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var x=m.memoizedProps,g=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:ri(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}m=tl,tl=!1}(e,r),xl(r,e),pn(ta),Ht=!!ea,ta=ea=null,e.current=r,yl(r,e,a),Ge(),_l=l,vt=i,Cl.transition=o}else e.current=r;if(Kl&&(Kl=!1,Yl=e,Xl=a),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Gl++:(Gl=0,Ql=e):Gl=0,Ua()}(e,t,r,n)}finally{Cl.transition=a,vt=n}return null}function wc(){if(null!==Yl){var e=bt(Xl),t=Cl.transition,r=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&_l))throw Error(s(331));var a=_l;for(_l|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Ji=d;null!==Ji;){var u=Ji;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var h=u.child;if(null!==h)h.return=u,Ji=h;else for(;null!==Ji;){var f=(u=Ji).sibling,p=u.return;if(sl(u),u===d){Ji=null;break}if(null!==f){f.return=p,Ji=f;break}Ji=p}}}var m=o.alternate;if(null!==m){var x=m.child;if(null!==x){m.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ji=y;break e}Ji=o.return}}var v=e.current;for(Ji=v;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=v;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===i){Ji=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Ji=j;break e}Ji=l.return}}if(_l=a,Ua(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{vt=r,Cl.transition=t}}return!1}function Nc(e,t,r){e=zs(e,t=fi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=zs(t,e=pi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Al===e&&(El&r)===r&&(4===Il||3===Il&&(130023424&El)===El&&500>Qe()-$l?hc(e,0):Fl|=r),nc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Is(e,t))&&(gt(e,t,r),nc(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Oc(e,r)}function _c(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Oc(e,r)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,r,n){return new Pc(e,t,r,n)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var r=e.alternate;return null===r?((r=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ic(e,t,r,n,a,o){var i=2;if(n=e,"function"===typeof e)Mc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Dc(r.children,a,o,t);case k:i=8,a|=8;break;case S:return(e=Ec(12,r,t,2|a)).elementType=S,e.lanes=o,e;case A:return(e=Ec(13,r,t,a)).elementType=A,e.lanes=o,e;case P:return(e=Ec(19,r,t,a)).elementType=P,e.lanes=o,e;case T:return Rc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:i=10;break e;case C:i=9;break e;case _:i=11;break e;case E:i=14;break e;case M:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ec(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Dc(e,t,r,n){return(e=Ec(7,e,n,t)).lanes=r,e}function Rc(e,t,r,n){return(e=Ec(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Ec(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,a,s,o,i,l){return e=new zc(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ec(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function $c(e){if(!e)return Ca;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ma(r))return Da(e,r,t)}return t}function Uc(e,t,r,n,a,s,o,i,l){return(e=Bc(r,n,!0,e,0,s,0,i,l)).context=$c(null),r=e.current,(s=Fs(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,zs(r,s,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function qc(e,t,r,n){var a=t.current,s=ec(),o=tc(a);return r=$c(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zs(a,t,o))&&(rc(e,a,o,s),Bs(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)vi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vi=!1,function(e,t,r){switch(t.tag){case 3:Ai(t),fs();break;case 5:Qs(t);break;case 1:Ma(t.type)&&Ra(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oa(ws,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Oa(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Li(e,t,r):(Oa(Zs,1&Zs.current),null!==(e=Hi(e,t,r))?e.sibling:null);Oa(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Ui(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Hi(e,t,r)}(e,t,r);vi=0!==(131072&e.flags)}else vi=!1,as&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qi(e,t),e=t.pendingProps;var a=Ea(t,_a.current);As(t,r),a=xo(null,t,n,e,a,r);var o=go();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(n)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,n,e,r),t=_i(null,t,n,!0,o,r)):(t.tag=0,as&&o&&es(t),bi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===E)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Oi(null,t,n,e,r);break e;case 1:t=Ci(null,t,n,e,r);break e;case 11:t=ji(null,t,n,e,r);break e;case 14:t=wi(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Oi(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Ai(t),null===e)throw Error(s(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ls(e,t),Us(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pi(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Pi(e,t,n,r,a=ci(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=js(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===a){t=Hi(e,t,r);break e}bi(e,t,n,r)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==o&&ra(n,o)&&(t.flags|=32),Si(e,t),bi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,r);case 4:return Xs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bs(t,null,n,r):bi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ji(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return bi(e,t,t.pendingProps,r),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Oa(ws,n._currentValue),n._currentValue=i,null!==o)if(on(o.value,i)){if(o.children===a.children&&!Aa.current){t=Hi(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Fs(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),_s(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),_s(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,As(t,r),n=n(a=Ps(a)),t.flags|=1,bi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),wi(e,t,n,a=ri(n.type,a),r);case 15:return Ni(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),qi(e,t),t.tag=1,Ma(n)?(e=!0,Ra(t)):e=!1,As(t,r),oi(t,n,a),li(t,n,a,r),_i(null,t,n,!0,e,r);case 19:return Ui(e,t,r);case 22:return ki(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}qc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Hc(o);s.call(e)}}var o=Uc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pa]=o.current,Un(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Hc(l);i.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,Un(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,r,n)})),l}(r,t,e,a,n);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tt.length&&0!==t&&t<Tt[r].priority;r++);Tt.splice(r,0,e),0===r&&Lt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Qe()),0===(6&_l)&&(Ul=Qe()+500,Ua()))}break;case 13:dc((function(){var t=Is(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)rc(t,e,134217728,ec());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Is(e,t);if(null!==r)rc(r,e,t,ec());Vc(e,t)}},kt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},we=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ja(n);if(!a)throw Error(s(90));K(n),J(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},_e=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[va,ba,ja,Oe,Ce,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Un(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Gc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",i=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,a,0,o,i),e[pa]=t.current,Un(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(9096);e.exports=function(e,t){return e&&e.length?n(e,s(t,2),a):void 0}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,s=(t=n(t,e)).length;null!=e&&r<s;)e=e[a(t[r++])];return r&&r==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),s=r(4052),o=r(4543),i=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&a(e),u=!r&&!d&&o(e),h=!r&&!d&&!u&&l(e),f=r||d||u||h,p=f?n(e.length,String):[],m=p.length;for(var x in e)!t&&!c.call(e,x)||f&&("length"==x||u&&("offset"==x||"parent"==x)||h&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||i(x,m))||p.push(x);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),s=r(7303);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&a(t,r,o)&&(r=o=void 0),t=s(t),void 0===r?(r=t,t=0):r=s(r),o=void 0===o?t<r?1:-1:s(o),n(t,r,o,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),s=r(8883),o=r(4052);e.exports=function(e,t){return(o(e)?n:s)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3536:function(e,t,r){var n;e=r.nmd(e),function(){var a,s="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",l=16,c=32,d=64,u=128,h=256,f=1/0,p=9007199254740991,m=NaN,x=4294967295,g=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",d],["rearg",h]],y="[object Arguments]",v="[object Array]",b="[object Boolean]",j="[object Date]",w="[object Error]",N="[object Function]",k="[object GeneratorFunction]",S="[object Map]",O="[object Number]",C="[object Object]",_="[object Promise]",A="[object RegExp]",P="[object Set]",E="[object String]",M="[object Symbol]",T="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",$="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,G=RegExp(Y.source),Q=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ae.source),oe=/^\s+/,ie=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="['\u2019]",Me="["+ke+"]",Te="["+Pe+"]",Ie="["+Se+"]",De="\\d+",Re="["+Oe+"]",Le="["+Ce+"]",Fe="[^"+ke+Pe+De+Oe+Ce+_e+"]",ze="\\ud83c[\\udffb-\\udfff]",Be="[^"+ke+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+_e+"]",He="\\u200d",We="(?:"+Le+"|"+Fe+")",Ve="(?:"+qe+"|"+Fe+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Ie+"|"+ze+")"+"?",Ge="["+Ae+"]?",Qe=Ge+Xe+("(?:"+He+"(?:"+[Be,$e,Ue].join("|")+")"+Ge+Xe+")*"),Je="(?:"+[Re,$e,Ue].join("|")+")"+Qe,Ze="(?:"+[Be+Ie+"?",Ie,$e,Ue,Me].join("|")+")",et=RegExp(Ee,"g"),tt=RegExp(Ie,"g"),rt=RegExp(ze+"(?="+ze+")|"+Ze+Qe,"g"),nt=RegExp([qe+"?"+Le+"+"+Ke+"(?="+[Te,qe,"$"].join("|")+")",Ve+"+"+Ye+"(?="+[Te,qe+We,"$"].join("|")+")",qe+"?"+We+"+"+Ke,qe+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Je].join("|"),"g"),at=RegExp("["+He+ke+Se+Ae+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,lt={};lt[R]=lt[L]=lt[F]=lt[z]=lt[B]=lt[$]=lt[U]=lt[q]=lt[H]=!0,lt[y]=lt[v]=lt[I]=lt[b]=lt[D]=lt[j]=lt[w]=lt[N]=lt[S]=lt[O]=lt[C]=lt[A]=lt[P]=lt[E]=lt[T]=!1;var ct={};ct[y]=ct[v]=ct[I]=ct[D]=ct[b]=ct[j]=ct[R]=ct[L]=ct[F]=ct[z]=ct[B]=ct[S]=ct[O]=ct[C]=ct[A]=ct[P]=ct[E]=ct[M]=ct[$]=ct[U]=ct[q]=ct[H]=!0,ct[w]=ct[N]=ct[T]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ht=parseInt,ft="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),xt=t&&!t.nodeType&&t,gt=xt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===xt,vt=yt&&ft.process,bt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),jt=bt&&bt.isArrayBuffer,wt=bt&&bt.isDate,Nt=bt&&bt.isMap,kt=bt&&bt.isRegExp,St=bt&&bt.isSet,Ot=bt&&bt.isTypedArray;function Ct(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function _t(e,t,r,n){for(var a=-1,s=null==e?0:e.length;++a<s;){var o=e[a];t(n,o,r(o),e)}return n}function At(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}function Tt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function It(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Dt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Rt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Lt(e,t,r,n){var a=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);return r}function Ft(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function zt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Bt=Kt("length");function $t(e,t,r){var n;return r(e,(function(e,r,a){if(t(e,r,a))return n=r,!1})),n}function Ut(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}function qt(e,t,r){return t===t?function(e,t,r){var n=r-1,a=e.length;for(;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):Ut(e,Wt,r)}function Ht(e,t,r,n){for(var a=r-1,s=e.length;++a<s;)if(n(e[a],t))return a;return-1}function Wt(e){return e!==e}function Vt(e,t){var r=null==e?0:e.length;return r?Gt(e,t)/r:m}function Kt(e){return function(t){return null==t?a:t[e]}}function Yt(e){return function(t){return null==e?a:e[t]}}function Xt(e,t,r,n,a){return a(e,(function(e,a,s){r=n?(n=!1,e):t(r,e,a,s)})),r}function Gt(e,t){for(var r,n=-1,s=e.length;++n<s;){var o=t(e[n]);o!==a&&(r=r===a?o:r+o)}return r}function Qt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,mr(e)+1).replace(oe,""):e}function Zt(e){return function(t){return e(t)}}function er(e,t){return Dt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&qt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&qt(t,e[r],0)>-1;);return r}var ar=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sr=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function or(e){return"\\"+dt[e]}function ir(e){return at.test(e)}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function dr(e,t){for(var r=-1,n=e.length,a=0,s=[];++r<n;){var o=e[r];o!==t&&o!==i||(e[r]=i,s[a++]=r)}return s}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function hr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function fr(e){return ir(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Bt(e)}function pr(e){return ir(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function mr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var xr=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gr=function e(t){var r=(t=null==t?mt:gr.defaults(mt.Object(),t,gr.pick(mt,ot))).Array,n=t.Date,ie=t.Error,ke=t.Function,Se=t.Math,Oe=t.Object,Ce=t.RegExp,_e=t.String,Ae=t.TypeError,Pe=r.prototype,Ee=ke.prototype,Me=Oe.prototype,Te=t["__core-js_shared__"],Ie=Ee.toString,De=Me.hasOwnProperty,Re=0,Le=function(){var e=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Me.toString,ze=Ie.call(Oe),Be=mt._,$e=Ce("^"+Ie.call(De).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=yt?t.Buffer:a,qe=t.Symbol,He=t.Uint8Array,We=Ue?Ue.allocUnsafe:a,Ve=cr(Oe.getPrototypeOf,Oe),Ke=Oe.create,Ye=Me.propertyIsEnumerable,Xe=Pe.splice,Ge=qe?qe.isConcatSpreadable:a,Qe=qe?qe.iterator:a,Je=qe?qe.toStringTag:a,Ze=function(){try{var e=us(Oe,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,at=n&&n.now!==mt.Date.now&&n.now,dt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,xt=Oe.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:a,vt=t.isFinite,bt=Pe.join,Bt=cr(Oe.keys,Oe),Yt=Se.max,yr=Se.min,vr=n.now,br=t.parseInt,jr=Se.random,wr=Pe.reverse,Nr=us(t,"DataView"),kr=us(t,"Map"),Sr=us(t,"Promise"),Or=us(t,"Set"),Cr=us(t,"WeakMap"),_r=us(Oe,"create"),Ar=Cr&&new Cr,Pr={},Er=Ls(Nr),Mr=Ls(kr),Tr=Ls(Sr),Ir=Ls(Or),Dr=Ls(Cr),Rr=qe?qe.prototype:a,Lr=Rr?Rr.valueOf:a,Fr=Rr?Rr.toString:a;function zr(e){if(ti(e)&&!Ho(e)&&!(e instanceof qr)){if(e instanceof Ur)return e;if(De.call(e,"__wrapped__"))return Fs(e)}return new Ur(e)}var Br=function(){function e(){}return function(t){if(!ei(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=a,r}}();function $r(){}function Ur(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=x,this.__views__=[]}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Vr;++t<r;)this.add(e[t])}function Yr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Xr(e,t){var r=Ho(e),n=!r&&qo(e),a=!r&&!n&&Yo(e),s=!r&&!n&&!a&&ci(e),o=r||n||a||s,i=o?Qt(e.length,_e):[],l=i.length;for(var c in e)!t&&!De.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,l))||i.push(c);return i}function Gr(e){var t=e.length;return t?e[Yn(0,t-1)]:a}function Qr(e,t){return Is(Aa(e),on(t,0,e.length))}function Jr(e){return Is(Aa(e))}function Zr(e,t,r){(r!==a&&!Bo(e[t],r)||r===a&&!(t in e))&&an(e,t,r)}function en(e,t,r){var n=e[t];De.call(e,t)&&Bo(n,r)&&(r!==a||t in e)||an(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Bo(e[r][0],t))return r;return-1}function rn(e,t,r,n){return hn(e,(function(e,a,s){t(n,e,r(e),s)})),n}function nn(e,t){return e&&Pa(t,Ei(t),e)}function an(e,t,r){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var n=-1,s=t.length,o=r(s),i=null==e;++n<s;)o[n]=i?a:Oi(e,t[n]);return o}function on(e,t,r){return e===e&&(r!==a&&(e=e<=r?e:r),t!==a&&(e=e>=t?e:t)),e}function ln(e,t,r,n,s,o){var i,l=1&t,c=2&t,d=4&t;if(r&&(i=s?r(e,n,s,o):r(e)),i!==a)return i;if(!ei(e))return e;var u=Ho(e);if(u){if(i=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Aa(e,i)}else{var h=ps(e),f=h==N||h==k;if(Yo(e))return Na(e,l);if(h==C||h==y||f&&!s){if(i=c||f?{}:xs(e),!l)return c?function(e,t){return Pa(e,fs(e),t)}(e,function(e,t){return e&&Pa(t,Mi(t),e)}(i,e)):function(e,t){return Pa(e,hs(e),t)}(e,nn(i,e))}else{if(!ct[h])return s?e:{};i=function(e,t,r){var n=e.constructor;switch(t){case I:return ka(e);case b:case j:return new n(+e);case D:return function(e,t){var r=t?ka(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case L:case F:case z:case B:case $:case U:case q:case H:return Sa(e,r);case S:return new n;case O:case E:return new n(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new n;case M:return a=e,Lr?Oe(Lr.call(a)):{}}var a}(e,h,l)}}o||(o=new Yr);var p=o.get(e);if(p)return p;o.set(e,i),oi(e)?e.forEach((function(n){i.add(ln(n,t,r,n,e,o))})):ri(e)&&e.forEach((function(n,a){i.set(a,ln(n,t,r,a,e,o))}));var m=u?a:(d?c?as:ns:c?Mi:Ei)(e);return At(m||e,(function(n,a){m&&(n=e[a=n]),en(i,a,ln(n,t,r,a,e,o))})),i}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Oe(e);n--;){var s=r[n],o=t[s],i=e[s];if(i===a&&!(s in e)||!o(i))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Ae(s);return Ps((function(){e.apply(a,r)}),t)}function un(e,t,r,n){var a=-1,s=Tt,o=!0,i=e.length,l=[],c=t.length;if(!i)return l;r&&(t=Dt(t,Zt(r))),n?(s=It,o=!1):t.length>=200&&(s=tr,o=!1,t=new Kr(t));e:for(;++a<i;){var d=e[a],u=null==r?d:r(d);if(d=n||0!==d?d:0,o&&u===u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else s(t,u,n)||l.push(d)}return l}zr.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:zr}},zr.prototype=$r.prototype,zr.prototype.constructor=zr,Ur.prototype=Br($r.prototype),Ur.prototype.constructor=Ur,qr.prototype=Br($r.prototype),qr.prototype.constructor=qr,Hr.prototype.clear=function(){this.__data__=_r?_r(null):{},this.size=0},Hr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hr.prototype.get=function(e){var t=this.__data__;if(_r){var r=t[e];return r===o?a:r}return De.call(t,e)?t[e]:a},Hr.prototype.has=function(e){var t=this.__data__;return _r?t[e]!==a:De.call(t,e)},Hr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_r&&t===a?o:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Xe.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?a:t[r][1]},Wr.prototype.has=function(e){return tn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(kr||Wr),string:new Hr}},Vr.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Vr.prototype.get=function(e){return cs(this,e).get(e)},Vr.prototype.has=function(e){return cs(this,e).has(e)},Vr.prototype.set=function(e,t){var r=cs(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,o),this},Kr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Yr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Yr.prototype.get=function(e){return this.__data__.get(e)},Yr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!kr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(e,t),this.size=r.size,this};var hn=Ta(bn),fn=Ta(jn,!0);function pn(e,t){var r=!0;return hn(e,(function(e,n,a){return r=!!t(e,n,a)})),r}function mn(e,t,r){for(var n=-1,s=e.length;++n<s;){var o=e[n],i=t(o);if(null!=i&&(l===a?i===i&&!li(i):r(i,l)))var l=i,c=o}return c}function xn(e,t){var r=[];return hn(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r}function gn(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=gs),a||(a=[]);++s<o;){var i=e[s];t>0&&r(i)?t>1?gn(i,t-1,r,n,a):Rt(a,i):n||(a[a.length]=i)}return a}var yn=Ia(),vn=Ia(!0);function bn(e,t){return e&&yn(e,t,Ei)}function jn(e,t){return e&&vn(e,t,Ei)}function wn(e,t){return Mt(t,(function(t){return Qo(e[t])}))}function Nn(e,t){for(var r=0,n=(t=va(t,e)).length;null!=e&&r<n;)e=e[Rs(t[r++])];return r&&r==n?e:a}function kn(e,t,r){var n=t(e);return Ho(e)?n:Rt(n,r(e))}function Sn(e){return null==e?e===a?"[object Undefined]":"[object Null]":Je&&Je in Oe(e)?function(e){var t=De.call(e,Je),r=e[Je];try{e[Je]=a;var n=!0}catch(o){}var s=Fe.call(e);n&&(t?e[Je]=r:delete e[Je]);return s}(e):function(e){return Fe.call(e)}(e)}function On(e,t){return e>t}function Cn(e,t){return null!=e&&De.call(e,t)}function _n(e,t){return null!=e&&t in Oe(e)}function An(e,t,n){for(var s=n?It:Tt,o=e[0].length,i=e.length,l=i,c=r(i),d=1/0,u=[];l--;){var h=e[l];l&&t&&(h=Dt(h,Zt(t))),d=yr(h.length,d),c[l]=!n&&(t||o>=120&&h.length>=120)?new Kr(l&&h):a}h=e[0];var f=-1,p=c[0];e:for(;++f<o&&u.length<d;){var m=h[f],x=t?t(m):m;if(m=n||0!==m?m:0,!(p?tr(p,x):s(u,x,n))){for(l=i;--l;){var g=c[l];if(!(g?tr(g,x):s(e[l],x,n)))continue e}p&&p.push(x),u.push(m)}}return u}function Pn(e,t,r){var n=null==(e=Cs(e,t=va(t,e)))?e:e[Rs(Xs(t))];return null==n?a:Ct(n,e,r)}function En(e){return ti(e)&&Sn(e)==y}function Mn(e,t,r,n,s){return e===t||(null==e||null==t||!ti(e)&&!ti(t)?e!==e&&t!==t:function(e,t,r,n,s,o){var i=Ho(e),l=Ho(t),c=i?v:ps(e),d=l?v:ps(t),u=(c=c==y?C:c)==C,h=(d=d==y?C:d)==C,f=c==d;if(f&&Yo(e)){if(!Yo(t))return!1;i=!0,u=!1}if(f&&!u)return o||(o=new Yr),i||ci(e)?ts(e,t,r,n,s,o):function(e,t,r,n,a,s,o){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!s(new He(e),new He(t)));case b:case j:case O:return Bo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case A:case E:return e==t+"";case S:var i=lr;case P:var l=1&n;if(i||(i=ur),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var d=ts(i(e),i(t),n,a,s,o);return o.delete(e),d;case M:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,c,r,n,s,o);if(!(1&r)){var p=u&&De.call(e,"__wrapped__"),m=h&&De.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,g=m?t.value():t;return o||(o=new Yr),s(x,g,r,n,o)}}if(!f)return!1;return o||(o=new Yr),function(e,t,r,n,s,o){var i=1&r,l=ns(e),c=l.length,d=ns(t),u=d.length;if(c!=u&&!i)return!1;var h=c;for(;h--;){var f=l[h];if(!(i?f in t:De.call(t,f)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var x=!0;o.set(e,t),o.set(t,e);var g=i;for(;++h<c;){var y=e[f=l[h]],v=t[f];if(n)var b=i?n(v,y,f,t,e,o):n(y,v,f,e,t,o);if(!(b===a?y===v||s(y,v,r,n,o):b)){x=!1;break}g||(g="constructor"==f)}if(x&&!g){var j=e.constructor,w=t.constructor;j==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof j&&j instanceof j&&"function"==typeof w&&w instanceof w||(x=!1)}return o.delete(e),o.delete(t),x}(e,t,r,n,s,o)}(e,t,r,n,Mn,s))}function Tn(e,t,r,n){var s=r.length,o=s,i=!n;if(null==e)return!o;for(e=Oe(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var c=(l=r[s])[0],d=e[c],u=l[1];if(i&&l[2]){if(d===a&&!(c in e))return!1}else{var h=new Yr;if(n)var f=n(d,u,c,e,t,h);if(!(f===a?Mn(u,d,3,n,h):f))return!1}}return!0}function In(e){return!(!ei(e)||(t=e,Le&&Le in t))&&(Qo(e)?$e:ye).test(Ls(e));var t}function Dn(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?Ho(e)?$n(e[0],e[1]):Bn(e):hl(e)}function Rn(e){if(!Ns(e))return Bt(e);var t=[];for(var r in Oe(e))De.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!ei(e))return function(e){var t=[];if(null!=e)for(var r in Oe(e))t.push(r);return t}(e);var t=Ns(e),r=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&r.push(n);return r}function Fn(e,t){return e<t}function zn(e,t){var n=-1,a=Vo(e)?r(e.length):[];return hn(e,(function(e,r,s){a[++n]=t(e,r,s)})),a}function Bn(e){var t=ds(e);return 1==t.length&&t[0][2]?Ss(t[0][0],t[0][1]):function(r){return r===e||Tn(r,e,t)}}function $n(e,t){return bs(e)&&ks(t)?Ss(Rs(e),t):function(r){var n=Oi(r,e);return n===a&&n===t?Ci(r,e):Mn(t,n,3)}}function Un(e,t,r,n,s){e!==t&&yn(t,(function(o,i){if(s||(s=new Yr),ei(o))!function(e,t,r,n,s,o,i){var l=_s(e,r),c=_s(t,r),d=i.get(c);if(d)return void Zr(e,r,d);var u=o?o(l,c,r+"",e,t,i):a,h=u===a;if(h){var f=Ho(c),p=!f&&Yo(c),m=!f&&!p&&ci(c);u=c,f||p||m?Ho(l)?u=l:Ko(l)?u=Aa(l):p?(h=!1,u=Na(c,!0)):m?(h=!1,u=Sa(c,!0)):u=[]:ai(c)||qo(c)?(u=l,qo(l)?u=gi(l):ei(l)&&!Qo(l)||(u=xs(c))):h=!1}h&&(i.set(c,u),s(u,c,n,o,i),i.delete(c));Zr(e,r,u)}(e,t,i,r,Un,n,s);else{var l=n?n(_s(e,i),o,i+"",e,t,s):a;l===a&&(l=o),Zr(e,i,l)}}),Mi)}function qn(e,t){var r=e.length;if(r)return ys(t+=t<0?r:0,r)?e[t]:a}function Hn(e,t,r){t=t.length?Dt(t,(function(e){return Ho(e)?function(t){return Nn(t,1===e.length?e[0]:e)}:e})):[nl];var n=-1;t=Dt(t,Zt(ls()));var a=zn(e,(function(e,r,a){var s=Dt(t,(function(t){return t(e)}));return{criteria:s,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(a,(function(e,t){return function(e,t,r){var n=-1,a=e.criteria,s=t.criteria,o=a.length,i=r.length;for(;++n<o;){var l=Oa(a[n],s[n]);if(l)return n>=i?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,a=t.length,s={};++n<a;){var o=t[n],i=Nn(e,o);r(i,o)&&Zn(s,va(o,e),i)}return s}function Vn(e,t,r,n){var a=n?Ht:qt,s=-1,o=t.length,i=e;for(e===t&&(t=Aa(t)),r&&(i=Dt(e,Zt(r)));++s<o;)for(var l=0,c=t[s],d=r?r(c):c;(l=a(i,d,l,n))>-1;)i!==e&&Xe.call(i,l,1),Xe.call(e,l,1);return e}function Kn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==s){var s=a;ys(a)?Xe.call(e,a,1):ua(e,a)}}return e}function Yn(e,t){return e+pt(jr()*(t-e+1))}function Xn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Gn(e,t){return Es(Os(e,t,nl),e+"")}function Qn(e){return Gr(Bi(e))}function Jn(e,t){var r=Bi(e);return Is(r,on(t,0,r.length))}function Zn(e,t,r,n){if(!ei(e))return e;for(var s=-1,o=(t=va(t,e)).length,i=o-1,l=e;null!=l&&++s<o;){var c=Rs(t[s]),d=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=i){var u=l[c];(d=n?n(u,c,l):a)===a&&(d=ei(u)?u:ys(t[s+1])?[]:{})}en(l,c,d),l=l[c]}return e}var ea=Ar?function(e,t){return Ar.set(e,t),e}:nl,ta=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:nl;function ra(e){return Is(Bi(e))}function na(e,t,n){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=r(s);++a<s;)o[a]=e[a+t];return o}function aa(e,t){var r;return hn(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}function sa(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;n<a;){var s=n+a>>>1,o=e[s];null!==o&&!li(o)&&(r?o<=t:o<t)?n=s+1:a=s}return a}return oa(e,t,nl,r)}function oa(e,t,r,n){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var i=(t=r(t))!==t,l=null===t,c=li(t),d=t===a;s<o;){var u=pt((s+o)/2),h=r(e[u]),f=h!==a,p=null===h,m=h===h,x=li(h);if(i)var g=n||m;else g=d?m&&(n||f):l?m&&f&&(n||!p):c?m&&f&&!p&&(n||!x):!p&&!x&&(n?h<=t:h<t);g?s=u+1:o=u}return yr(o,4294967294)}function ia(e,t){for(var r=-1,n=e.length,a=0,s=[];++r<n;){var o=e[r],i=t?t(o):o;if(!r||!Bo(i,l)){var l=i;s[a++]=0===o?0:o}}return s}function la(e){return"number"==typeof e?e:li(e)?m:+e}function ca(e){if("string"==typeof e)return e;if(Ho(e))return Dt(e,ca)+"";if(li(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function da(e,t,r){var n=-1,a=Tt,s=e.length,o=!0,i=[],l=i;if(r)o=!1,a=It;else if(s>=200){var c=t?null:Xa(e);if(c)return ur(c);o=!1,a=tr,l=new Kr}else l=t?[]:i;e:for(;++n<s;){var d=e[n],u=t?t(d):d;if(d=r||0!==d?d:0,o&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),i.push(d)}else a(l,u,r)||(l!==i&&l.push(u),i.push(d))}return i}function ua(e,t){return null==(e=Cs(e,t=va(t,e)))||delete e[Rs(Xs(t))]}function ha(e,t,r,n){return Zn(e,t,r(Nn(e,t)),n)}function fa(e,t,r,n){for(var a=e.length,s=n?a:-1;(n?s--:++s<a)&&t(e[s],s,e););return r?na(e,n?0:s,n?s+1:a):na(e,n?s+1:0,n?a:s)}function pa(e,t){var r=e;return r instanceof qr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function ma(e,t,n){var a=e.length;if(a<2)return a?da(e[0]):[];for(var s=-1,o=r(a);++s<a;)for(var i=e[s],l=-1;++l<a;)l!=s&&(o[s]=un(o[s]||i,e[l],t,n));return da(gn(o,1),t,n)}function xa(e,t,r){for(var n=-1,s=e.length,o=t.length,i={};++n<s;){var l=n<o?t[n]:a;r(i,e[n],l)}return i}function ga(e){return Ko(e)?e:[]}function ya(e){return"function"==typeof e?e:nl}function va(e,t){return Ho(e)?e:bs(e,t)?[e]:Ds(yi(e))}var ba=Gn;function ja(e,t,r){var n=e.length;return r=r===a?n:r,!t&&r>=n?e:na(e,t,r)}var wa=rt||function(e){return mt.clearTimeout(e)};function Na(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function ka(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Sa(e,t){var r=t?ka(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Oa(e,t){if(e!==t){var r=e!==a,n=null===e,s=e===e,o=li(e),i=t!==a,l=null===t,c=t===t,d=li(t);if(!l&&!d&&!o&&e>t||o&&i&&c&&!l&&!d||n&&i&&c||!r&&c||!s)return 1;if(!n&&!o&&!d&&e<t||d&&r&&s&&!n&&!o||l&&r&&s||!i&&s||!c)return-1}return 0}function Ca(e,t,n,a){for(var s=-1,o=e.length,i=n.length,l=-1,c=t.length,d=Yt(o-i,0),u=r(c+d),h=!a;++l<c;)u[l]=t[l];for(;++s<i;)(h||s<o)&&(u[n[s]]=e[s]);for(;d--;)u[l++]=e[s++];return u}function _a(e,t,n,a){for(var s=-1,o=e.length,i=-1,l=n.length,c=-1,d=t.length,u=Yt(o-l,0),h=r(u+d),f=!a;++s<u;)h[s]=e[s];for(var p=s;++c<d;)h[p+c]=t[c];for(;++i<l;)(f||s<o)&&(h[p+n[i]]=e[s++]);return h}function Aa(e,t){var n=-1,a=e.length;for(t||(t=r(a));++n<a;)t[n]=e[n];return t}function Pa(e,t,r,n){var s=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var l=t[o],c=n?n(r[l],e[l],l,r,e):a;c===a&&(c=e[l]),s?an(r,l,c):en(r,l,c)}return r}function Ea(e,t){return function(r,n){var a=Ho(r)?_t:rn,s=t?t():{};return a(r,e,ls(n,2),s)}}function Ma(e){return Gn((function(t,r){var n=-1,s=r.length,o=s>1?r[s-1]:a,i=s>2?r[2]:a;for(o=e.length>3&&"function"==typeof o?(s--,o):a,i&&vs(r[0],r[1],i)&&(o=s<3?a:o,s=1),t=Oe(t);++n<s;){var l=r[n];l&&e(t,l,n,o)}return t}))}function Ta(e,t){return function(r,n){if(null==r)return r;if(!Vo(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Oe(r);(t?s--:++s<a)&&!1!==n(o[s],s,o););return r}}function Ia(e){return function(t,r,n){for(var a=-1,s=Oe(t),o=n(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===r(s[l],l,s))break}return t}}function Da(e){return function(t){var r=ir(t=yi(t))?pr(t):a,n=r?r[0]:t.charAt(0),s=r?ja(r,1).join(""):t.slice(1);return n[e]()+s}}function Ra(e){return function(t){return Lt(Qi(qi(t).replace(et,"")),e,"")}}function La(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Br(e.prototype),n=e.apply(r,t);return ei(n)?n:r}}function Fa(e){return function(t,r,n){var s=Oe(t);if(!Vo(t)){var o=ls(r,3);t=Ei(t),r=function(e){return o(s[e],e,s)}}var i=e(t,r,n);return i>-1?s[o?t[i]:i]:a}}function za(e){return rs((function(t){var r=t.length,n=r,o=Ur.prototype.thru;for(e&&t.reverse();n--;){var i=t[n];if("function"!=typeof i)throw new Ae(s);if(o&&!l&&"wrapper"==os(i))var l=new Ur([],!0)}for(n=l?n:r;++n<r;){var c=os(i=t[n]),d="wrapper"==c?ss(i):a;l=d&&js(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[os(d[0])].apply(l,d[3]):1==i.length&&js(i)?l[c]():l.thru(i)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ho(n))return l.plant(n).value();for(var a=0,s=r?t[a].apply(this,e):n;++a<r;)s=t[a].call(this,s);return s}}))}function Ba(e,t,n,s,o,i,l,c,d,h){var f=t&u,p=1&t,m=2&t,x=24&t,g=512&t,y=m?a:La(e);return function u(){for(var v=arguments.length,b=r(v),j=v;j--;)b[j]=arguments[j];if(x)var w=is(u),N=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(b,w);if(s&&(b=Ca(b,s,o,x)),i&&(b=_a(b,i,l,x)),v-=N,x&&v<h){var k=dr(b,w);return Ka(e,t,Ba,u.placeholder,n,b,k,c,d,h-v)}var S=p?n:this,O=m?S[e]:e;return v=b.length,c?b=function(e,t){var r=e.length,n=yr(t.length,r),s=Aa(e);for(;n--;){var o=t[n];e[n]=ys(o,r)?s[o]:a}return e}(b,c):g&&v>1&&b.reverse(),f&&d<v&&(b.length=d),this&&this!==mt&&this instanceof u&&(O=y||La(O)),O.apply(S,b)}}function $a(e,t){return function(r,n){return function(e,t,r,n){return bn(e,(function(e,a,s){t(n,r(e),a,s)})),n}(r,e,t(n),{})}}function Ua(e,t){return function(r,n){var s;if(r===a&&n===a)return t;if(r!==a&&(s=r),n!==a){if(s===a)return n;"string"==typeof r||"string"==typeof n?(r=ca(r),n=ca(n)):(r=la(r),n=la(n)),s=e(r,n)}return s}}function qa(e){return rs((function(t){return t=Dt(t,Zt(ls())),Gn((function(r){var n=this;return e(t,(function(e){return Ct(e,n,r)}))}))}))}function Ha(e,t){var r=(t=t===a?" ":ca(t)).length;if(r<2)return r?Xn(t,e):t;var n=Xn(t,ft(e/fr(t)));return ir(t)?ja(pr(n),0,e).join(""):n.slice(0,e)}function Wa(e){return function(t,n,s){return s&&"number"!=typeof s&&vs(t,n,s)&&(n=s=a),t=fi(t),n===a?(n=t,t=0):n=fi(n),function(e,t,n,a){for(var s=-1,o=Yt(ft((t-e)/(n||1)),0),i=r(o);o--;)i[a?o:++s]=e,e+=n;return i}(t,n,s=s===a?t<n?1:-1:fi(s),e)}}function Va(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=xi(t),r=xi(r)),e(t,r)}}function Ka(e,t,r,n,s,o,i,l,u,h){var f=8&t;t|=f?c:d,4&(t&=~(f?d:c))||(t&=-4);var p=[e,t,s,f?o:a,f?i:a,f?a:o,f?a:i,l,u,h],m=r.apply(a,p);return js(e)&&As(m,p),m.placeholder=n,Ms(m,e,t)}function Ya(e){var t=Se[e];return function(e,r){if(e=xi(e),(r=null==r?0:yr(pi(r),292))&&vt(e)){var n=(yi(e)+"e").split("e");return+((n=(yi(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Xa=Or&&1/ur(new Or([,-0]))[1]==f?function(e){return new Or(e)}:ll;function Ga(e){return function(t){var r=ps(t);return r==S?lr(t):r==P?hr(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qa(e,t,n,o,f,p,m,x){var g=2&t;if(!g&&"function"!=typeof e)throw new Ae(s);var y=o?o.length:0;if(y||(t&=-97,o=f=a),m=m===a?m:Yt(pi(m),0),x=x===a?x:pi(x),y-=f?f.length:0,t&d){var v=o,b=f;o=f=a}var j=g?a:ss(e),w=[e,t,n,o,f,v,b,p,m,x];if(j&&function(e,t){var r=e[1],n=t[1],a=r|n,s=a<131,o=n==u&&8==r||n==u&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!s&&!o)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ca(c,l,t[4]):l,e[4]=c?dr(e[3],i):t[4]}(l=t[5])&&(c=e[5],e[5]=c?_a(c,l,t[6]):l,e[6]=c?dr(e[5],i):t[6]);(l=t[7])&&(e[7]=l);n&u&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(w,j),e=w[0],t=w[1],n=w[2],o=w[3],f=w[4],!(x=w[9]=w[9]===a?g?0:e.length:Yt(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)N=8==t||t==l?function(e,t,n){var s=La(e);return function o(){for(var i=arguments.length,l=r(i),c=i,d=is(o);c--;)l[c]=arguments[c];var u=i<3&&l[0]!==d&&l[i-1]!==d?[]:dr(l,d);return(i-=u.length)<n?Ka(e,t,Ba,o.placeholder,a,l,u,a,a,n-i):Ct(this&&this!==mt&&this instanceof o?s:e,this,l)}}(e,t,x):t!=c&&33!=t||f.length?Ba.apply(a,w):function(e,t,n,a){var s=1&t,o=La(e);return function t(){for(var i=-1,l=arguments.length,c=-1,d=a.length,u=r(d+l),h=this&&this!==mt&&this instanceof t?o:e;++c<d;)u[c]=a[c];for(;l--;)u[c++]=arguments[++i];return Ct(h,s?n:this,u)}}(e,t,n,o);else var N=function(e,t,r){var n=1&t,a=La(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,n);return Ms((j?ea:As)(N,w),e,t)}function Ja(e,t,r,n){return e===a||Bo(e,Me[r])&&!De.call(n,r)?t:e}function Za(e,t,r,n,s,o){return ei(e)&&ei(t)&&(o.set(t,e),Un(e,t,a,Za,o),o.delete(t)),e}function es(e){return ai(e)?a:e}function ts(e,t,r,n,s,o){var i=1&r,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var d=o.get(e),u=o.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,p=2&r?new Kr:a;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],x=t[h];if(n)var g=i?n(x,m,h,t,e,o):n(m,x,h,e,t,o);if(g!==a){if(g)continue;f=!1;break}if(p){if(!zt(t,(function(e,t){if(!tr(p,t)&&(m===e||s(m,e,r,n,o)))return p.push(t)}))){f=!1;break}}else if(m!==x&&!s(m,x,r,n,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function rs(e){return Es(Os(e,a,Hs),e+"")}function ns(e){return kn(e,Ei,hs)}function as(e){return kn(e,Mi,fs)}var ss=Ar?function(e){return Ar.get(e)}:ll;function os(e){for(var t=e.name+"",r=Pr[t],n=De.call(Pr,t)?r.length:0;n--;){var a=r[n],s=a.func;if(null==s||s==e)return a.name}return t}function is(e){return(De.call(zr,"placeholder")?zr:e).placeholder}function ls(){var e=zr.iteratee||al;return e=e===al?Dn:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ds(e){for(var t=Ei(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ks(a)]}return t}function us(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return In(r)?r:a}var hs=xt?function(e){return null==e?[]:(e=Oe(e),Mt(xt(e),(function(t){return Ye.call(e,t)})))}:ml,fs=xt?function(e){for(var t=[];e;)Rt(t,hs(e)),e=Ve(e);return t}:ml,ps=Sn;function ms(e,t,r){for(var n=-1,a=(t=va(t,e)).length,s=!1;++n<a;){var o=Rs(t[n]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++n!=a?s:!!(a=null==e?0:e.length)&&Zo(a)&&ys(o,a)&&(Ho(e)||qo(e))}function xs(e){return"function"!=typeof e.constructor||Ns(e)?{}:Br(Ve(e))}function gs(e){return Ho(e)||qo(e)||!!(Ge&&e&&e[Ge])}function ys(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&be.test(e))&&e>-1&&e%1==0&&e<t}function vs(e,t,r){if(!ei(r))return!1;var n=typeof t;return!!("number"==n?Vo(r)&&ys(t,r.length):"string"==n&&t in r)&&Bo(r[t],e)}function bs(e,t){if(Ho(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!li(e))||(re.test(e)||!te.test(e)||null!=t&&e in Oe(t))}function js(e){var t=os(e),r=zr[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=ss(r);return!!n&&e===n[0]}(Nr&&ps(new Nr(new ArrayBuffer(1)))!=D||kr&&ps(new kr)!=S||Sr&&ps(Sr.resolve())!=_||Or&&ps(new Or)!=P||Cr&&ps(new Cr)!=T)&&(ps=function(e){var t=Sn(e),r=t==C?e.constructor:a,n=r?Ls(r):"";if(n)switch(n){case Er:return D;case Mr:return S;case Tr:return _;case Ir:return P;case Dr:return T}return t});var ws=Te?Qo:xl;function Ns(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function ks(e){return e===e&&!ei(e)}function Ss(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==a||e in Oe(r)))}}function Os(e,t,n){return t=Yt(t===a?e.length-1:t,0),function(){for(var a=arguments,s=-1,o=Yt(a.length-t,0),i=r(o);++s<o;)i[s]=a[t+s];s=-1;for(var l=r(t+1);++s<t;)l[s]=a[s];return l[t]=n(i),Ct(e,this,l)}}function Cs(e,t){return t.length<2?e:Nn(e,na(t,0,-1))}function _s(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var As=Ts(ea),Ps=dt||function(e,t){return mt.setTimeout(e,t)},Es=Ts(ta);function Ms(e,t,r){var n=t+"";return Es(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return At(g,(function(r){var n="_."+r[0];t&r[1]&&!Tt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(n),r)))}function Ts(e){var t=0,r=0;return function(){var n=vr(),s=16-(n-r);if(r=n,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Is(e,t){var r=-1,n=e.length,s=n-1;for(t=t===a?n:t;++r<t;){var o=Yn(r,s),i=e[o];e[o]=e[r],e[r]=i}return e.length=t,e}var Ds=function(e){var t=Io(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,a){t.push(n?a.replace(fe,"$1"):r||e)})),t}));function Rs(e){if("string"==typeof e||li(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ls(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fs(e){if(e instanceof qr)return e.clone();var t=new Ur(e.__wrapped__,e.__chain__);return t.__actions__=Aa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zs=Gn((function(e,t){return Ko(e)?un(e,gn(t,1,Ko,!0)):[]})),Bs=Gn((function(e,t){var r=Xs(t);return Ko(r)&&(r=a),Ko(e)?un(e,gn(t,1,Ko,!0),ls(r,2)):[]})),$s=Gn((function(e,t){var r=Xs(t);return Ko(r)&&(r=a),Ko(e)?un(e,gn(t,1,Ko,!0),a,r):[]}));function Us(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:pi(r);return a<0&&(a=Yt(n+a,0)),Ut(e,ls(t,3),a)}function qs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var s=n-1;return r!==a&&(s=pi(r),s=r<0?Yt(n+s,0):yr(s,n-1)),Ut(e,ls(t,3),s,!0)}function Hs(e){return(null==e?0:e.length)?gn(e,1):[]}function Ws(e){return e&&e.length?e[0]:a}var Vs=Gn((function(e){var t=Dt(e,ga);return t.length&&t[0]===e[0]?An(t):[]})),Ks=Gn((function(e){var t=Xs(e),r=Dt(e,ga);return t===Xs(r)?t=a:r.pop(),r.length&&r[0]===e[0]?An(r,ls(t,2)):[]})),Ys=Gn((function(e){var t=Xs(e),r=Dt(e,ga);return(t="function"==typeof t?t:a)&&r.pop(),r.length&&r[0]===e[0]?An(r,a,t):[]}));function Xs(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Gs=Gn(Qs);function Qs(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e}var Js=rs((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Kn(e,Dt(t,(function(e){return ys(e,r)?+e:e})).sort(Oa)),n}));function Zs(e){return null==e?e:wr.call(e)}var eo=Gn((function(e){return da(gn(e,1,Ko,!0))})),to=Gn((function(e){var t=Xs(e);return Ko(t)&&(t=a),da(gn(e,1,Ko,!0),ls(t,2))})),ro=Gn((function(e){var t=Xs(e);return t="function"==typeof t?t:a,da(gn(e,1,Ko,!0),a,t)}));function no(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Ko(e))return t=Yt(e.length,t),!0})),Qt(t,(function(t){return Dt(e,Kt(t))}))}function ao(e,t){if(!e||!e.length)return[];var r=no(e);return null==t?r:Dt(r,(function(e){return Ct(t,a,e)}))}var so=Gn((function(e,t){return Ko(e)?un(e,t):[]})),oo=Gn((function(e){return ma(Mt(e,Ko))})),io=Gn((function(e){var t=Xs(e);return Ko(t)&&(t=a),ma(Mt(e,Ko),ls(t,2))})),lo=Gn((function(e){var t=Xs(e);return t="function"==typeof t?t:a,ma(Mt(e,Ko),a,t)})),co=Gn(no);var uo=Gn((function(e){var t=e.length,r=t>1?e[t-1]:a;return r="function"==typeof r?(e.pop(),r):a,ao(e,r)}));function ho(e){var t=zr(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=rs((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,s=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof qr&&ys(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:fo,args:[s],thisArg:a}),new Ur(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(s)}));var mo=Ea((function(e,t,r){De.call(e,r)?++e[r]:an(e,r,1)}));var xo=Fa(Us),go=Fa(qs);function yo(e,t){return(Ho(e)?At:hn)(e,ls(t,3))}function vo(e,t){return(Ho(e)?Pt:fn)(e,ls(t,3))}var bo=Ea((function(e,t,r){De.call(e,r)?e[r].push(t):an(e,r,[t])}));var jo=Gn((function(e,t,n){var a=-1,s="function"==typeof t,o=Vo(e)?r(e.length):[];return hn(e,(function(e){o[++a]=s?Ct(t,e,n):Pn(e,t,n)})),o})),wo=Ea((function(e,t,r){an(e,r,t)}));function No(e,t){return(Ho(e)?Dt:zn)(e,ls(t,3))}var ko=Ea((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var So=Gn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&vs(e,t[0],t[1])?t=[]:r>2&&vs(t[0],t[1],t[2])&&(t=[t[0]]),Hn(e,gn(t,1),[])})),Oo=at||function(){return mt.Date.now()};function Co(e,t,r){return t=r?a:t,t=e&&null==t?e.length:t,Qa(e,u,a,a,a,a,t)}function _o(e,t){var r;if("function"!=typeof t)throw new Ae(s);return e=pi(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=a),r}}var Ao=Gn((function(e,t,r){var n=1;if(r.length){var a=dr(r,is(Ao));n|=c}return Qa(e,n,t,r,a)})),Po=Gn((function(e,t,r){var n=3;if(r.length){var a=dr(r,is(Po));n|=c}return Qa(t,n,e,r,a)}));function Eo(e,t,r){var n,o,i,l,c,d,u=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ae(s);function m(t){var r=n,s=o;return n=o=a,u=t,l=e.apply(s,r)}function x(e){var r=e-d;return d===a||r>=t||r<0||f&&e-u>=i}function g(){var e=Oo();if(x(e))return y(e);c=Ps(g,function(e){var r=t-(e-d);return f?yr(r,i-(e-u)):r}(e))}function y(e){return c=a,p&&n?m(e):(n=o=a,l)}function v(){var e=Oo(),r=x(e);if(n=arguments,o=this,d=e,r){if(c===a)return function(e){return u=e,c=Ps(g,t),h?m(e):l}(d);if(f)return wa(c),c=Ps(g,t),m(d)}return c===a&&(c=Ps(g,t)),l}return t=xi(t)||0,ei(r)&&(h=!!r.leading,i=(f="maxWait"in r)?Yt(xi(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),v.cancel=function(){c!==a&&wa(c),u=0,n=d=o=c=a},v.flush=function(){return c===a?l:y(Oo())},v}var Mo=Gn((function(e,t){return dn(e,1,t)})),To=Gn((function(e,t,r){return dn(e,xi(t)||0,r)}));function Io(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(s);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Io.Cache||Vr),r}function Do(e){if("function"!=typeof e)throw new Ae(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Io.Cache=Vr;var Ro=ba((function(e,t){var r=(t=1==t.length&&Ho(t[0])?Dt(t[0],Zt(ls())):Dt(gn(t,1),Zt(ls()))).length;return Gn((function(n){for(var a=-1,s=yr(n.length,r);++a<s;)n[a]=t[a].call(this,n[a]);return Ct(e,this,n)}))})),Lo=Gn((function(e,t){var r=dr(t,is(Lo));return Qa(e,c,a,t,r)})),Fo=Gn((function(e,t){var r=dr(t,is(Fo));return Qa(e,d,a,t,r)})),zo=rs((function(e,t){return Qa(e,h,a,a,a,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var $o=Va(On),Uo=Va((function(e,t){return e>=t})),qo=En(function(){return arguments}())?En:function(e){return ti(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},Ho=r.isArray,Wo=jt?Zt(jt):function(e){return ti(e)&&Sn(e)==I};function Vo(e){return null!=e&&Zo(e.length)&&!Qo(e)}function Ko(e){return ti(e)&&Vo(e)}var Yo=gt||xl,Xo=wt?Zt(wt):function(e){return ti(e)&&Sn(e)==j};function Go(e){if(!ti(e))return!1;var t=Sn(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ai(e)}function Qo(e){if(!ei(e))return!1;var t=Sn(e);return t==N||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==pi(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ei(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ti(e){return null!=e&&"object"==typeof e}var ri=Nt?Zt(Nt):function(e){return ti(e)&&ps(e)==S};function ni(e){return"number"==typeof e||ti(e)&&Sn(e)==O}function ai(e){if(!ti(e)||Sn(e)!=C)return!1;var t=Ve(e);if(null===t)return!0;var r=De.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ie.call(r)==ze}var si=kt?Zt(kt):function(e){return ti(e)&&Sn(e)==A};var oi=St?Zt(St):function(e){return ti(e)&&ps(e)==P};function ii(e){return"string"==typeof e||!Ho(e)&&ti(e)&&Sn(e)==E}function li(e){return"symbol"==typeof e||ti(e)&&Sn(e)==M}var ci=Ot?Zt(Ot):function(e){return ti(e)&&Zo(e.length)&&!!lt[Sn(e)]};var di=Va(Fn),ui=Va((function(e,t){return e<=t}));function hi(e){if(!e)return[];if(Vo(e))return ii(e)?pr(e):Aa(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=ps(e);return(t==S?lr:t==P?ur:Bi)(e)}function fi(e){return e?(e=xi(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pi(e){var t=fi(e),r=t%1;return t===t?r?t-r:t:0}function mi(e){return e?on(pi(e),0,x):0}function xi(e){if("number"==typeof e)return e;if(li(e))return m;if(ei(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ei(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=ge.test(e);return r||ve.test(e)?ht(e.slice(2),r?2:8):xe.test(e)?m:+e}function gi(e){return Pa(e,Mi(e))}function yi(e){return null==e?"":ca(e)}var vi=Ma((function(e,t){if(Ns(t)||Vo(t))Pa(t,Ei(t),e);else for(var r in t)De.call(t,r)&&en(e,r,t[r])})),bi=Ma((function(e,t){Pa(t,Mi(t),e)})),ji=Ma((function(e,t,r,n){Pa(t,Mi(t),e,n)})),wi=Ma((function(e,t,r,n){Pa(t,Ei(t),e,n)})),Ni=rs(sn);var ki=Gn((function(e,t){e=Oe(e);var r=-1,n=t.length,s=n>2?t[2]:a;for(s&&vs(t[0],t[1],s)&&(n=1);++r<n;)for(var o=t[r],i=Mi(o),l=-1,c=i.length;++l<c;){var d=i[l],u=e[d];(u===a||Bo(u,Me[d])&&!De.call(e,d))&&(e[d]=o[d])}return e})),Si=Gn((function(e){return e.push(a,Za),Ct(Ii,a,e)}));function Oi(e,t,r){var n=null==e?a:Nn(e,t);return n===a?r:n}function Ci(e,t){return null!=e&&ms(e,t,_n)}var _i=$a((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),el(nl)),Ai=$a((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(r):e[t]=[r]}),ls),Pi=Gn(Pn);function Ei(e){return Vo(e)?Xr(e):Rn(e)}function Mi(e){return Vo(e)?Xr(e,!0):Ln(e)}var Ti=Ma((function(e,t,r){Un(e,t,r)})),Ii=Ma((function(e,t,r,n){Un(e,t,r,n)})),Di=rs((function(e,t){var r={};if(null==e)return r;var n=!1;t=Dt(t,(function(t){return t=va(t,e),n||(n=t.length>1),t})),Pa(e,as(e),r),n&&(r=ln(r,7,es));for(var a=t.length;a--;)ua(r,t[a]);return r}));var Ri=rs((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Ci(e,r)}))}(e,t)}));function Li(e,t){if(null==e)return{};var r=Dt(as(e),(function(e){return[e]}));return t=ls(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Fi=Ga(Ei),zi=Ga(Mi);function Bi(e){return null==e?[]:er(e,Ei(e))}var $i=Ra((function(e,t,r){return t=t.toLowerCase(),e+(r?Ui(t):t)}));function Ui(e){return Gi(yi(e).toLowerCase())}function qi(e){return(e=yi(e))&&e.replace(je,ar).replace(tt,"")}var Hi=Ra((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Wi=Ra((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Vi=Da("toLowerCase");var Ki=Ra((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Yi=Ra((function(e,t,r){return e+(r?" ":"")+Gi(t)}));var Xi=Ra((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Gi=Da("toUpperCase");function Qi(e,t,r){return e=yi(e),(t=r?a:t)===a?function(e){return st.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ji=Gn((function(e,t){try{return Ct(e,a,t)}catch(r){return Go(r)?r:new ie(r)}})),Zi=rs((function(e,t){return At(t,(function(t){t=Rs(t),an(e,t,Ao(e[t],e))})),e}));function el(e){return function(){return e}}var tl=za(),rl=za(!0);function nl(e){return e}function al(e){return Dn("function"==typeof e?e:ln(e,1))}var sl=Gn((function(e,t){return function(r){return Pn(r,e,t)}})),ol=Gn((function(e,t){return function(r){return Pn(e,r,t)}}));function il(e,t,r){var n=Ei(t),a=wn(t,n);null!=r||ei(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=wn(t,Ei(t)));var s=!(ei(r)&&"chain"in r)||!!r.chain,o=Qo(e);return At(a,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=Aa(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function ll(){}var cl=qa(Dt),dl=qa(Et),ul=qa(zt);function hl(e){return bs(e)?Kt(Rs(e)):function(e){return function(t){return Nn(t,e)}}(e)}var fl=Wa(),pl=Wa(!0);function ml(){return[]}function xl(){return!1}var gl=Ua((function(e,t){return e+t}),0),yl=Ya("ceil"),vl=Ua((function(e,t){return e/t}),1),bl=Ya("floor");var jl=Ua((function(e,t){return e*t}),1),wl=Ya("round"),Nl=Ua((function(e,t){return e-t}),0);return zr.after=function(e,t){if("function"!=typeof t)throw new Ae(s);return e=pi(e),function(){if(--e<1)return t.apply(this,arguments)}},zr.ary=Co,zr.assign=vi,zr.assignIn=bi,zr.assignInWith=ji,zr.assignWith=wi,zr.at=Ni,zr.before=_o,zr.bind=Ao,zr.bindAll=Zi,zr.bindKey=Po,zr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ho(e)?e:[e]},zr.chain=ho,zr.chunk=function(e,t,n){t=(n?vs(e,t,n):t===a)?1:Yt(pi(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,i=0,l=r(ft(s/t));o<s;)l[i++]=na(e,o,o+=t);return l},zr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var s=e[t];s&&(a[n++]=s)}return a},zr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Rt(Ho(n)?Aa(n):[n],gn(t,1))},zr.cond=function(e){var t=null==e?0:e.length,r=ls();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ae(s);return[r(e[0]),e[1]]})):[],Gn((function(r){for(var n=-1;++n<t;){var a=e[n];if(Ct(a[0],this,r))return Ct(a[1],this,r)}}))},zr.conforms=function(e){return function(e){var t=Ei(e);return function(r){return cn(r,e,t)}}(ln(e,1))},zr.constant=el,zr.countBy=mo,zr.create=function(e,t){var r=Br(e);return null==t?r:nn(r,t)},zr.curry=function e(t,r,n){var s=Qa(t,8,a,a,a,a,a,r=n?a:r);return s.placeholder=e.placeholder,s},zr.curryRight=function e(t,r,n){var s=Qa(t,l,a,a,a,a,a,r=n?a:r);return s.placeholder=e.placeholder,s},zr.debounce=Eo,zr.defaults=ki,zr.defaultsDeep=Si,zr.defer=Mo,zr.delay=To,zr.difference=zs,zr.differenceBy=Bs,zr.differenceWith=$s,zr.drop=function(e,t,r){var n=null==e?0:e.length;return n?na(e,(t=r||t===a?1:pi(t))<0?0:t,n):[]},zr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?na(e,0,(t=n-(t=r||t===a?1:pi(t)))<0?0:t):[]},zr.dropRightWhile=function(e,t){return e&&e.length?fa(e,ls(t,3),!0,!0):[]},zr.dropWhile=function(e,t){return e&&e.length?fa(e,ls(t,3),!0):[]},zr.fill=function(e,t,r,n){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&vs(e,t,r)&&(r=0,n=s),function(e,t,r,n){var s=e.length;for((r=pi(r))<0&&(r=-r>s?0:s+r),(n=n===a||n>s?s:pi(n))<0&&(n+=s),n=r>n?0:mi(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},zr.filter=function(e,t){return(Ho(e)?Mt:xn)(e,ls(t,3))},zr.flatMap=function(e,t){return gn(No(e,t),1)},zr.flatMapDeep=function(e,t){return gn(No(e,t),f)},zr.flatMapDepth=function(e,t,r){return r=r===a?1:pi(r),gn(No(e,t),r)},zr.flatten=Hs,zr.flattenDeep=function(e){return(null==e?0:e.length)?gn(e,f):[]},zr.flattenDepth=function(e,t){return(null==e?0:e.length)?gn(e,t=t===a?1:pi(t)):[]},zr.flip=function(e){return Qa(e,512)},zr.flow=tl,zr.flowRight=rl,zr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},zr.functions=function(e){return null==e?[]:wn(e,Ei(e))},zr.functionsIn=function(e){return null==e?[]:wn(e,Mi(e))},zr.groupBy=bo,zr.initial=function(e){return(null==e?0:e.length)?na(e,0,-1):[]},zr.intersection=Vs,zr.intersectionBy=Ks,zr.intersectionWith=Ys,zr.invert=_i,zr.invertBy=Ai,zr.invokeMap=jo,zr.iteratee=al,zr.keyBy=wo,zr.keys=Ei,zr.keysIn=Mi,zr.map=No,zr.mapKeys=function(e,t){var r={};return t=ls(t,3),bn(e,(function(e,n,a){an(r,t(e,n,a),e)})),r},zr.mapValues=function(e,t){var r={};return t=ls(t,3),bn(e,(function(e,n,a){an(r,n,t(e,n,a))})),r},zr.matches=function(e){return Bn(ln(e,1))},zr.matchesProperty=function(e,t){return $n(e,ln(t,1))},zr.memoize=Io,zr.merge=Ti,zr.mergeWith=Ii,zr.method=sl,zr.methodOf=ol,zr.mixin=il,zr.negate=Do,zr.nthArg=function(e){return e=pi(e),Gn((function(t){return qn(t,e)}))},zr.omit=Di,zr.omitBy=function(e,t){return Li(e,Do(ls(t)))},zr.once=function(e){return _o(2,e)},zr.orderBy=function(e,t,r,n){return null==e?[]:(Ho(t)||(t=null==t?[]:[t]),Ho(r=n?a:r)||(r=null==r?[]:[r]),Hn(e,t,r))},zr.over=cl,zr.overArgs=Ro,zr.overEvery=dl,zr.overSome=ul,zr.partial=Lo,zr.partialRight=Fo,zr.partition=ko,zr.pick=Ri,zr.pickBy=Li,zr.property=hl,zr.propertyOf=function(e){return function(t){return null==e?a:Nn(e,t)}},zr.pull=Gs,zr.pullAll=Qs,zr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,ls(r,2)):e},zr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,a,r):e},zr.pullAt=Js,zr.range=fl,zr.rangeRight=pl,zr.rearg=zo,zr.reject=function(e,t){return(Ho(e)?Mt:xn)(e,Do(ls(t,3)))},zr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],s=e.length;for(t=ls(t,3);++n<s;){var o=e[n];t(o,n,e)&&(r.push(o),a.push(n))}return Kn(e,a),r},zr.rest=function(e,t){if("function"!=typeof e)throw new Ae(s);return Gn(e,t=t===a?t:pi(t))},zr.reverse=Zs,zr.sampleSize=function(e,t,r){return t=(r?vs(e,t,r):t===a)?1:pi(t),(Ho(e)?Qr:Jn)(e,t)},zr.set=function(e,t,r){return null==e?e:Zn(e,t,r)},zr.setWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:Zn(e,t,r,n)},zr.shuffle=function(e){return(Ho(e)?Jr:ra)(e)},zr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&vs(e,t,r)?(t=0,r=n):(t=null==t?0:pi(t),r=r===a?n:pi(r)),na(e,t,r)):[]},zr.sortBy=So,zr.sortedUniq=function(e){return e&&e.length?ia(e):[]},zr.sortedUniqBy=function(e,t){return e&&e.length?ia(e,ls(t,2)):[]},zr.split=function(e,t,r){return r&&"number"!=typeof r&&vs(e,t,r)&&(t=r=a),(r=r===a?x:r>>>0)?(e=yi(e))&&("string"==typeof t||null!=t&&!si(t))&&!(t=ca(t))&&ir(e)?ja(pr(e),0,r):e.split(t,r):[]},zr.spread=function(e,t){if("function"!=typeof e)throw new Ae(s);return t=null==t?0:Yt(pi(t),0),Gn((function(r){var n=r[t],a=ja(r,0,t);return n&&Rt(a,n),Ct(e,this,a)}))},zr.tail=function(e){var t=null==e?0:e.length;return t?na(e,1,t):[]},zr.take=function(e,t,r){return e&&e.length?na(e,0,(t=r||t===a?1:pi(t))<0?0:t):[]},zr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?na(e,(t=n-(t=r||t===a?1:pi(t)))<0?0:t,n):[]},zr.takeRightWhile=function(e,t){return e&&e.length?fa(e,ls(t,3),!1,!0):[]},zr.takeWhile=function(e,t){return e&&e.length?fa(e,ls(t,3)):[]},zr.tap=function(e,t){return t(e),e},zr.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new Ae(s);return ei(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Eo(e,t,{leading:n,maxWait:t,trailing:a})},zr.thru=fo,zr.toArray=hi,zr.toPairs=Fi,zr.toPairsIn=zi,zr.toPath=function(e){return Ho(e)?Dt(e,Rs):li(e)?[e]:Aa(Ds(yi(e)))},zr.toPlainObject=gi,zr.transform=function(e,t,r){var n=Ho(e),a=n||Yo(e)||ci(e);if(t=ls(t,4),null==r){var s=e&&e.constructor;r=a?n?new s:[]:ei(e)&&Qo(s)?Br(Ve(e)):{}}return(a?At:bn)(e,(function(e,n,a){return t(r,e,n,a)})),r},zr.unary=function(e){return Co(e,1)},zr.union=eo,zr.unionBy=to,zr.unionWith=ro,zr.uniq=function(e){return e&&e.length?da(e):[]},zr.uniqBy=function(e,t){return e&&e.length?da(e,ls(t,2)):[]},zr.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?da(e,a,t):[]},zr.unset=function(e,t){return null==e||ua(e,t)},zr.unzip=no,zr.unzipWith=ao,zr.update=function(e,t,r){return null==e?e:ha(e,t,ya(r))},zr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ha(e,t,ya(r),n)},zr.values=Bi,zr.valuesIn=function(e){return null==e?[]:er(e,Mi(e))},zr.without=so,zr.words=Qi,zr.wrap=function(e,t){return Lo(ya(t),e)},zr.xor=oo,zr.xorBy=io,zr.xorWith=lo,zr.zip=co,zr.zipObject=function(e,t){return xa(e||[],t||[],en)},zr.zipObjectDeep=function(e,t){return xa(e||[],t||[],Zn)},zr.zipWith=uo,zr.entries=Fi,zr.entriesIn=zi,zr.extend=bi,zr.extendWith=ji,il(zr,zr),zr.add=gl,zr.attempt=Ji,zr.camelCase=$i,zr.capitalize=Ui,zr.ceil=yl,zr.clamp=function(e,t,r){return r===a&&(r=t,t=a),r!==a&&(r=(r=xi(r))===r?r:0),t!==a&&(t=(t=xi(t))===t?t:0),on(xi(e),t,r)},zr.clone=function(e){return ln(e,4)},zr.cloneDeep=function(e){return ln(e,5)},zr.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:a)},zr.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:a)},zr.conformsTo=function(e,t){return null==t||cn(e,t,Ei(t))},zr.deburr=qi,zr.defaultTo=function(e,t){return null==e||e!==e?t:e},zr.divide=vl,zr.endsWith=function(e,t,r){e=yi(e),t=ca(t);var n=e.length,s=r=r===a?n:on(pi(r),0,n);return(r-=t.length)>=0&&e.slice(r,s)==t},zr.eq=Bo,zr.escape=function(e){return(e=yi(e))&&Q.test(e)?e.replace(X,sr):e},zr.escapeRegExp=function(e){return(e=yi(e))&&se.test(e)?e.replace(ae,"\\$&"):e},zr.every=function(e,t,r){var n=Ho(e)?Et:pn;return r&&vs(e,t,r)&&(t=a),n(e,ls(t,3))},zr.find=xo,zr.findIndex=Us,zr.findKey=function(e,t){return $t(e,ls(t,3),bn)},zr.findLast=go,zr.findLastIndex=qs,zr.findLastKey=function(e,t){return $t(e,ls(t,3),jn)},zr.floor=bl,zr.forEach=yo,zr.forEachRight=vo,zr.forIn=function(e,t){return null==e?e:yn(e,ls(t,3),Mi)},zr.forInRight=function(e,t){return null==e?e:vn(e,ls(t,3),Mi)},zr.forOwn=function(e,t){return e&&bn(e,ls(t,3))},zr.forOwnRight=function(e,t){return e&&jn(e,ls(t,3))},zr.get=Oi,zr.gt=$o,zr.gte=Uo,zr.has=function(e,t){return null!=e&&ms(e,t,Cn)},zr.hasIn=Ci,zr.head=Ws,zr.identity=nl,zr.includes=function(e,t,r,n){e=Vo(e)?e:Bi(e),r=r&&!n?pi(r):0;var a=e.length;return r<0&&(r=Yt(a+r,0)),ii(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&qt(e,t,r)>-1},zr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:pi(r);return a<0&&(a=Yt(n+a,0)),qt(e,t,a)},zr.inRange=function(e,t,r){return t=fi(t),r===a?(r=t,t=0):r=fi(r),function(e,t,r){return e>=yr(t,r)&&e<Yt(t,r)}(e=xi(e),t,r)},zr.invoke=Pi,zr.isArguments=qo,zr.isArray=Ho,zr.isArrayBuffer=Wo,zr.isArrayLike=Vo,zr.isArrayLikeObject=Ko,zr.isBoolean=function(e){return!0===e||!1===e||ti(e)&&Sn(e)==b},zr.isBuffer=Yo,zr.isDate=Xo,zr.isElement=function(e){return ti(e)&&1===e.nodeType&&!ai(e)},zr.isEmpty=function(e){if(null==e)return!0;if(Vo(e)&&(Ho(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||ci(e)||qo(e)))return!e.length;var t=ps(e);if(t==S||t==P)return!e.size;if(Ns(e))return!Rn(e).length;for(var r in e)if(De.call(e,r))return!1;return!0},zr.isEqual=function(e,t){return Mn(e,t)},zr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:a)?r(e,t):a;return n===a?Mn(e,t,a,r):!!n},zr.isError=Go,zr.isFinite=function(e){return"number"==typeof e&&vt(e)},zr.isFunction=Qo,zr.isInteger=Jo,zr.isLength=Zo,zr.isMap=ri,zr.isMatch=function(e,t){return e===t||Tn(e,t,ds(t))},zr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:a,Tn(e,t,ds(t),r)},zr.isNaN=function(e){return ni(e)&&e!=+e},zr.isNative=function(e){if(ws(e))throw new ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(e)},zr.isNil=function(e){return null==e},zr.isNull=function(e){return null===e},zr.isNumber=ni,zr.isObject=ei,zr.isObjectLike=ti,zr.isPlainObject=ai,zr.isRegExp=si,zr.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=p},zr.isSet=oi,zr.isString=ii,zr.isSymbol=li,zr.isTypedArray=ci,zr.isUndefined=function(e){return e===a},zr.isWeakMap=function(e){return ti(e)&&ps(e)==T},zr.isWeakSet=function(e){return ti(e)&&"[object WeakSet]"==Sn(e)},zr.join=function(e,t){return null==e?"":bt.call(e,t)},zr.kebabCase=Hi,zr.last=Xs,zr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var s=n;return r!==a&&(s=(s=pi(r))<0?Yt(n+s,0):yr(s,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,s):Ut(e,Wt,s,!0)},zr.lowerCase=Wi,zr.lowerFirst=Vi,zr.lt=di,zr.lte=ui,zr.max=function(e){return e&&e.length?mn(e,nl,On):a},zr.maxBy=function(e,t){return e&&e.length?mn(e,ls(t,2),On):a},zr.mean=function(e){return Vt(e,nl)},zr.meanBy=function(e,t){return Vt(e,ls(t,2))},zr.min=function(e){return e&&e.length?mn(e,nl,Fn):a},zr.minBy=function(e,t){return e&&e.length?mn(e,ls(t,2),Fn):a},zr.stubArray=ml,zr.stubFalse=xl,zr.stubObject=function(){return{}},zr.stubString=function(){return""},zr.stubTrue=function(){return!0},zr.multiply=jl,zr.nth=function(e,t){return e&&e.length?qn(e,pi(t)):a},zr.noConflict=function(){return mt._===this&&(mt._=Be),this},zr.noop=ll,zr.now=Oo,zr.pad=function(e,t,r){e=yi(e);var n=(t=pi(t))?fr(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return Ha(pt(a),r)+e+Ha(ft(a),r)},zr.padEnd=function(e,t,r){e=yi(e);var n=(t=pi(t))?fr(e):0;return t&&n<t?e+Ha(t-n,r):e},zr.padStart=function(e,t,r){e=yi(e);var n=(t=pi(t))?fr(e):0;return t&&n<t?Ha(t-n,r)+e:e},zr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),br(yi(e).replace(oe,""),t||0)},zr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&vs(e,t,r)&&(t=r=a),r===a&&("boolean"==typeof t?(r=t,t=a):"boolean"==typeof e&&(r=e,e=a)),e===a&&t===a?(e=0,t=1):(e=fi(e),t===a?(t=e,e=0):t=fi(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var s=jr();return yr(e+s*(t-e+ut("1e-"+((s+"").length-1))),t)}return Yn(e,t)},zr.reduce=function(e,t,r){var n=Ho(e)?Lt:Xt,a=arguments.length<3;return n(e,ls(t,4),r,a,hn)},zr.reduceRight=function(e,t,r){var n=Ho(e)?Ft:Xt,a=arguments.length<3;return n(e,ls(t,4),r,a,fn)},zr.repeat=function(e,t,r){return t=(r?vs(e,t,r):t===a)?1:pi(t),Xn(yi(e),t)},zr.replace=function(){var e=arguments,t=yi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zr.result=function(e,t,r){var n=-1,s=(t=va(t,e)).length;for(s||(s=1,e=a);++n<s;){var o=null==e?a:e[Rs(t[n])];o===a&&(n=s,o=r),e=Qo(o)?o.call(e):o}return e},zr.round=wl,zr.runInContext=e,zr.sample=function(e){return(Ho(e)?Gr:Qn)(e)},zr.size=function(e){if(null==e)return 0;if(Vo(e))return ii(e)?fr(e):e.length;var t=ps(e);return t==S||t==P?e.size:Rn(e).length},zr.snakeCase=Ki,zr.some=function(e,t,r){var n=Ho(e)?zt:aa;return r&&vs(e,t,r)&&(t=a),n(e,ls(t,3))},zr.sortedIndex=function(e,t){return sa(e,t)},zr.sortedIndexBy=function(e,t,r){return oa(e,t,ls(r,2))},zr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=sa(e,t);if(n<r&&Bo(e[n],t))return n}return-1},zr.sortedLastIndex=function(e,t){return sa(e,t,!0)},zr.sortedLastIndexBy=function(e,t,r){return oa(e,t,ls(r,2),!0)},zr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=sa(e,t,!0)-1;if(Bo(e[r],t))return r}return-1},zr.startCase=Yi,zr.startsWith=function(e,t,r){return e=yi(e),r=null==r?0:on(pi(r),0,e.length),t=ca(t),e.slice(r,r+t.length)==t},zr.subtract=Nl,zr.sum=function(e){return e&&e.length?Gt(e,nl):0},zr.sumBy=function(e,t){return e&&e.length?Gt(e,ls(t,2)):0},zr.template=function(e,t,r){var n=zr.templateSettings;r&&vs(e,t,r)&&(t=a),e=yi(e),t=ji({},t,n,Ja);var s,o,i=ji({},t.imports,n.imports,Ja),l=Ei(i),c=er(i,l),d=0,u=t.interpolate||we,h="__p += '",f=Ce((t.escape||we).source+"|"+u.source+"|"+(u===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(f,(function(t,r,n,a,i,l){return n||(n=a),h+=e.slice(d,l).replace(Ne,or),r&&(s=!0,h+="' +\n__e("+r+") +\n'"),i&&(o=!0,h+="';\n"+i+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),h+="';\n";var m=De.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new ie("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(W,""):h).replace(V,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var x=Ji((function(){return ke(l,p+"return "+h).apply(a,c)}));if(x.source=h,Go(x))throw x;return x},zr.times=function(e,t){if((e=pi(e))<1||e>p)return[];var r=x,n=yr(e,x);t=ls(t),e-=x;for(var a=Qt(n,t);++r<e;)t(r);return a},zr.toFinite=fi,zr.toInteger=pi,zr.toLength=mi,zr.toLower=function(e){return yi(e).toLowerCase()},zr.toNumber=xi,zr.toSafeInteger=function(e){return e?on(pi(e),-9007199254740991,p):0===e?e:0},zr.toString=yi,zr.toUpper=function(e){return yi(e).toUpperCase()},zr.trim=function(e,t,r){if((e=yi(e))&&(r||t===a))return Jt(e);if(!e||!(t=ca(t)))return e;var n=pr(e),s=pr(t);return ja(n,rr(n,s),nr(n,s)+1).join("")},zr.trimEnd=function(e,t,r){if((e=yi(e))&&(r||t===a))return e.slice(0,mr(e)+1);if(!e||!(t=ca(t)))return e;var n=pr(e);return ja(n,0,nr(n,pr(t))+1).join("")},zr.trimStart=function(e,t,r){if((e=yi(e))&&(r||t===a))return e.replace(oe,"");if(!e||!(t=ca(t)))return e;var n=pr(e);return ja(n,rr(n,pr(t))).join("")},zr.truncate=function(e,t){var r=30,n="...";if(ei(t)){var s="separator"in t?t.separator:s;r="length"in t?pi(t.length):r,n="omission"in t?ca(t.omission):n}var o=(e=yi(e)).length;if(ir(e)){var i=pr(e);o=i.length}if(r>=o)return e;var l=r-fr(n);if(l<1)return n;var c=i?ja(i,0,l).join(""):e.slice(0,l);if(s===a)return c+n;if(i&&(l+=c.length-l),si(s)){if(e.slice(l).search(s)){var d,u=c;for(s.global||(s=Ce(s.source,yi(me.exec(s))+"g")),s.lastIndex=0;d=s.exec(u);)var h=d.index;c=c.slice(0,h===a?l:h)}}else if(e.indexOf(ca(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+n},zr.unescape=function(e){return(e=yi(e))&&G.test(e)?e.replace(Y,xr):e},zr.uniqueId=function(e){var t=++Re;return yi(e)+t},zr.upperCase=Xi,zr.upperFirst=Gi,zr.each=yo,zr.eachRight=vo,zr.first=Ws,il(zr,function(){var e={};return bn(zr,(function(t,r){De.call(zr.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),zr.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zr[e].placeholder=zr})),At(["drop","take"],(function(e,t){qr.prototype[e]=function(r){r=r===a?1:Yt(pi(r),0);var n=this.__filtered__&&!t?new qr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,x),type:e+(n.__dir__<0?"Right":"")}),n},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),At(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),At(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(nl)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Gn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return Pn(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(Do(ls(e)))},qr.prototype.slice=function(e,t){e=pi(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==a&&(r=(t=pi(t))<0?r.dropRight(-t):r.take(t-e)),r)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(x)},bn(qr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),s=zr[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);s&&(zr.prototype[t]=function(){var t=this.__wrapped__,i=n?[1]:arguments,l=t instanceof qr,c=i[0],d=l||Ho(t),u=function(e){var t=s.apply(zr,Rt([e],i));return n&&h?t[0]:t};d&&r&&"function"==typeof c&&1!=c.length&&(l=d=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=l&&!f;if(!o&&d){t=m?t:new qr(this);var x=e.apply(t,i);return x.__actions__.push({func:fo,args:[u],thisArg:a}),new Ur(x,h)}return p&&m?e.apply(this,i):(x=this.thru(u),p?n?x.value()[0]:x.value():x)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);zr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(Ho(a)?a:[],e)}return this[r]((function(r){return t.apply(Ho(r)?r:[],e)}))}})),bn(qr.prototype,(function(e,t){var r=zr[t];if(r){var n=r.name+"";De.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[Ba(a,2).name]=[{name:"wrapper",func:a}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Aa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Aa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Aa(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ho(e),n=t<0,a=r?e.length:0,s=function(e,t,r){var n=-1,a=r.length;for(;++n<a;){var s=r[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yr(t,e+o);break;case"takeRight":e=Yt(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=s.start,i=s.end,l=i-o,c=n?i:o-1,d=this.__iteratees__,u=d.length,h=0,f=yr(l,this.__takeCount__);if(!r||!n&&a==l&&f==l)return pa(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,x=e[c+=t];++m<u;){var g=d[m],y=g.iteratee,v=g.type,b=y(x);if(2==v)x=b;else if(!b){if(1==v)continue e;break e}}p[h++]=x}return p},zr.prototype.at=po,zr.prototype.chain=function(){return ho(this)},zr.prototype.commit=function(){return new Ur(this.value(),this.__chain__)},zr.prototype.next=function(){this.__values__===a&&(this.__values__=hi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},zr.prototype.plant=function(e){for(var t,r=this;r instanceof $r;){var n=Fs(r);n.__index__=0,n.__values__=a,t?s.__wrapped__=n:t=n;var s=n;r=r.__wrapped__}return s.__wrapped__=e,t},zr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Zs],thisArg:a}),new Ur(t,this.__chain__)}return this.thru(Zs)},zr.prototype.toJSON=zr.prototype.valueOf=zr.prototype.value=function(){return pa(this.__wrapped__,this.__actions__)},zr.prototype.first=zr.prototype.head,Qe&&(zr.prototype[Qe]=function(){return this}),zr}();mt._=gr,(n=function(){return gr}.call(t,r,t,e))===a||(e.exports=n)}.call(this)},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),s=r(8114);e.exports=function(e,t,r,o,i,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,x=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var g=e[p],y=t[p];if(o)var v=c?o(y,g,p,t,e,l):o(g,y,p,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(x){if(!a(t,(function(e,t){if(!s(x,t)&&(g===e||i(g,e,r,o,l)))return x.push(t)}))){m=!1;break}}else if(g!==y&&!i(g,y,r,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var s=t[r],o=e[s];t[r]=[s,o,n(o)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),s=r(2597),o=r(914);e.exports=function(e){return s(e)?n(o(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),s=r(801),o=Math.max,i=Math.min;e.exports=function(e,t,r){var l,c,d,u,h,f,p=0,m=!1,x=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=l,n=c;return l=c=void 0,p=t,u=e.apply(n,r)}function v(e){var r=e-f;return void 0===f||r>=t||r<0||x&&e-p>=d}function b(){var e=a();if(v(e))return j(e);h=setTimeout(b,function(e){var r=t-(e-f);return x?i(r,d-(e-p)):r}(e))}function j(e){return h=void 0,g&&l?y(e):(l=c=void 0,u)}function w(){var e=a(),r=v(e);if(l=arguments,c=this,f=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(b,t),m?y(e):u}(f);if(x)return clearTimeout(h),h=setTimeout(b,t),y(f)}return void 0===h&&(h=setTimeout(b,t)),u}return t=s(t)||0,n(r)&&(m=!!r.leading,d=(x="maxWait"in r)?o(s(r.maxWait)||0,t):d,g="trailing"in r?!!r.trailing:g),w.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},w.flush=function(){return void 0===h?u:j(a())},w}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(s,"$1"):r||e)})),t}));e.exports=o},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,m(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:N.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+_(l,0):s,j(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(o,t,a,"",(function(e){return e}))):null!=o&&(O(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+_(i=e[c],c);l+=A(i,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,a,d=s+_(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var s=t(e);return a(e)?s:n(s,r(e))}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),a=r(5866),s=r(1558),o=r(8114),i=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,d=a,u=e.length,h=!0,f=[],p=f;if(r)h=!1,d=s;else if(u>=200){var m=t?null:i(e);if(m)return l(m);h=!1,d=o,p=new n}else p=t?[]:f;e:for(;++c<u;){var x=e[c],g=t?t(x):x;if(x=r||0!==x?x:0,h&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),f.push(x)}else d(p,g,r)||(p!==f&&p.push(g),f.push(x))}return f}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?n.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(l){}var a=o.call(e);return n&&(t?e[i]=r:delete e[i]),a}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),s=r(2165),o=r(4052),i=r(929);e.exports=function(e,t,r){var l=o(e)?n:s;return r&&i(e,t,r)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),s=r(438),o=r(9394),i=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),s=r(3366),o=r(2597),i=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return o(e)&&i(t)?l(c(e),t):function(r){var o=a(r,e);return void 0===o&&o===t?s(r,e):n(t,o,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),s=r(4079),o=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:s(o(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),s=r(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),s=r(793),o=r(7760),i=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,i=a(s.length-t,0),l=Array(i);++o<i;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),s=r(6350);e.exports=function(e,t){return s(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,o,i){var l=1&r,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:a.call(t,h)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=l;++u<d;){var g=e[h=c[u]],y=t[h];if(s)var v=l?s(y,g,h,t,e,i):s(g,y,h,e,t,i);if(!(void 0===v?g===y||o(g,y,r,s,i):v)){m=!1;break}x||(x="constructor"==h)}if(m&&!x){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(m=!1)}return i.delete(e),i.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,s=e.criteria,o=t.criteria,i=s.length,l=r.length;++a<i;){var c=n(s[a],o[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===r(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===s}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),s=r(9987),o=r(5752),i=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,x,g){var y=l(e),v=l(t),b=y?h:i(e),j=v?h:i(t),w=(b=b==u?f:b)==f,N=(j=j==u?f:j)==f,k=b==j;if(k&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(k&&!w)return g||(g=new n),y||d(e)?a(e,t,r,m,x,g):s(e,t,b,r,m,x,g);if(!(1&r)){var S=w&&p.call(e,"__wrapped__"),O=N&&p.call(t,"__wrapped__");if(S||O){var C=S?e.value():e,_=O?t.value():t;return g||(g=new n),x(C,_,r,m,g)}}return!!k&&(g||(g=new n),o(e,t,r,m,x,g))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var s=r.length,o=t?s:-1,i=Object(r);(t?o--:++o<s)&&!1!==a(i[o],o,i););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,s){var o=r.length,i=o,l=!s;if(null==e)return!i;for(e=Object(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var d=(c=r[o])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var f=new n;if(s)var p=s(u,h,d,e,t,f);if(!(void 0===p?a(h,u,3,s,f):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();e.exports=s},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),s=16-(a-n);if(n=a,s>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,s=e===e,o=n(e),i=void 0!==t,l=null===t,c=t===t,d=n(t);if(!l&&!d&&!o&&e>t||o&&i&&c&&!l&&!d||a&&i&&c||!r&&c||!s)return 1;if(!a&&!o&&!d&&e<t||d&&r&&s&&!a&&!o||l&&r&&s||!i&&s||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&n.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),s=r(6095),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),s=r(5387),o=r(2070),i=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(n),x=c(a),g=c(s),y=c(o),v=c(i),b=l;(n&&b(new n(new ArrayBuffer(1)))!=p||a&&b(new a)!=d||s&&b(s.resolve())!=u||o&&b(new o)!=h||i&&b(new i)!=f)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case x:return d;case g:return u;case y:return h;case v:return f}return t}),e.exports=b},6954:(e,t,r)=>{var n=r(1629),a=r(7857),s=r(6686),o=r(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(n(e)?h:i).test(o(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,s,o,i){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),s=r(9096),o=r(4052),i=r(929);e.exports=function(e,t,r){var l=o(e)?n:a;return r&&i(e,t,r)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),s=r(4052),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),s=r(4190),o=r(1946),i=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,m=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,b(e),!m)if(null!==n(c))m=!0,T(w);else{var t=n(d);null!==t&&I(j,t.startTime-e)}}function w(e,r){m=!1,x&&(x=!1,y(O),O=-1),p=!0;var s=f;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===n(c)&&a(c),b(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&I(j,u.startTime-r),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,O=-1,C=5,_=-1;function A(){return!(t.unstable_now()-_<C)}function P(){if(null!==S){var e=t.unstable_now();_=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,M=E.port2;E.port1.onmessage=P,N=function(){M.postMessage(null)}}else N=function(){g(P,0)};function T(e){S=e,k||(k=!0,N())}function I(e,r){O=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,T(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(x?(y(O),O=-1):x=!0,I(j,s-o))):(e.sortIndex=i,r(c,e),m||p||(m=!0,T(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var i=new a(n,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],i]:e._events[l].push(i):(e._events[l]=i,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),i.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},i.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,o=new Array(s);a<s;a++)o[a]=n[a].fn;return o},i.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},i.prototype.emit=function(e,t,n,a,s,o){var i=r?r+e:e;if(!this._events[i])return!1;var l,c,d=this._events[i],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,s),!0;case 6:return d.fn.call(d.context,t,n,a,s,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},i.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},i.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},i.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||a&&!i.once||n&&i.context!==n||o(this,s);else{for(var l=0,c=[],d=i.length;l<d;l++)(i[l].fn!==t||a&&!i[l].once||n&&i[l].context!==n)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=r,i.EventEmitter=i,e.exports=i},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,r)=>{var n=r(755),a=r(2536),s=r(5647),o=r(929),i=s((function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=i},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),s=r(9115),o=r(1069);e.exports=function(e){return function(t){t=o(t);var r=a(t)?s(t):void 0,i=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return i[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),s=r(2074),o=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,x=u(1286742750677284.5),g={};function y(e,t){var r,n,a,s,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),i?_(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a){for(s<0?(n=c,s=-s,l=d.length):(n=d,a=o,l=c.length),s>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/p|0,c[s]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,i?_(t,h):t}function v(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=S(r)),s+=n;(r=7-(n=(o=e[t])+"").length)&&(s+=S(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},g.dividedBy=g.div=function(e){return j(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return _(j(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(i=!1,t=j(O(r,o),O(e,o),o),i=!0,_(t,s))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):y(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(i=!1,t=j(r,e,0,1).times(e),i=!0,r.minus(t)):_(new n(r),a)},g.naturalExponential=g.exp=function(){return w(this)},g.naturalLogarithm=g.ln=function(){return O(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):A(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},g.squareRoot=g.sqrt=function(){var e,t,r,n,a,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),i=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(a.toString()),a=o=(r=d.precision)+3;;)if(n=(s=n).plus(j(c,s,o+2)).times(.5),b(s.d).slice(0,o)===(t=b(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(_(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if("9999"!=t)break;o+=4}return i=!0,_(n,r)},g.times=g.mul=function(e){var t,r,n,a,s,o,l,c,d,u=this,h=u.constructor,f=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,(c=f.length)<(d=m.length)&&(s=f,f=m,m=s,o=c,c=d,d=o),s=[],n=o=c+d;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*f[a-n-1]+t,s[a--]=l%p|0,t=l/p|0;s[a]=(s[a]+t)%p|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,i?_(e,h.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(v(e,0,s),void 0===t?t=n.rounding:v(t,0,8),_(r,e+N(r)+1,t))},g.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=P(n,!0):(v(e,0,s),void 0===t?t=a.rounding:v(t,0,8),r=P(n=_(new a(n),e+1,t),!0,e+1)),r},g.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?P(a):(v(e,0,s),void 0===t?t=o.rounding:v(t,0,8),r=P((n=_(new o(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return _(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,r,n,s,o,c,d=this,h=d.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(n=h.precision,e.eq(a))return _(d,n);if(c=(t=e.e)>=(r=e.d.length-1),o=d.s,c){if((r=f<0?-f:f)<=m){for(s=new h(a),t=Math.ceil(n/7+4),i=!1;r%2&&E((s=s.times(d)).d,t),0!==(r=u(r/2));)E((d=d.times(d)).d,t);return i=!0,e.s<0?new h(a).div(s):_(s,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,i=!1,s=e.times(O(d,n+12)),i=!0,(s=w(s)).s=o,s},g.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=P(a,(r=N(a))<=o.toExpNeg||r>=o.toExpPos):(v(e,1,s),void 0===t?t=o.rounding:v(t,0,8),n=P(a=_(new o(a),e,t),e<=(r=N(a))||r<=o.toExpNeg,e)),n},g.toSignificantDigits=g.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(v(e,1,s),void 0===t?t=r.rounding:v(t,0,8)),_(new r(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,o){var i,c,d,u,h,f,m,x,g,y,v,b,j,w,k,S,O,C,A=n.constructor,P=n.s==a.s?1:-1,E=n.d,M=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,O=M.length,k=E.length,x=(m=new A(P)).d=[],d=0;M[d]==(E[d]||0);)++d;if(M[d]>(E[d]||0)&&--c,(b=null==s?s=A.precision:o?s+(N(n)-N(a))+1:s)<0)return new A(0);if(b=b/7+2|0,d=0,1==O)for(u=0,M=M[0],b++;(d<k||u)&&b--;d++)j=u*p+(E[d]||0),x[d]=j/M|0,u=j%M|0;else{for((u=p/(M[0]+1)|0)>1&&(M=e(M,u),E=e(E,u),O=M.length,k=E.length),w=O,y=(g=E.slice(0,O)).length;y<O;)g[y++]=0;(C=M.slice()).unshift(0),S=M[0],M[1]>=p/2&&++S;do{u=0,(i=t(M,g,O,y))<0?(v=g[0],O!=y&&(v=v*p+(g[1]||0)),(u=v/S|0)>1?(u>=p&&(u=p-1),1==(i=t(h=e(M,u),g,f=h.length,y=g.length))&&(u--,r(h,O<f?C:M,f))):(0==u&&(i=u=1),h=M.slice()),(f=h.length)<y&&h.unshift(0),r(g,h,y),-1==i&&(i=t(M,g,O,y=g.length))<1&&(u++,r(g,O<y?C:M,y)),y=g.length):0===i&&(u++,g=[0]),x[d++]=u,i&&g[0]?g[y++]=E[w]||0:(g=[E[w]],y=1)}while((w++<k||void 0!==g[0])&&b--)}return x[0]||x.shift(),m.e=c,_(m,o?s+N(m)+1:s)}}();function w(e,t){var r,n,s,o,l,c=0,u=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new f(a);for(null==t?(i=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,r=n=s=new f(a),f.precision=l;;){if(n=_(n.times(e),l),r=r.times(++c),b((o=s.plus(j(n,r,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;u--;)s=_(s.times(s),l);return f.precision=p,null==t?(i=!0,_(s,p)):s}s=o}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw i=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function O(e,t){var r,n,s,o,c,d,u,h,f,p=1,m=e,x=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new g(0);if(null==t?(i=!1,h=y):h=t,m.eq(10))return null==t&&(i=!0),k(g,h);if(h+=10,g.precision=h,n=(r=b(x)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return u=k(g,h+2,y).times(o+""),m=O(new g(n+"."+r.slice(1)),h-10).plus(u),g.precision=y,null==t?(i=!0,_(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),d=c=m=j(m.minus(a),m.plus(a),h),f=_(m.times(m),h),s=3;;){if(c=_(c.times(f),h),b((u=d.plus(j(c,new g(s),h))).d).slice(0,h)===b(d.d).slice(0,h))return d=d.times(2),0!==o&&(d=d.plus(k(g,h+2,y).times(o+""))),d=j(d,new g(p),h),g.precision=y,null==t?(i=!0,_(d,y)):d;d=u,s+=2}}function C(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),i&&(e.e>x||e.e<-x))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,a,s,o,l,c,f,m,g=e.d;for(o=1,s=g[0];s>=10;s/=10)o++;if((n=t-o)<0)n+=7,a=t,f=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(s=g.length))return e;for(f=s=g[m],o=1;s>=10;s/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=f/(s=h(10,o-a-1))%10|0,c=t<0||void 0!==g[m+1]||f%s,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,o-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return c?(s=N(e),g.length=1,t=t-s-1,g[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,s=1,m--):(g.length=m+1,s=h(10,7-n),g[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*s:0),c)for(;;){if(0==m){(g[0]+=s)==p&&(g[0]=1,++e.e);break}if(g[m]+=s,g[m]!=p)break;g[m--]=0,s=1}for(n=g.length;0===g[--n];)g.pop();if(i&&(e.e>x||e.e<-x))throw Error(d+N(e));return e}function A(e,t){var r,n,a,s,o,l,c,d,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),i?_(t,m):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n){for((u=o<0)?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((u=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=p-1;--c[s],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,i?_(t,m):t):new f(0)}function P(e,t,r){var n,a=N(e),s=b(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+S(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+S(-a-1)+s,r&&(n=r-o)>0&&(s+=S(n))):a>=o?(s+=S(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+S(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=S(n))),e.s<0?"-"+s:s}function E(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(u(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(s.prototype=g,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=M,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),s=r(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=o},8468:(e,t,r)=>{var n=r(5816),a=r(644),s=r(4020);e.exports=function(e,t,r){return t===t?s(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),s=r(4052),o=r(9841),i=n?n.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),s=r(6571);e.exports=function(e){return s(e)?n(e):a(e)}},8724:(e,t,r)=>{var n=r(7615),a=r(5051),s=r(2154),o=r(8734),i=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,s=a(e)?Array(e.length):[];return n(e,(function(e,n,a){s[++r]=t(e,n,a)})),s}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),s=r(6704);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),s=r(4052),o=r(9194),i=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&r(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&i(d)&&o(h,d)&&(s(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),s=r(3279),o=r(4052),i=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):n(e):i(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),s=r(715);e.exports=function(e){return a(e)?s(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),s=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),s=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),s):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),s=r(8673);e.exports=function(e){return n(e,s,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return s.call(e,t)})))}:a;e.exports=i},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,s){for(var o=-1,i=r(t((n-e)/(a||1)),0),l=Array(i);i--;)l[s?i:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,s=e.length;++a<s;){var o=e[a],i=t(o);if(null!=i&&(void 0===l?i===i&&!n(i):r(i,l)))var l=i,c=o}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(s="leading"in r?!!r.leading:s,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:s,maxWait:t,trailing:o})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),s=r(3211),o=r(3668),i=r(4160),l=r(2074),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,u,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=i;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var x=o(f(e),f(t),n,c,u,h);return h.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),s=r(8673);e.exports=function(e){return function(t,r,o){var i=Object(t);if(!a(t)){var l=n(r,3);t=s(t),r=function(e){return l(i[e],e,i)}}var c=e(t,r,o);return c>-1?i[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".17c6e032.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="bluemedix-client:";r.l=(n,a,s,o)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[a];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/NewBlueMedix/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=s);var o=r.p+r.u(t),i=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,s,o=n[0],i=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkbluemedix_client=self.webpackChunkbluemedix_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>fr,hasStandardBrowserEnv:()=>mr,hasStandardBrowserWebWorkerEnv:()=>xr,navigator:()=>pr,origin:()=>gr});var t={};r.r(t),r.d(t,{scaleBand:()=>bc,scaleDiverging:()=>Jp,scaleDivergingLog:()=>Zp,scaleDivergingPow:()=>tm,scaleDivergingSqrt:()=>rm,scaleDivergingSymlog:()=>em,scaleIdentity:()=>Wu,scaleImplicit:()=>yc,scaleLinear:()=>Hu,scaleLog:()=>eh,scaleOrdinal:()=>vc,scalePoint:()=>wc,scalePow:()=>ch,scaleQuantile:()=>jh,scaleQuantize:()=>wh,scaleRadial:()=>hh,scaleSequential:()=>Wp,scaleSequentialLog:()=>Vp,scaleSequentialPow:()=>Yp,scaleSequentialQuantile:()=>Gp,scaleSequentialSqrt:()=>Xp,scaleSequentialSymlog:()=>Kp,scaleSqrt:()=>dh,scaleSymlog:()=>ah,scaleThreshold:()=>Nh,scaleTime:()=>$p,scaleUtc:()=>Up,tickFormat:()=>Uu});var n,a=r(5043),s=r.t(a,2),o=r(4391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function m(e,t,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:o=!1}=a,d=s.history,p=n.Pop,m=null,x=g();function g(){return(d.state||{idx:null}).idx}function y(){p=n.Pop;let e=g(),t=null==e?null:e-x;x=e,m&&m({action:p,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,d.replaceState(i({},d.state,{idx:x}),""));let b={get action(){return p},get location(){return e(s,d)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=n.Push;let a=h(b.location,e,t);r&&r(a,e),x=g()+1;let i=u(a,x),l=b.createHref(a);try{d.pushState(i,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=n.Replace;let a=h(b.location,e,t);r&&r(a,e),x=g();let s=u(a,x),i=b.createHref(a);d.replaceState(s,"",i),o&&m&&m({action:p,location:b.location,delta:0})},go:e=>d.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,n){let a=M(("string"===typeof t?p(t):t).pathname||"/",r);if(null==a)return null;let s=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=E(a);o=A(s[i],e,n)}return o}function v(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=L([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:_(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of b(e.path))a(e,t,n);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let o=b(n.join("/")),i=[];return i.push(...o.map((e=>""===e?s:[s,e].join("/")))),a&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const j=/^:[\w-]+$/,w=3,N=2,k=1,S=10,O=-2,C=e=>"*"===e;function _(e,t){let r=e.split("/"),n=r.length;return r.some(C)&&(n+=O),t&&(n+=N),r.filter((e=>!C(e))).reduce(((e,t)=>e+(j.test(t)?w:""===t?k:S)),n)}function A(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:L([s,d.pathname]),pathnameBase:F(L([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=L([s,d.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function E(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function T(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let r=I(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function R(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=p(e):(a=i({},e),c(!a.pathname||!a.pathname.includes("?"),T("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),T("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),T("#","search","hash",a)));let s,o=""===e||""===a.pathname,l=o?"/":a.pathname;if(null==l)s=r;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?p(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:z(n),hash:B(a)}}(a,s),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],q=(new Set(U),["get",...U]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}const W=a.createContext(null);const V=a.createContext(null);const K=a.createContext(null);const Y=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const G=a.createContext(null);function Q(){return null!=a.useContext(Y)}function J(){return Q()||c(!1),a.useContext(Y).location}function Z(e){a.useContext(K).static||a.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=fe(de.UseNavigateStable),r=a.useRef(!1);return Z((()=>{r.current=!0})),a.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,H({fromRouteId:t},a)))}),[e,t])}():function(){Q()||c(!1);let e=a.useContext(W),{basename:t,future:r,navigator:n}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:o}=J(),i=JSON.stringify(D(s,r.v7_relativeSplatPath)),l=a.useRef(!1);Z((()=>{l.current=!0}));let d=a.useCallback((function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=R(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)}),[t,n,i,o,e]);return d}()}function te(){let{matches:e}=a.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:o}=J(),i=JSON.stringify(D(s,n.v7_relativeSplatPath));return a.useMemo((()=>R(e,JSON.parse(i),o,"path"===r)),[e,i,o,r])}function ne(e,t,r,s){Q()||c(!1);let{navigator:o,static:i}=a.useContext(K),{matches:l}=a.useContext(X),d=l[l.length-1],u=d?d.params:{},h=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let f,m=J();if(t){var x;let e="string"===typeof t?p(t):t;"/"===h||(null==(x=e.pathname)?void 0:x.startsWith(h))||c(!1),f=e}else f=m;let y=f.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!i&&r&&r.matches&&r.matches.length>0?r.matches:g(e,{pathname:v});let j=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,s);return t&&j?a.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:n.Pop}},j):j}function ae(){let e=function(){var e;let t=a.useContext(G),r=he(de.UseRouteError),n=fe(de.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const se=a.createElement(ae,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(W);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(X.Provider,{value:t},n)}function le(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,n,s)=>{let o,c=!1,h=null,f=null;var p;r&&(o=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||se,d&&(u<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):u===s&&(c=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,s+1)),x=()=>{let t;return t=o?h:c?f:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ie,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=a.useContext(W);return t||c(!1),t}function he(e){let t=a.useContext(V);return t||c(!1),t}function fe(e){let t=function(){let e=a.useContext(X);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function xe(e){let{to:t,replace:r,state:n,relative:s}=e;Q()||c(!1);let{future:o,static:i}=a.useContext(K),{matches:l}=a.useContext(X),{pathname:d}=J(),u=ee(),h=R(t,D(l,o.v7_relativeSplatPath),d,"path"===s),f=JSON.stringify(h);return a.useEffect((()=>u(JSON.parse(f),{replace:r,state:n,relative:s})),[u,f,s,r,n]),null}function ge(e){c(!1)}function ye(e){let{basename:t="/",children:r=null,location:s,navigationType:o=n.Pop,navigator:i,static:l=!1,future:d}=e;Q()&&c(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo((()=>({basename:u,navigator:i,static:l,future:H({v7_relativeSplatPath:!1},d)})),[u,d,i,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:x="",state:g=null,key:y="default"}=s,v=a.useMemo((()=>{let e=M(f,u);return null==e?null:{location:{pathname:e,search:m,hash:x,state:g,key:y},navigationType:o}}),[u,f,m,x,g,y,o]);return null==v?null:a.createElement(K.Provider,{value:h},a.createElement(Y.Provider,{children:r,value:v}))}function ve(e){let{children:t,location:r}=e;return ne(be(t),r)}new Promise((()=>{}));a.Component;function be(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),r.push(o)})),r}var je=r(7950),we=r.t(je,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ne.apply(this,arguments)}function ke(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch($S){}new Map;const Oe=s.startTransition;we.flushSync,s.useId;function Ce(e){let{basename:t,children:r,future:n,window:s}=e,o=a.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),m((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return h("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,i)));let l=o.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=a.useCallback((e=>{u&&Oe?Oe((()=>d(e))):d(e)}),[d,u]);return a.useLayoutEffect((()=>l.listen(p)),[l,p]),a.useEffect((()=>me(n)),[n]),a.createElement(ye,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef((function(e,t){let r,{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:d,to:u,preventScrollReset:h,viewTransition:p}=e,m=ke(e,Se),{basename:x}=a.useContext(K),g=!1;if("string"===typeof u&&Ae.test(u)&&(r=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=M(t.pathname,x);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:g=!0}catch($S){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;Q()||c(!1);let{basename:n,navigator:s}=a.useContext(K),{hash:o,pathname:i,search:l}=re(e,{relative:r}),d=i;return"/"!==n&&(d="/"===i?n:L([n,i])),s.createHref({pathname:d,search:l,hash:o})}(u,{relative:s}),v=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=ee(),d=J(),u=re(e,{relative:i});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:f(d)===f(u);c(e,{replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l})}}),[d,c,u,n,s,r,e,o,i,l])}(u,{replace:i,state:l,target:d,preventScrollReset:h,relative:s,viewTransition:p});return a.createElement("a",Ne({},m,{href:r||y,onClick:g||o?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:d}))}));var Ee,Me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));function Te(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Te(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const Ie=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Te(e))&&(n&&(n+=" "),n+=t);return n},De=e=>"number"==typeof e&&!isNaN(e),Re=e=>"string"==typeof e,Le=e=>"function"==typeof e,Fe=e=>Re(e)||Le(e)?e:null,ze=e=>(0,a.isValidElement)(e)||Re(e)||Le(e)||De(e);function Be(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:i,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h}=e;const f=n?`${t}--${l}`:t,p=n?`${r}--${l}`:r,m=(0,a.useRef)(0);return(0,a.useLayoutEffect)((()=>{const e=u.current,t=f.split(" "),r=n=>{n.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===m.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,a.useEffect)((()=>{const e=u.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,r){void 0===r&&(r=300);const{scrollHeight:n,style:a}=e;requestAnimationFrame((()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame((()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)}))}))}(e,d,o):d()};h||(c?t():(m.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[h]),a.createElement(a.Fragment,null,i)}}function $e(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ue={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const r=this.list.get(e).filter((e=>e!==t));return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const r=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(r)}))}},qe=e=>{let{theme:t,type:r,...n}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${r})`,...n})},He={info:function(e){return a.createElement(qe,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(qe,{...e},a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(qe,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(qe,{...e},a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}};function We(e){const[,t]=(0,a.useReducer)((e=>e+1),0),[r,n]=(0,a.useState)([]),s=(0,a.useRef)(null),o=(0,a.useRef)(new Map).current,i=e=>-1!==r.indexOf(e),l=(0,a.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:i,getToast:e=>o.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:r}=l.props;!r||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function d(e){n((t=>null==e?[]:t.filter((t=>t!==e))))}function u(){const{toastContent:e,toastProps:t,staleId:r}=l.queue.shift();f(e,t,r)}function h(e,r){let{delay:n,staleId:i,...c}=r;if(!ze(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||o.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:h,updateId:p,data:m}=c,{props:x}=l,g=()=>d(h),y=null==p;y&&l.count++;const v={...x,style:x.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,r]=e;return null!=r}))),toastId:h,updateId:p,data:m,closeToast:g,isIn:!1,className:Fe(c.className||x.toastClassName),bodyClassName:Fe(c.bodyClassName||x.bodyClassName),progressClassName:Fe(c.progressClassName||x.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,j=x.autoClose,!1===b||De(b)&&b>0?b:j),deleteToast(){const e=$e(o.get(h),"removed");o.delete(h),Ue.emit(4,e);const r=l.queue.length;if(l.count=null==h?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),r>0){const e=null==h?l.props.limit:1;if(1===r||1===e)l.displayedToast++,u();else{const t=e>r?r:e;l.displayedToast=t;for(let e=0;e<t;e++)u()}}else t()}};var b,j;v.iconOut=function(e){let{theme:t,type:r,isLoading:n,icon:s}=e,o=null;const i={theme:t,type:r};return!1===s||(Le(s)?o=s(i):(0,a.isValidElement)(s)?o=(0,a.cloneElement)(s,i):Re(s)||De(s)?o=s:n?o=He.spinner():(e=>e in He)(r)&&(o=He[r](i))),o}(v),Le(c.onOpen)&&(v.onOpen=c.onOpen),Le(c.onClose)&&(v.onClose=c.onClose),v.closeButton=x.closeButton,!1===c.closeButton||ze(c.closeButton)?v.closeButton=c.closeButton:!0===c.closeButton&&(v.closeButton=!ze(x.closeButton)||x.closeButton);let w=e;(0,a.isValidElement)(e)&&!Re(e.type)?w=(0,a.cloneElement)(e,{closeToast:g,toastProps:v,data:m}):Le(e)&&(w=e({closeToast:g,toastProps:v,data:m})),x.limit&&x.limit>0&&l.count>x.limit&&y?l.queue.push({toastContent:w,toastProps:v,staleId:i}):De(n)?setTimeout((()=>{f(w,v,i)}),n):f(w,v,i)}function f(e,t,r){const{toastId:a}=t;r&&o.delete(r);const s={content:e,props:t};o.set(a,s),n((e=>[...e,a].filter((e=>e!==r)))),Ue.emit(4,$e(s,null==s.props.updateId?"added":"updated"))}return(0,a.useEffect)((()=>(l.containerId=e.containerId,Ue.cancelEmit(3).on(0,h).on(1,(e=>s.current&&d(e))).on(5,c).emit(2,l),()=>{o.clear(),Ue.emit(3,l)})),[]),(0,a.useEffect)((()=>{l.props=e,l.isToastActive=i,l.displayedToast=r.length})),{getToastToRender:function(t){const r=new Map,n=Array.from(o.values());return e.newestOnTop&&n.reverse(),n.forEach((e=>{const{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)})),Array.from(r,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:i}}function Ve(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ke(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Ye(e){const[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),o=(0,a.useRef)(null),i=(0,a.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,a.useRef)(e),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),i.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const r=o.current;i.canCloseOnClick=!0,i.canDrag=!0,i.boundingRect=r.getBoundingClientRect(),r.style.transition="",i.x=Ve(t.nativeEvent),i.y=Ke(t.nativeEvent),"x"===e.draggableDirection?(i.start=i.x,i.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(i.start=i.y,i.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(i.boundingRect){const{top:r,bottom:n,left:a,right:s}=i.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&i.x>=a&&i.x<=s&&i.y>=r&&i.y<=n?g():x()}}function x(){r(!0)}function g(){r(!1)}function y(r){const n=o.current;i.canDrag&&n&&(i.didMove=!0,t&&g(),i.x=Ve(r),i.y=Ke(r),i.delta="x"===e.draggableDirection?i.x-i.start:i.y-i.start,i.start!==i.x&&(i.canCloseOnClick=!1),n.style.transform=`translate${e.draggableDirection}(${i.delta}px)`,n.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const t=o.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,a.useEffect)((()=>{l.current=e})),(0,a.useEffect)((()=>(o.current&&o.current.addEventListener("d",x,{once:!0}),Le(e.onOpen)&&e.onOpen((0,a.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;Le(e.onClose)&&e.onClose((0,a.isValidElement)(e.children)&&e.children.props)})),[]),(0,a.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",x),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",x),window.removeEventListener("blur",g))})),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&d&&(b.onMouseEnter=g,b.onMouseLeave=x),f&&(b.onClick=e=>{h&&h(e),i.canCloseOnClick&&u()}),{playToast:x,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:b}}function Xe(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return a.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":n},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ge(e){let{delay:t,isRunning:r,closeToast:n,type:s="default",hide:o,className:i,style:l,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:f}=e;const p=o||c&&0===d,m={...l,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused",opacity:p?0:1};c&&(m.transform=`scaleX(${d})`);const x=Ie("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),g=Le(i)?i({rtl:u,type:s,defaultClassName:x}):Ie(x,i);return a.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:m,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&n()}})}const Qe=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s}=Ye(e),{closeButton:o,children:i,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:f,position:p,className:m,style:x,bodyClassName:g,bodyStyle:y,progressClassName:v,progressStyle:b,updateId:j,role:w,progress:N,rtl:k,toastId:S,deleteToast:O,isIn:C,isLoading:_,iconOut:A,closeOnClick:P,theme:E}=e,M=Ie("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":P}),T=Le(m)?m({rtl:k,position:p,type:d,defaultClassName:M}):Ie(M,m),I=!!N||!l,D={closeToast:h,type:d,theme:E};let R=null;return!1===o||(R=Le(o)?o(D):(0,a.isValidElement)(o)?(0,a.cloneElement)(o,D):Xe(D)),a.createElement(f,{isIn:C,done:O,position:p,preventExitTransition:r,nodeRef:n},a.createElement("div",{id:S,onClick:c,className:T,...s,style:x,ref:n},a.createElement("div",{...C&&{role:w},className:Le(g)?g({type:d}):Ie("Toastify__toast-body",g),style:y},null!=A&&a.createElement("div",{className:Ie("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},A),a.createElement("div",null,i)),R,a.createElement(Ge,{...j&&!I?{key:`pb-${j}`}:{},rtl:k,theme:E,delay:l,isRunning:t,isIn:C,closeToast:h,hide:u,type:d,style:b,className:v,controlledProgress:I,progress:N||0})))},Je=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Ze=Be(Je("bounce",!0)),et=(Be(Je("slide",!0)),Be(Je("zoom")),Be(Je("flip")),(0,a.forwardRef)(((e,t)=>{const{getToastToRender:r,containerRef:n,isToastActive:s}=We(e),{className:o,style:i,rtl:l,containerId:c}=e;function d(e){const t=Ie("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return Le(o)?o({position:e,rtl:l,defaultClassName:t}):Ie(t,Fe(o))}return(0,a.useEffect)((()=>{t&&(t.current=n.current)}),[]),a.createElement("div",{ref:n,className:"Toastify",id:c},r(((e,t)=>{const r=t.length?{...i}:{...i,pointerEvents:"none"};return a.createElement("div",{className:d(e),style:r,key:`container-${e}`},t.map(((e,r)=>{let{content:n,props:o}=e;return a.createElement(Qe,{...o,isIn:s(o.toastId),style:{...o.style,"--nth":r+1,"--len":t.length},key:`toast-${o.key}`},n)})))})))})));et.displayName="ToastContainer",et.defaultProps={position:"top-right",transition:Ze,autoClose:5e3,closeButton:Xe,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let tt,rt=new Map,nt=[],at=1;function st(){return""+at++}function ot(e){return e&&(Re(e.toastId)||De(e.toastId))?e.toastId:st()}function it(e,t){return rt.size>0?Ue.emit(0,e,t):nt.push({content:e,options:t}),t.toastId}function lt(e,t){return{...t,type:t&&t.type||e,toastId:ot(t)}}function ct(e){return(t,r)=>it(t,lt(e,r))}function dt(e,t){return it(e,lt("default",t))}function ut(e,t){return function(){return e.apply(t,arguments)}}dt.loading=(e,t)=>it(e,lt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),dt.promise=function(e,t,r){let n,{pending:a,error:s,success:o}=t;a&&(n=Re(a)?dt.loading(a,r):dt.loading(a.render,{...r,...a}));const i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void dt.dismiss(n);const s={type:e,...i,...r,data:a},o=Re(t)?{render:t}:t;return n?dt.update(n,{...s,...o}):dt(o.render,{...s,...o}),a},c=Le(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),c},dt.success=ct("success"),dt.info=ct("info"),dt.error=ct("error"),dt.warning=ct("warning"),dt.warn=dt.warning,dt.dark=(e,t)=>it(e,lt("default",{theme:"dark",...t})),dt.dismiss=e=>{rt.size>0?Ue.emit(1,e):nt=nt.filter((t=>null!=e&&t.options.toastId!==e))},dt.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ue.emit(5,e)},dt.isActive=e=>{let t=!1;return rt.forEach((r=>{r.isToastActive&&r.isToastActive(e)&&(t=!0)})),t},dt.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const r=function(e,t){let{containerId:r}=t;const n=rt.get(r||tt);return n&&n.getToast(e)}(e,t);if(r){const{props:n,content:a}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:st()};s.toastId!==e&&(s.staleId=e);const o=s.render||a;delete s.render,it(o,s)}}),0)},dt.done=e=>{dt.update(e,{progress:1})},dt.onChange=e=>(Ue.on(4,e),()=>{Ue.off(4,e)}),dt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},dt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ue.on(2,(e=>{tt=e.containerId||e,rt.set(tt,e),nt.forEach((e=>{Ue.emit(0,e.content,e.options)})),nt=[]})).on(3,(e=>{rt.delete(e.containerId||e),0===rt.size&&Ue.off(0).off(1).off(5)}));const{toString:ht}=Object.prototype,{getPrototypeOf:ft}=Object,pt=(mt=Object.create(null),e=>{const t=ht.call(e);return mt[t]||(mt[t]=t.slice(8,-1).toLowerCase())});var mt;const xt=e=>(e=e.toLowerCase(),t=>pt(t)===e),gt=e=>t=>typeof t===e,{isArray:yt}=Array,vt=gt("undefined");const bt=xt("ArrayBuffer");const jt=gt("string"),wt=gt("function"),Nt=gt("number"),kt=e=>null!==e&&"object"===typeof e,St=e=>{if("object"!==pt(e))return!1;const t=ft(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ot=xt("Date"),Ct=xt("File"),_t=xt("Blob"),At=xt("FileList"),Pt=xt("URLSearchParams"),[Et,Mt,Tt,It]=["ReadableStream","Request","Response","Headers"].map(xt);function Dt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),yt(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(r=0;r<s;r++)o=n[r],t.call(null,e[o],o,e)}}function Rt(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const Lt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ft=e=>!vt(e)&&e!==Lt;const zt=(Bt="undefined"!==typeof Uint8Array&&ft(Uint8Array),e=>Bt&&e instanceof Bt);var Bt;const $t=xt("HTMLFormElement"),Ut=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),qt=xt("RegExp"),Ht=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Dt(r,((r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)})),Object.defineProperties(e,n)};const Wt=xt("AsyncFunction"),Vt=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,n=[],Lt.addEventListener("message",(e=>{let{source:t,data:a}=e;t===Lt&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),Lt.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,wt(Lt.postMessage)),Kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Lt):"undefined"!==typeof process&&process.nextTick||Vt,Yt={isArray:yt,isArrayBuffer:bt,isBuffer:function(e){return null!==e&&!vt(e)&&null!==e.constructor&&!vt(e.constructor)&&wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||wt(e.append)&&("formdata"===(t=pt(e))||"object"===t&&wt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bt(e.buffer),t},isString:jt,isNumber:Nt,isBoolean:e=>!0===e||!1===e,isObject:kt,isPlainObject:St,isReadableStream:Et,isRequest:Mt,isResponse:Tt,isHeaders:It,isUndefined:vt,isDate:Ot,isFile:Ct,isBlob:_t,isRegExp:qt,isFunction:wt,isStream:e=>kt(e)&&wt(e.pipe),isURLSearchParams:Pt,isTypedArray:zt,isFileList:At,forEach:Dt,merge:function e(){const{caseless:t}=Ft(this)&&this||{},r={},n=(n,a)=>{const s=t&&Rt(r,a)||a;St(r[s])&&St(n)?r[s]=e(r[s],n):St(n)?r[s]=e({},n):yt(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Dt(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Dt(t,((t,n)=>{r&&wt(t)?e[n]=ut(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&ft(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:pt,kindOfTest:xt,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(yt(e))return e;let t=e.length;if(!Nt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:$t,hasOwnProperty:Ut,hasOwnProp:Ut,reduceDescriptors:Ht,freezeMethods:e=>{Ht(e,((t,r)=>{if(wt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];wt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return yt(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Rt,global:Lt,isContextDefined:Ft,isSpecCompliantForm:function(e){return!!(e&&wt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(kt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=yt(e)?[]:{};return Dt(e,((e,t)=>{const s=r(e,n+1);!vt(s)&&(a[t]=s)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:Wt,isThenable:e=>e&&(kt(e)||wt(e))&&wt(e.then)&&wt(e.catch),setImmediate:Vt,asap:Kt};function Xt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Yt.inherits(Xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Yt.toJSONObject(this.config),code:this.code,status:this.status}}});const Gt=Xt.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Qt[e]={value:e}})),Object.defineProperties(Xt,Qt),Object.defineProperty(Gt,"isAxiosError",{value:!0}),Xt.from=(e,t,r,n,a,s)=>{const o=Object.create(Gt);return Yt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Xt.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Jt=Xt;function Zt(e){return Yt.isPlainObject(e)||Yt.isArray(e)}function er(e){return Yt.endsWith(e,"[]")?e.slice(0,-2):e}function tr(e,t,r){return e?e.concat(t).map((function(e,t){return e=er(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const rr=Yt.toFlatObject(Yt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const nr=function(e,t,r){if(!Yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Yt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Yt.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,s=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Yt.isSpecCompliantForm(t);if(!Yt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Yt.isDate(e))return e.toISOString();if(!i&&Yt.isBlob(e))throw new Jt("Blob is not supported. Use a Buffer instead.");return Yt.isArrayBuffer(e)||Yt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(Yt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Yt.isArray(e)&&function(e){return Yt.isArray(e)&&!e.some(Zt)}(e)||(Yt.isFileList(e)||Yt.endsWith(r,"[]"))&&(i=Yt.toArray(e)))return r=er(r),i.forEach((function(e,n){!Yt.isUndefined(e)&&null!==e&&t.append(!0===o?tr([r],n,s):null===o?r:r+"[]",l(e))})),!1;return!!Zt(e)||(t.append(tr(a,r,s),l(e)),!1)}const d=[],u=Object.assign(rr,{defaultVisitor:c,convertValue:l,isVisitable:Zt});if(!Yt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Yt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),Yt.forEach(r,(function(r,s){!0===(!(Yt.isUndefined(r)||null===r)&&a.call(t,r,Yt.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])})),d.pop()}}(e),t};function ar(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function sr(e,t){this._pairs=[],e&&nr(e,this,t)}const or=sr.prototype;or.append=function(e,t){this._pairs.push([e,t])},or.toString=function(e){const t=e?function(t){return e.call(this,t,ar)}:ar;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ir=sr;function lr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cr(e,t,r){if(!t)return e;const n=r&&r.encode||lr;Yt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):Yt.isURLSearchParams(t)?t.toString():new ir(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const dr=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Yt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ur={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ir,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fr="undefined"!==typeof window&&"undefined"!==typeof document,pr="object"===typeof navigator&&navigator||void 0,mr=fr&&(!pr||["ReactNative","NativeScript","NS"].indexOf(pr.product)<0),xr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,gr=fr&&window.location.href||"http://localhost",yr={...e,...hr};const vr=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&Yt.isArray(n)?n.length:s,i)return Yt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&Yt.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&Yt.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if(Yt.isFormData(e)&&Yt.isFunction(e.entries)){const r={};return Yt.forEachEntry(e,((e,n)=>{t(function(e){return Yt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const br={transitional:ur,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=Yt.isObject(e);a&&Yt.isHTMLForm(e)&&(e=new FormData(e));if(Yt.isFormData(e))return n?JSON.stringify(vr(e)):e;if(Yt.isArrayBuffer(e)||Yt.isBuffer(e)||Yt.isStream(e)||Yt.isFile(e)||Yt.isBlob(e)||Yt.isReadableStream(e))return e;if(Yt.isArrayBufferView(e))return e.buffer;if(Yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return nr(e,new yr.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return yr.isNode&&Yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Yt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return nr(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(Yt.isString(e))try{return(t||JSON.parse)(e),Yt.trim(e)}catch($S){if("SyntaxError"!==$S.name)throw $S}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||br.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Yt.isResponse(e)||Yt.isReadableStream(e))return e;if(e&&Yt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch($S){if(r){if("SyntaxError"===$S.name)throw Jt.from($S,Jt.ERR_BAD_RESPONSE,this,null,this.response);throw $S}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Yt.forEach(["delete","get","head","post","put","patch"],(e=>{br.headers[e]={}}));const jr=br,wr=Yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nr=Symbol("internals");function kr(e){return e&&String(e).trim().toLowerCase()}function Sr(e){return!1===e||null==e?e:Yt.isArray(e)?e.map(Sr):String(e)}function Or(e,t,r,n,a){return Yt.isFunction(n)?n.call(this,t,r):(a&&(t=r),Yt.isString(t)?Yt.isString(n)?-1!==t.indexOf(n):Yt.isRegExp(n)?n.test(t):void 0:void 0)}class Cr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=kr(t);if(!a)throw new Error("header name must be a non-empty string");const s=Yt.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Sr(e))}const s=(e,t)=>Yt.forEach(e,((e,r)=>a(e,r,t)));if(Yt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&wr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(Yt.isHeaders(e))for(const[o,i]of e.entries())a(i,o,r);else null!=e&&a(t,e,r);return this}get(e,t){if(e=kr(e)){const r=Yt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Yt.isFunction(t))return t.call(this,e,r);if(Yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kr(e)){const r=Yt.findKey(this,e);return!(!r||void 0===this[r]||t&&!Or(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=kr(e)){const a=Yt.findKey(r,e);!a||t&&!Or(0,r[a],a,t)||(delete r[a],n=!0)}}return Yt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!Or(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return Yt.forEach(this,((n,a)=>{const s=Yt.findKey(r,a);if(s)return t[s]=Sr(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();o!==a&&delete t[a],t[o]=Sr(n),r[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Yt.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Yt.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Nr]=this[Nr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=kr(e);t[n]||(!function(e,t){const r=Yt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return Yt.isArray(e)?e.forEach(n):n(e),this}}Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Yt.reduceDescriptors(Cr.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),Yt.freezeMethods(Cr);const _r=Cr;function Ar(e,t){const r=this||jr,n=t||r,a=_r.from(n.headers);let s=n.data;return Yt.forEach(e,(function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Pr(e){return!(!e||!e.__CANCEL__)}function Er(e,t,r){Jt.call(this,null==e?"canceled":e,Jt.ERR_CANCELED,t,r),this.name="CanceledError"}Yt.inherits(Er,Jt,{__CANCEL__:!0});const Mr=Er;function Tr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Ir=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];a||(a=l),r[s]=i,n[s]=l;let d=o,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Dr=function(e,t){let r,n,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=s?o(l,e):(r=l,n||(n=setTimeout((()=>{n=null,o(r)}),s-t)))},()=>r&&o(r)]},Rr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=Ir(50,250);return Dr((r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,i=s-n,l=a(i);n=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},Lr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Fr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yt.asap((()=>e(...r)))},zr=yr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,Br=yr.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];Yt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Yt.isString(n)&&o.push("path="+n),Yt.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function $r(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ur=e=>e instanceof _r?{...e}:e;function qr(e,t){t=t||{};const r={};function n(e,t,r,n){return Yt.isPlainObject(e)&&Yt.isPlainObject(t)?Yt.merge.call({caseless:n},e,t):Yt.isPlainObject(t)?Yt.merge({},t):Yt.isArray(t)?t.slice():t}function a(e,t,r,a){return Yt.isUndefined(t)?Yt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!Yt.isUndefined(t))return n(void 0,t)}function o(e,t){return Yt.isUndefined(t)?Yt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,r)=>a(Ur(e),Ur(t),0,!0)};return Yt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||a,o=s(e[n],t[n],n);Yt.isUndefined(o)&&s!==i||(r[n]=o)})),r}const Hr=e=>{const t=qr({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=_r.from(i),t.url=cr($r(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Yt.isFormData(n))if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(yr.hasStandardBrowserEnv&&(a&&Yt.isFunction(a)&&(a=a(t)),a||!1!==a&&zr(t.url))){const e=s&&o&&Br.read(o);e&&i.set(s,e)}return t},Wr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Hr(e);let a=n.data;const s=_r.from(n.headers).normalize();let o,i,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function x(){if(!m)return;const n=_r.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Tr((function(e){t(e),p()}),(function(e){r(e),p()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(x)},m.onabort=function(){m&&(r(new Jt("Request aborted",Jt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new Jt("Network Error",Jt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||ur;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Jt(t,a.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,e,m)),m=null},void 0===a&&s.setContentType(null),"setRequestHeader"in m&&Yt.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Yt.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),f&&([l,d]=Rr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([i,c]=Rr(h),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{m&&(r(!t||t.type?new Mr(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===yr.protocols.indexOf(g)?r(new Jt("Unsupported protocol "+g+":",Jt.ERR_BAD_REQUEST,e)):m.send(a||null)}))},Vr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Jt?t:new Mr(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new Jt(`timeout ${t} of ms exceeded`,Jt.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:i}=n;return i.unsubscribe=()=>Yt.asap(o),i}},Kr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Yr=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Xr=(e,t,r,n)=>{const a=async function*(e,t){for await(const r of Yr(e))yield*Kr(r,t)}(e,t);let s,o=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},Gr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Qr=Gr&&"function"===typeof ReadableStream,Jr=Gr&&("function"===typeof TextEncoder?(Zr=new TextEncoder,e=>Zr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Zr;const en=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch($S){return!1}},tn=Qr&&en((()=>{let e=!1;const t=new Request(yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),rn=Qr&&en((()=>Yt.isReadableStream(new Response("").body))),nn={stream:rn&&(e=>e.body)};var an;Gr&&(an=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!nn[e]&&(nn[e]=Yt.isFunction(an[e])?t=>t[e]():(t,r)=>{throw new Jt(`Response type '${e}' is not supported`,Jt.ERR_NOT_SUPPORT,r)})})));const sn=async(e,t)=>{const r=Yt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Yt.isBlob(e))return e.size;if(Yt.isSpecCompliantForm(e)){const t=new Request(yr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Yt.isArrayBufferView(e)||Yt.isArrayBuffer(e)?e.byteLength:(Yt.isURLSearchParams(e)&&(e+=""),Yt.isString(e)?(await Jr(e)).byteLength:void 0)})(t):r},on=Gr&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Hr(e);c=c?(c+"").toLowerCase():"text";let f,p=Vr([a,s&&s.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&tn&&"get"!==r&&"head"!==r&&0!==(x=await sn(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Yt.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Lr(x,Rr(Fr(l)));n=Xr(r.body,65536,e,t)}}Yt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0});let s=await fetch(f);const o=rn&&("stream"===c||"response"===c);if(rn&&(i||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Yt.toFiniteNumber(s.headers.get("content-length")),[r,n]=i&&Lr(t,Rr(Fr(i),!0))||[];s=new Response(Xr(s.body,65536,r,(()=>{n&&n(),m&&m()})),e)}c=c||"text";let g=await nn[Yt.findKey(nn,c)||"text"](s,e);return!o&&m&&m(),await new Promise(((t,r)=>{Tr(t,r,{data:g,headers:_r.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(g){if(m&&m(),g&&"TypeError"===g.name&&/fetch/i.test(g.message))throw Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,e,f),{cause:g.cause||g});throw Jt.from(g,g&&g.code,e,f)}}),ln={http:null,xhr:Wr,fetch:on};Yt.forEach(ln,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch($S){}Object.defineProperty(e,"adapterName",{value:t})}}));const cn=e=>`- ${e}`,dn=e=>Yt.isFunction(e)||null===e||!1===e,un=e=>{e=Yt.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!dn(r)&&(n=ln[(t=String(r)).toLowerCase()],void 0===n))throw new Jt(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(cn).join("\n"):" "+cn(e[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function hn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mr(null,e)}function fn(e){hn(e),e.headers=_r.from(e.headers),e.data=Ar.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return un(e.adapter||jr.adapter)(e).then((function(t){return hn(e),t.data=Ar.call(e,e.transformResponse,t),t.headers=_r.from(t.headers),t}),(function(t){return Pr(t)||(hn(e),t&&t.response&&(t.response.data=Ar.call(e,e.transformResponse,t.response),t.response.headers=_r.from(t.response.headers))),Promise.reject(t)}))}const pn="1.8.4",mn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const xn={};mn.transitional=function(e,t,r){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Jt(n(a," has been removed"+(t?" in "+t:"")),Jt.ERR_DEPRECATED);return t&&!xn[a]&&(xn[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},mn.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const gn={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new Jt("option "+s+" must be "+r,Jt.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Jt("Unknown option "+s,Jt.ERR_BAD_OPTION)}},validators:mn},yn=gn.validators;class vn{constructor(e){this.defaults=e,this.interceptors={request:new dr,response:new dr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch($S){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&gn.assertOptions(r,{silentJSONParsing:yn.transitional(yn.boolean),forcedJSONParsing:yn.transitional(yn.boolean),clarifyTimeoutError:yn.transitional(yn.boolean)},!1),null!=n&&(Yt.isFunction(n)?t.paramsSerializer={serialize:n}:gn.assertOptions(n,{encode:yn.function,serialize:yn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gn.assertOptions(t,{baseUrl:yn.spelling("baseURL"),withXsrfToken:yn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Yt.merge(a.common,a[t.method]);a&&Yt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=_r.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[fn.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let h=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=fn.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return cr($r((e=qr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Yt.forEach(["delete","get","head","options"],(function(e){vn.prototype[e]=function(t,r){return this.request(qr(r||{},{method:e,url:t,data:(r||{}).data}))}})),Yt.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(qr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}vn.prototype[e]=t(),vn.prototype[e+"Form"]=t(!0)}));const bn=vn;class jn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new Mr(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new jn((function(t){e=t}));return{token:t,cancel:e}}}const wn=jn;const Nn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nn).forEach((e=>{let[t,r]=e;Nn[r]=t}));const kn=Nn;const Sn=function e(t){const r=new bn(t),n=ut(bn.prototype.request,r);return Yt.extend(n,bn.prototype,r,{allOwnKeys:!0}),Yt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(qr(t,r))},n}(jr);Sn.Axios=bn,Sn.CanceledError=Mr,Sn.CancelToken=wn,Sn.isCancel=Pr,Sn.VERSION=pn,Sn.toFormData=nr,Sn.AxiosError=Jt,Sn.Cancel=Sn.CanceledError,Sn.all=function(e){return Promise.all(e)},Sn.spread=function(e){return function(t){return e.apply(null,t)}},Sn.isAxiosError=function(e){return Yt.isObject(e)&&!0===e.isAxiosError},Sn.mergeConfig=qr,Sn.AxiosHeaders=_r,Sn.formToJSON=e=>vr(Yt.isHTMLForm(e)?new FormData(e):e),Sn.getAdapter=un,Sn.HttpStatusCode=kn,Sn.default=Sn;const On=Sn,Cn=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},_n=(e,t,r)=>{const n=e.substring(1);"/"===r||""===r?Cn(n):t(`/${e}`)};var An=r(579);const Pn=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(0),i=ee(),l=J(),c=localStorage.getItem("token"),d=()=>JSON.parse(localStorage.getItem("user")),u=d();return(0,a.useEffect)((()=>{l.hash&&setTimeout((()=>{Cn(l.hash.substring(1))}),100)}),[l]),(0,a.useEffect)((()=>{if(c){var e;const t=d();o((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0);const r=()=>{var e;const t=d();o((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0)};window.addEventListener("storage",r);const n=setInterval((()=>{var e;const t=d();o((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0)}),1e3);return()=>{window.removeEventListener("storage",r),clearInterval(n)}}}),[c]),(0,An.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,An.jsx)("header",{className:"bg-white shadow",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsx)(Pe,{to:"/",className:"text-2xl font-bold text-blue-600",children:"BlueMedix"})}),(0,An.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,An.jsx)(Pe,{to:"/products",className:"text-gray-600 hover:text-blue-600",children:"Products"}),(0,An.jsx)(Pe,{to:"/categories",className:"text-gray-600 hover:text-blue-600",children:"Categories"}),(0,An.jsx)("a",{href:"#about-us",className:"text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),_n("#about-us",i,l.pathname)},children:"About Us"}),(0,An.jsx)("a",{href:"#contact",className:"text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),_n("#contact",i,l.pathname)},children:"Contact"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)(Pe,{to:c?"/cart":"/login",className:"text-gray-600 hover:text-blue-600 relative",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),c&&(0,An.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:s})]}),c?(0,An.jsx)("div",{className:"relative",children:(0,An.jsxs)("button",{onClick:()=>i("/user/dashboard"),className:"flex items-center space-x-2 focus:outline-none",children:[(0,An.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:(null===u||void 0===u?void 0:u.img_url)||"https://ui-avatars.com/api/?name="+encodeURIComponent((null===u||void 0===u?void 0:u.name)||"User"),alt:"Profile"}),(0,An.jsx)("span",{className:"hidden md:block text-gray-700",children:null===u||void 0===u?void 0:u.name})]})}):(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)(Pe,{to:"/login",className:"text-blue-600 hover:text-blue-800 px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),(0,An.jsx)(Pe,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Sign Up"})]}),(0,An.jsx)("button",{onClick:()=>n(!r),className:"md:hidden text-gray-600 focus:outline-none",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),r&&(0,An.jsxs)("nav",{className:"md:hidden py-4 border-t",children:[(0,An.jsx)(Pe,{to:"/products",className:"block py-2 text-gray-600 hover:text-blue-600",onClick:()=>n(!1),children:"Products"}),(0,An.jsx)(Pe,{to:"/categories",className:"block py-2 text-gray-600 hover:text-blue-600",onClick:()=>n(!1),children:"Categories"}),(0,An.jsx)("a",{href:"#about-us",className:"block py-2 text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),n(!1),_n("#about-us",i,l.pathname)},children:"About Us"}),(0,An.jsx)("a",{href:"#contact",className:"block py-2 text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),n(!1),_n("#contact",i,l.pathname)},children:"Contact"}),!c&&(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(Pe,{to:"/login",className:"block py-2 text-blue-600 hover:text-blue-800",onClick:()=>n(!1),children:"Login"}),(0,An.jsx)(Pe,{to:"/register",className:"block py-2 text-blue-600 hover:text-blue-800",onClick:()=>n(!1),children:"Sign Up"})]})]})]})}),(0,An.jsx)("main",{className:"flex-1 bg-gray-50",children:t}),(0,An.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"BlueMedix"}),(0,An.jsx)("p",{className:"text-gray-400",children:"Your trusted partner for medical supplies and equipment."})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,An.jsxs)("ul",{className:"space-y-2",children:[(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/products",className:"text-gray-400 hover:text-white",children:"Products"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/categories",className:"text-gray-400 hover:text-white",children:"Categories"})}),(0,An.jsx)("li",{children:(0,An.jsx)("a",{href:"#about-us",className:"text-gray-400 hover:text-white cursor-pointer",onClick:e=>{e.preventDefault(),_n("#about-us",i,l.pathname)},children:"About Us"})}),(0,An.jsx)("li",{children:(0,An.jsx)("a",{href:"#contact",className:"text-gray-400 hover:text-white cursor-pointer",onClick:e=>{e.preventDefault(),_n("#contact",i,l.pathname)},children:"Contact"})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Customer Service"}),(0,An.jsxs)("ul",{className:"space-y-2",children:[(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/faq",className:"text-gray-400 hover:text-white",children:"FAQ"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/shipping",className:"text-gray-400 hover:text-white",children:"Shipping Policy"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/returns",className:"text-gray-400 hover:text-white",children:"Returns & Refunds"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/privacy",className:"text-gray-400 hover:text-white",children:"Privacy Policy"})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),(0,An.jsxs)("address",{className:"text-gray-400 not-italic",children:[(0,An.jsx)("p",{children:"123 Medical Plaza"}),(0,An.jsx)("p",{children:"New Delhi, India"}),(0,An.jsx)("p",{className:"mt-2",children:"Email: info@bluemedix.com"}),(0,An.jsx)("p",{children:"Phone: +91 123 456 7890"})]})]})]}),(0,An.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:(0,An.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," BlueMedix. All rights reserved."]})})]})})]})},En=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{o(!0);const e=await On.get("http://localhost:8080/api/products?limit=4&sortBy=createdAt&sortOrder=desc"),r=await On.get("http://localhost:8080/api/categories?limit=4");e.data.success&&t(e.data.products),r.data.success&&n(r.data.categories)}catch(e){console.error("Error fetching home page data:",e)}finally{o(!1)}})()}),[]),(0,An.jsxs)(Pn,{children:[(0,An.jsx)("section",{className:"bg-blue-600 text-white",children:(0,An.jsx)("div",{className:"container mx-auto px-4 py-16 md:py-24",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Trusted Medical Supply Partner"}),(0,An.jsx)("p",{className:"text-xl mb-8",children:"Quality healthcare products delivered to your doorstep. Browse our extensive catalog of medical supplies and equipment."}),(0,An.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,An.jsx)(Pe,{to:"/products",className:"bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-md text-lg font-medium inline-block text-center",children:"Shop Now"}),(0,An.jsx)(Pe,{to:"/categories",className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-blue-600 px-6 py-3 rounded-md text-lg font-medium inline-block text-center",children:"Browse Categories"})]})]}),(0,An.jsx)("div",{className:"hidden md:block",children:(0,An.jsx)("img",{src:"https://img.freepik.com/free-vector/flat-design-medical-services-twitter-header_23-2149190590.jpg?t=st=1743588341~exp=1743591941~hmac=dfe9d21bcd5c60a7ef8a5a366b782d31adcb5a3f6690e1aeca7b9b4caa3b53ab&w=1380",alt:"Medical Supplies",className:"rounded-lg shadow-lg"})})]})})}),(0,An.jsx)("section",{className:"py-12 bg-gray-50",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"text-center mb-12",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Products"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Discover our newest and most popular medical supplies"})]}),s?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,An.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4 md:px-0",children:e.map((e=>(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,children:(0,An.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"w-full h-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.discount>0&&(0,An.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:[e.discount,"% OFF"]})]})}),(0,An.jsxs)("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,children:(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-800 hover:text-blue-600",children:e.name})}),(0,An.jsxs)("div",{className:"flex items-center mt-1",children:[(0,An.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:["$",(e.price*(1-e.discount/100)).toFixed(2)]}),e.discount>0&&(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",e.price.toFixed(2)]})]})]}),(0,An.jsx)("div",{className:"mt-4",children:(0,An.jsx)(Pe,{to:`/products/${e._id}`,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded text-sm w-full block text-center",children:"View Details"})})]})]},e._id)))}),(0,An.jsx)("div",{className:"text-center mt-12",children:(0,An.jsx)(Pe,{to:"/products",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md text-lg font-medium",children:"View All Products"})})]})}),(0,An.jsx)("section",{className:"py-12 bg-white",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"text-center mb-12",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Product Categories"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Browse our wide range of medical categories"})]}),s?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,An.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((e=>(0,An.jsxs)(Pe,{to:`/products?category=${e._id}`,className:"bg-gray-50 shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,An.jsx)("div",{className:"h-48 bg-gray-200 relative",children:e.image?(0,An.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})})}),(0,An.jsxs)("div",{className:"p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.name}),(0,An.jsx)("div",{className:"mt-2",children:(0,An.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:"Browse Products"})})]})]},e._id)))}),(0,An.jsx)("div",{className:"text-center mt-8",children:(0,An.jsx)(Pe,{to:"/categories",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md text-lg font-medium",children:"View All Categories"})})]})}),(0,An.jsx)("section",{className:"py-12 bg-gray-50",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"text-center mb-12",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Choose BlueMedix"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"We're committed to providing the best medical supplies and service"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Quality Assured"}),(0,An.jsx)("p",{className:"text-gray-600",children:"All our products meet the highest quality standards and are sourced from trusted manufacturers."})]}),(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Fast Delivery"}),(0,An.jsx)("p",{className:"text-gray-600",children:"We offer quick and reliable shipping to ensure you receive your medical supplies when you need them."})]}),(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.5 9.5v5M14.5 9.5v5"})]})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Expert Support"}),(0,An.jsx)("p",{className:"text-gray-600",children:"Our team of healthcare professionals is available to provide guidance and answer your questions."})]})]})]})}),(0,An.jsx)("section",{className:"py-12 bg-white",id:"about-us",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"text-center mb-12",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"About BlueMedix"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Your trusted partner in healthcare supplies since 2010"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[(0,An.jsx)("div",{children:(0,An.jsx)("img",{src:"https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"BlueMedix Team",className:"rounded-lg shadow-lg w-full h-auto"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Mission"}),(0,An.jsx)("p",{className:"text-gray-600 mb-6",children:"At BlueMedix, our mission is to provide high-quality medical supplies and equipment to healthcare professionals and individuals at competitive prices. We believe that access to quality healthcare products should be simple, affordable, and reliable."}),(0,An.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Story"}),(0,An.jsx)("p",{className:"text-gray-600 mb-6",children:"Founded in 2010, BlueMedix began as a small family-owned business with a passion for improving healthcare accessibility. Over the years, we've grown into a nationwide network of franchises, serving thousands of customers while maintaining our commitment to quality and customer satisfaction."}),(0,An.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Our Values"}),(0,An.jsxs)("ul",{className:"text-gray-600 list-disc pl-5 space-y-2",children:[(0,An.jsx)("li",{children:"Quality: We source only the best products from trusted manufacturers"}),(0,An.jsx)("li",{children:"Integrity: We operate with honesty and transparency in all our dealings"}),(0,An.jsx)("li",{children:"Service: We put our customers first and strive to exceed expectations"}),(0,An.jsx)("li",{children:"Innovation: We continuously seek better ways to serve our customers"})]})]})]})]})}),(0,An.jsx)("section",{className:"py-12 bg-gray-50",id:"contact",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"text-center mb-12",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Contact Us"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"We're here to help with any questions or concerns"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Phone Support"}),(0,An.jsxs)("p",{className:"text-gray-600 mb-2",children:["Customer Service: ",(0,An.jsx)("a",{href:"tel:+18001234567",className:"text-blue-600 hover:underline",children:"1-800-123-4567"})]}),(0,An.jsxs)("p",{className:"text-gray-600",children:["Technical Support: ",(0,An.jsx)("a",{href:"tel:+18009876543",className:"text-blue-600 hover:underline",children:"1-800-987-6543"})]}),(0,An.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:["Monday-Friday: 8am-8pm EST",(0,An.jsx)("br",{}),"Saturday: 9am-5pm EST"]})]}),(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Email Us"}),(0,An.jsxs)("p",{className:"text-gray-600 mb-2",children:["General Inquiries: ",(0,An.jsx)("a",{href:"mailto:info@bluemedix.com",className:"text-blue-600 hover:underline",children:"info@bluemedix.com"})]}),(0,An.jsxs)("p",{className:"text-gray-600 mb-2",children:["Customer Support: ",(0,An.jsx)("a",{href:"mailto:support@bluemedix.com",className:"text-blue-600 hover:underline",children:"support@bluemedix.com"})]}),(0,An.jsxs)("p",{className:"text-gray-600",children:["Business Development: ",(0,An.jsx)("a",{href:"mailto:business@bluemedix.com",className:"text-blue-600 hover:underline",children:"business@bluemedix.com"})]}),(0,An.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"We typically respond within 24 hours"})]}),(0,An.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,An.jsx)("div",{className:"text-blue-600 mb-4",children:(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,An.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Visit Us"}),(0,An.jsxs)("p",{className:"text-gray-600 mb-2",children:["BlueMedix Headquarters",(0,An.jsx)("br",{}),"123 Medical Plaza, Suite 400",(0,An.jsx)("br",{}),"New Delhi, Delhi 110001",(0,An.jsx)("br",{}),"India"]}),(0,An.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Office Hours: Monday-Friday 9am-5pm"}),(0,An.jsx)("a",{href:"https://maps.google.com/?q=New+Delhi+India",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-4 text-blue-600 hover:underline",children:"Get Directions"})]})]}),(0,An.jsxs)("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-md",children:[(0,An.jsx)("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Send Us a Message"}),(0,An.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),(0,An.jsx)("input",{type:"text",id:"name",className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",placeholder:"john@example.com"})]}),(0,An.jsxs)("div",{className:"md:col-span-2",children:[(0,An.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,An.jsx)("input",{type:"text",id:"subject",className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",placeholder:"How can we help you?"})]}),(0,An.jsxs)("div",{className:"md:col-span-2",children:[(0,An.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),(0,An.jsx)("textarea",{id:"message",rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",placeholder:"Please provide details about your inquiry..."})]}),(0,An.jsx)("div",{className:"md:col-span-2 text-center",children:(0,An.jsx)("button",{type:"submit",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md text-lg font-medium",onClick:e=>{e.preventDefault(),dt.success("Thank you for your message! We'll get back to you soon."),e.target.closest("form").reset()},children:"Send Message"})})]})]})]})}),(0,An.jsx)("section",{className:"py-12 bg-blue-600 text-white",children:(0,An.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,An.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shop?"}),(0,An.jsx)("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Browse our extensive catalog of medical supplies and equipment. Quality products at competitive prices."}),(0,An.jsx)(Pe,{to:"/products",className:"inline-block bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-md text-lg font-medium",children:"Shop Now"})]})})]})},Mn=()=>{const[e,t]=(0,a.useState)({email:"",password:""}),[r,n]=(0,a.useState)(!1),s=ee(),o=J(),i=new URLSearchParams(o.search).get("redirect")||"/",l=r=>{t({...e,[r.target.name]:r.target.value})};return(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,An.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,An.jsx)("div",{children:(0,An.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,An.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),n(!0);try{const t=await On.post("http://localhost:8080/api/auth/login",e,{withCredentials:!0});if(t.data.success){localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("token",t.data.token);const e=localStorage.getItem("pendingCartItem");if(e)try{await On.post("http://localhost:8080/api/cart/add",{productId:e,quantity:1},{headers:{Authorization:`Bearer ${t.data.token}`}}),dt.success("Item added to cart"),localStorage.removeItem("pendingCartItem")}catch(o){console.error("Failed to add pending item to cart:",o)}const{role:r}=t.data.user;s("/"!==i?i:"admin"===r?"/admin/dashboard":"orderManager"===r?"/manager/dashboard":"/user/dashboard")}}catch(o){var r,a;console.error("Login error:",o),dt.error((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Login failed. Please try again.")}finally{n(!1)}},children:[(0,An.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:l})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,An.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:l})]})]}),(0,An.jsx)("div",{className:"flex items-center justify-between",children:(0,An.jsx)("div",{className:"text-sm",children:(0,An.jsx)(Pe,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?"Signing in...":"Sign in"})}),(0,An.jsx)("div",{className:"text-center",children:(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,An.jsx)(Pe,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})},Tn=()=>{const[e,t]=(0,a.useState)({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=(0,a.useState)(!1),s=ee(),o=r=>{t({...e,[r.target.name]:r.target.value})};return(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,An.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,An.jsx)("div",{children:(0,An.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),(0,An.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),e.password===e.confirmPassword){n(!0);try{const{confirmPassword:t,...r}=e;(await On.post("http://localhost:8080/api/auth/register",r)).data.success&&(dt.success("Registration successful ! Please login to continue."),s("/user/dashboard"))}catch(o){var r,a;console.error("Registration error:",o),dt.error((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Registration failed. Please try again.")}finally{n(!1)}}else dt.error("Passwords do not match")},children:[(0,An.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,An.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:e.name,onChange:o})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:o})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),(0,An.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Phone Number",value:e.phone,onChange:o})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,An.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:o})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),(0,An.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:e.confirmPassword,onChange:o})]})]}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?"Creating account...":"Sign up"})}),(0,An.jsx)("div",{className:"text-center",children:(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,An.jsx)(Pe,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})}),(0,An.jsx)("div",{className:"text-center",children:(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Home page",(0,An.jsx)(Pe,{to:"/home",className:"font-medium text-blue-600 hover:text-blue-500",children:"Home Page"})]})})]})]})})},In=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)("");return(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,An.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:s?"Enter OTP":"Forgot Password"}),(0,An.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:s?"Please enter the OTP sent to your email":"Enter your email address and we'll send you an OTP to reset your password"})]}),s?(0,An.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"otp",className:"sr-only",children:"OTP"}),(0,An.jsx)("input",{id:"otp",name:"otp",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter OTP",value:i,onChange:e=>l(e.target.value)})]}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"button",onClick:()=>{window.location.href=`/reset-password?email=${encodeURIComponent(e)}&otp=${i}`},className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify OTP"})})]}):(0,An.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),n(!0);try{(await On.post("http://localhost:8080/api/auth/forgot-password",{email:e})).data.success&&(dt.success("OTP has been sent to your email"),o(!0))}catch(s){var r,a;console.error("Forgot password error:",s),dt.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to send OTP. Please try again.")}finally{n(!1)}},children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>t(e.target.value)})]}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?"Sending...":"Send OTP"})})]}),(0,An.jsx)("div",{className:"text-center",children:(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",(0,An.jsx)(Pe,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})},Dn=()=>{const[e,t]=(0,a.useState)({email:"",otp:"",newPassword:"",confirmPassword:""}),[r,n]=(0,a.useState)(!1),s=ee(),o=J();(0,a.useEffect)((()=>{const e=new URLSearchParams(o.search),r=e.get("email"),n=e.get("otp");r&&n&&t((e=>({...e,email:r,otp:n})))}),[o]);const i=r=>{t({...e,[r.target.name]:r.target.value})};return(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,An.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset Your Password"}),(0,An.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),(0,An.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),e.newPassword===e.confirmPassword){n(!0);try{(await On.post("http://localhost:8080/api/auth/reset-password",{email:e.email,otp:e.otp,newPassword:e.newPassword})).data.success&&(dt.success("Password reset successful! Please log in with your new password."),s("/login"))}catch(o){var r,a;console.error("Reset password error:",o),dt.error((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to reset password. Please try again.")}finally{n(!1)}}else dt.error("Passwords do not match")},children:[(0,An.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:i,readOnly:!!e.email})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"otp",className:"sr-only",children:"OTP"}),(0,An.jsx)("input",{id:"otp",name:"otp",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"OTP",value:e.otp,onChange:i,readOnly:!!e.otp})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"newPassword",className:"sr-only",children:"New Password"}),(0,An.jsx)("input",{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"New Password",value:e.newPassword,onChange:i})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),(0,An.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:e.confirmPassword,onChange:i})]})]}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?"Resetting...":"Reset Password"})}),(0,An.jsx)("div",{className:"text-center",children:(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",(0,An.jsx)(Pe,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})},Rn=()=>{const[e,t]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",phone:"",adminSecretKey:""}),[r,n]=(0,a.useState)(!1),s=ee(),o=r=>{t({...e,[r.target.name]:r.target.value})};return(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,An.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Admin Account"}),(0,An.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"This page is for creating administrator accounts"})]}),(0,An.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),!e.name||!e.email||!e.password||!e.phone||!e.adminSecretKey)return dt.error("All fields are required");if(e.password!==e.confirmPassword)return dt.error("Passwords do not match");if(e.password.length<6)return dt.error("Password must be at least 6 characters");n(!0);try{const t=await On.post("http://localhost:8080/api/auth/create-admin",{name:e.name,email:e.email,password:e.password,phone:e.phone,adminSecretKey:e.adminSecretKey});t.data.success&&(dt.success("Admin account created successfully"),localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),s("/admin/dashboard"))}catch(o){var r,a;console.error("Admin creation error:",o),dt.error((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to create admin account")}finally{n(!1)}},children:[(0,An.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,An.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:e.name,onChange:o})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:o})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),(0,An.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Phone Number",value:e.phone,onChange:o})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,An.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:o})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),(0,An.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:e.confirmPassword,onChange:o})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"adminSecretKey",className:"sr-only",children:"Admin Secret Key"}),(0,An.jsx)("input",{id:"adminSecretKey",name:"adminSecretKey",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Admin Secret Key",value:e.adminSecretKey,onChange:o})]})]}),(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?(0,An.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,An.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,An.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,An.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):"Create Admin Account"})})]}),(0,An.jsx)("div",{className:"text-center mt-4",children:(0,An.jsx)(Pe,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})})},Ln=()=>{const[e,t]=(0,a.useState)({totalUsers:0,totalManagers:0,totalFranchises:0}),[r,n]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),r=await On.get("http://localhost:8080/api/users",{headers:{Authorization:`Bearer ${e}`}}),n=await On.get("http://localhost:8080/api/users/managers",{headers:{Authorization:`Bearer ${e}`}}),a=await On.get("http://localhost:8080/api/franchises",{headers:{Authorization:`Bearer ${e}`}});t({totalUsers:r.data.users.length,totalManagers:n.data.managers.length,totalFranchises:a.data.franchises.length})}catch(e){console.error("Error fetching dashboard data:",e)}finally{n(!1)}})()}),[]),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Total Users"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.totalUsers}),(0,An.jsx)(Pe,{to:"/admin/users",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View all users"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Order Managers"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.totalManagers}),(0,An.jsx)(Pe,{to:"/admin/managers",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View all managers"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Franchises"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:e.totalFranchises}),(0,An.jsx)(Pe,{to:"/admin/franchises",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View all franchises"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsx)(Pe,{to:"/admin/users/create",className:"block w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 text-center",children:"Create New User"}),(0,An.jsx)(Pe,{to:"/admin/managers/create",className:"block w-full py-2 px-4 bg-green-600 text-white rounded hover:bg-green-700 text-center",children:"Create New Manager"}),(0,An.jsx)(Pe,{to:"/admin/franchises/create",className:"block w-full py-2 px-4 bg-purple-600 text-white rounded hover:bg-purple-700 text-center",children:"Create New Franchise"}),(0,An.jsx)(Pe,{to:"/admin/categories",className:"block w-full py-2 px-4 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-center",children:"Manage Categories"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"System Status"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{children:"API Status"}),(0,An.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Online"})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{children:"Database"}),(0,An.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Connected"})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{children:"Last Backup"}),(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Today, 03:00 AM"})]})]})]})]})]})};var Fn=r(3536);const zn=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(1),[m,x]=(0,a.useState)(1),[g,y]=(0,a.useState)("createdAt"),[v,b]=(0,a.useState)("desc"),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[S,O]=(0,a.useState)(null),[C,_]=(0,a.useState)({name:"",email:"",password:"",role:"user",phone:"",address:""}),A=(0,a.useCallback)((0,Fn.debounce)((e=>{d(e)}),500),[]);(0,a.useEffect)((()=>{A(i)}),[i,A]),(0,a.useEffect)((()=>{P()}),[f,u,g,v,c]);const P=async()=>{try{n(!0),o(null);const a=localStorage.getItem("token");if(!a)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);let s=`http://localhost:8080/api/users?page=${f}`;u&&(s+=`&role=${u}`),c&&""!==c.trim()&&(s+=`&search=${encodeURIComponent(c.trim())}`),s+=`&sortBy=${g}&sortOrder=${v}`,console.log("Fetching users from:",s);const i=await On.get(s,{headers:{Authorization:`Bearer ${a}`}});var e,r;if(i.data&&i.data.success)t(i.data.users||[]),x((null===(e=i.data.pagination)||void 0===e?void 0:e.totalPages)||1),i.data.users&&0===i.data.users.length&&f>1&&p(1);else o((null===(r=i.data)||void 0===r?void 0:r.message)||"Failed to fetch users"),dt.error("Failed to fetch users")}catch(s){var a,i;console.error("Fetch users error:",s);const t=(null===(a=s.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"An error occurred while fetching users";o(t),dt.error(t)}finally{n(!1)}},E=e=>{e.preventDefault(),p(1),d(i)},M=e=>{const{name:t,value:r}=e.target;_({...C,[t]:r})},T=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"orderManager":return"bg-green-100 text-green-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),(0,An.jsx)("button",{onClick:()=>P(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh user list",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsx)("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add User"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{className:"md:col-span-2",children:(0,An.jsxs)("form",{onSubmit:E,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:i,onChange:e=>{l(e.target.value),""===e.target.value&&p(1)},onKeyDown:e=>"Enter"===e.key&&E(e),placeholder:"Search users by name or email",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("select",{value:u,onChange:e=>{h(e.target.value),p(1)},className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"All Roles"}),(0,An.jsx)("option",{value:"admin",children:"Admin"}),(0,An.jsx)("option",{value:"orderManager",children:"Manager"}),(0,An.jsx)("option",{value:"user",children:"User"})]})})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("button",{onClick:()=>P(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]}):0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No users found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:i||u?"No users match your search criteria.":"There are no users in the system yet."}),(i||u)&&(0,An.jsx)("button",{onClick:()=>{l(""),d(""),h(""),p(1),y("createdAt"),b("desc")},className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Filters"})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"name"===g?b("asc"===v?"desc":"asc"):(y("name"),b("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["User","name"===g&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===v?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"role"===g?b("asc"===v?"desc":"asc"):(y("role"),b("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Role","role"===g&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===v?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"createdAt"===g?b("asc"===v?"desc":"asc"):(y("createdAt"),b("desc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Joined","createdAt"===g&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===v?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,An.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}`,alt:e.name})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[e.phone&&(0,An.jsx)("div",{children:e.phone}),e.address&&(0,An.jsx)("div",{className:"truncate max-w-xs",children:e.address})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T(e.role)}`,children:"orderManager"===e.role?"Manager":e.role.charAt(0).toUpperCase()+e.role.slice(1)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.createdAt,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/admin/users/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,An.jsx)("button",{onClick:()=>(e=>{O(e),_({name:e.name,email:e.email,password:"",role:e.role,phone:e.phone||"",address:e.address||""}),k(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{const t=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.success?(dt.success("User deleted successfully"),P()):dt.error("Failed to delete user")}catch(s){var t,r;console.error("Delete user error:",s),dt.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete user")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id);var t}))})]})}),m>1&&(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,An.jsx)("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===f,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(1===f?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Previous"}),(0,An.jsx)("button",{onClick:()=>p((e=>Math.min(e+1,m))),disabled:f===m,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(f===m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Next"})]}),(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:f})," of"," ",(0,An.jsx)("span",{className:"font-medium",children:m})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>p(1),disabled:1===f,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"First"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L3.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]})]}),(0,An.jsxs)("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===f,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(1===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(()=>{const e=[];let t=Math.max(1,f-Math.floor(2.5)),r=Math.min(m,t+5-1);r-t+1<5&&(t=Math.max(1,r-5+1)),t>1&&(e.push((0,An.jsx)("button",{onClick:()=>p(1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500 hover:bg-gray-50",children:"1"},"first-page")),t>2&&e.push((0,An.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},"start-ellipsis")));for(let n=t;n<=r;n++)e.push((0,An.jsx)("button",{onClick:()=>p(n),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(f===n?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:n},n));return r<m&&(r<m-1&&e.push((0,An.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},"end-ellipsis")),e.push((0,An.jsx)("button",{onClick:()=>p(m),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500 hover:bg-gray-50",children:m},"last-page"))),e})(),(0,An.jsxs)("button",{onClick:()=>p((e=>Math.min(e+1,m))),disabled:f===m,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(f===m?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),(0,An.jsxs)("button",{onClick:()=>p(m),disabled:f===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(f===m?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Last"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L8.586 10 4.293 14.293a1 1 0 000 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L16.586 10l-4.293 4.293a1 1 0 000 1.414z",clipRule:"evenodd"})]})]})]})})]})]})]}),j&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New User"}),(0,An.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");(await On.post("http://localhost:8080/api/users",C,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("User added successfully"),w(!1),_({name:"",email:"",password:"",role:"user",phone:"",address:""}),P()):dt.error("Failed to add user")}catch(s){var t,r;console.error("Add user error:",s),dt.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to add user")}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name *"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:C.name,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address *"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:C.email,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password *"}),(0,An.jsx)("input",{type:"password",id:"password",name:"password",value:C.password,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"role",children:"Role *"}),(0,An.jsxs)("select",{id:"role",name:"role",value:C.role,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"user",children:"User"}),(0,An.jsx)("option",{value:"orderManager",children:"Manager"}),(0,An.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"text",id:"phone",name:"phone",value:C.phone,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"address",children:"Address"}),(0,An.jsx)("textarea",{id:"address",name:"address",value:C.address,onChange:M,rows:"2",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add User"})]})]})]})}),N&&S&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit User"}),(0,An.jsx)("button",{onClick:()=>{k(!1),O(null)},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={...C};t.password||delete t.password;(await On.put(`http://localhost:8080/api/users/${S._id}`,t,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("User updated successfully"),k(!1),O(null),P()):dt.error("Failed to update user")}catch(s){var t,r;console.error("Update user error:",s),dt.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update user")}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-name",children:"Full Name *"}),(0,An.jsx)("input",{type:"text",id:"edit-name",name:"name",value:C.name,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-email",children:"Email Address *"}),(0,An.jsx)("input",{type:"email",id:"edit-email",name:"email",value:C.email,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-password",children:"Password (Leave blank to keep current password)"}),(0,An.jsx)("input",{type:"password",id:"edit-password",name:"password",value:C.password,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-role",children:"Role *"}),(0,An.jsxs)("select",{id:"edit-role",name:"role",value:C.role,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"user",children:"User"}),(0,An.jsx)("option",{value:"orderManager",children:"Manager"}),(0,An.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"text",id:"edit-phone",name:"phone",value:C.phone,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-address",children:"Address"}),(0,An.jsx)("textarea",{id:"edit-address",name:"address",value:C.address,onChange:M,rows:"2",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{k(!1),O(null)},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Update User"})]})]})]})})]})},Bn=()=>{const{userId:e}=te(),t=ee(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)({name:"",email:"",password:"",role:"",phone:"",address:""});(0,a.useEffect)((()=>{(async()=>{try{l(!0);const t=localStorage.getItem("token");if(!t)return d("Authentication required. Please log in."),dt.error("Authentication required"),void l(!1);const r=await On.get(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(r.data.success){n(r.data.user),p({name:r.data.user.name||"",email:r.data.user.email||"",password:"",role:r.data.user.role||"user",phone:r.data.user.phone||"",address:r.data.user.address||""});try{const r=await On.get(`http://localhost:8080/api/users/${e}/orders`,{headers:{Authorization:`Bearer ${t}`}});r.data.success&&o(r.data.orders||[])}catch(a){console.error("Error fetching user orders:",a)}}else d("Failed to fetch user details"),dt.error("Failed to fetch user details")}catch(c){var t,r;console.error("Fetch user details error:",c),403===(null===(t=c.response)||void 0===t?void 0:t.status)?(d("You are not authorized to view this user"),dt.error("Access denied")):404===(null===(r=c.response)||void 0===r?void 0:r.status)?(d("User not found"),dt.error("User not found")):(d("An error occurred while fetching user details"),dt.error("Failed to load user details"))}finally{l(!1)}})()}),[e]);const m=e=>{const{name:t,value:r}=e.target;p({...f,[t]:r})},x=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):c?(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:c})]}),(0,An.jsxs)("button",{onClick:()=>t("/admin/users"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Users"]})]})}):r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,An.jsxs)(Pe,{to:"/admin/users",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Users"]}),(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 ml-4",children:"User Details"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{className:"lg:col-span-1",children:[(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Profile Information"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>h(!0),className:"text-blue-600 hover:text-blue-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,An.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const r=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?(dt.success("User deleted successfully"),t("/admin/users")):dt.error("Failed to delete user")}catch(c){var r,n;console.error("Delete user error:",c),dt.error((null===(r=c.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to delete user")}},className:"text-red-600 hover:text-red-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),(0,An.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,An.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-gray-100",children:(0,An.jsx)("img",{src:r.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&size=96`,alt:r.name,className:"h-full w-full object-cover"})})}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.name})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.email})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,An.jsx)("p",{className:"mt-1",children:(0,An.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"orderManager":return"bg-green-100 text-green-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(r.role)}`,children:"orderManager"===r.role?"Manager":r.role.charAt(0).toUpperCase()+r.role.slice(1)})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.phone||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.address||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:x(r.createdAt)})]})]})]})}),(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Account Statistics"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),(0,An.jsx)("div",{className:"text-sm text-blue-800",children:"Total Orders"})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,An.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",s.reduce(((e,t)=>e+(t.totalAmount||0)),0).toFixed(2)]}),(0,An.jsx)("div",{className:"text-sm text-green-800",children:"Total Spent"})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:s.filter((e=>"delivered"===e.deliverystatus)).length}),(0,An.jsx)("div",{className:"text-sm text-purple-800",children:"Completed Orders"})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter((e=>"delivered"!==e.deliverystatus&&"cancelled"!==e.deliverystatus)).length}),(0,An.jsx)("div",{className:"text-sm text-yellow-800",children:"Active Orders"})]})]})]})})]}),(0,An.jsxs)("div",{className:"lg:col-span-2",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Order History"})}),s.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>{var t;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(0,8)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(e.createdAt)}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full ${g(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(t=e.totalAmount)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/admin/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"})})]},e._id)}))})]})}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,An.jsx)("p",{children:"This user has not placed any orders yet."})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Saved Addresses"})}),r.address_info&&r.address_info.length>0?(0,An.jsx)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:r.address_info.map(((e,t)=>(0,An.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,An.jsxs)("div",{className:"flex justify-between items-start",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"font-medium",children:e.name}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.phone})]}),e.isDefault&&(0,An.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Default"})]}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,An.jsx)("p",{children:e.Street}),(0,An.jsxs)("p",{children:[e.city,", ",e.state," ",e.pincode]})]})]},t)))}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,An.jsx)("p",{children:"This user has not saved any addresses yet."})]})]})]})]}),u&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,An.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h3",{className:"text-lg font-medium",children:"Edit User"}),(0,An.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("token"),a={...f};a.password||delete a.password;(await On.put(`http://localhost:8080/api/users/${e}`,a,{headers:{Authorization:`Bearer ${t}`}})).data.success?(dt.success("User updated successfully"),h(!1),n({...r,name:f.name,email:f.email,role:f.role,phone:f.phone,address:f.address})):dt.error("Failed to update user")}catch(c){var a,s;console.error("Update user error:",c),dt.error((null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update user")}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:f.name,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:f.email,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password (leave blank to keep current)"}),(0,An.jsx)("input",{type:"password",id:"password",name:"password",value:f.password,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"role",children:"Role"}),(0,An.jsxs)("select",{id:"role",name:"role",value:f.role,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,An.jsx)("option",{value:"user",children:"User"}),(0,An.jsx)("option",{value:"orderManager",children:"Manager"}),(0,An.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"text",id:"phone",name:"phone",value:f.phone,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"address",children:"Address"}),(0,An.jsx)("textarea",{id:"address",name:"address",value:f.address,onChange:m,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:"3"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-end",children:[(0,An.jsx)("button",{type:"button",onClick:()=>h(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded mr-2",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Save Changes"})]})]})]})})]}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,An.jsx)("p",{className:"text-gray-500",children:"User not found."}),(0,An.jsx)("button",{onClick:()=>t("/admin/users"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Return to Users"})]})})},$n=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)(1),[m,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),[j,w]=(0,a.useState)({name:"",email:"",password:"",phone:"",franchise:""}),[N,k]=(0,a.useState)("createdAt"),[S,O]=(0,a.useState)("desc"),C=(0,a.useCallback)((0,Fn.debounce)((e=>{console.log("Debounced search query:",e),_(e)}),500),[]);(0,a.useEffect)((()=>{""!==c.trim()?C(c):_(),A()}),[u,N,S]);const _=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{o(!0),l(null);const i=localStorage.getItem("token");if(!i)return l("Authentication token not found. Please log in again."),dt.error("Authentication required"),void o(!1);let d=`http://localhost:8080/api/users/managers?page=${u}`;const f=null!==e?e:c;f&&""!==f.trim()&&(d+=`&search=${encodeURIComponent(f.trim())}`,console.log(`Filtering by search: ${f}`)),d+=`&sortBy=${N}&sortOrder=${S}`,console.log("Fetching managers from:",d);const m=await On.get(d,{headers:{Authorization:`Bearer ${i}`}});var r,n,a,s;if(console.log("Response data:",m.data),m.data&&m.data.success)console.log("Managers received:",(null===(r=m.data.managers)||void 0===r?void 0:r.length)||0),console.log("Total pages:",(null===(n=m.data.pagination)||void 0===n?void 0:n.totalPages)||1),t(m.data.managers||[]),p((null===(a=m.data.pagination)||void 0===a?void 0:a.totalPages)||1),m.data.managers&&0===m.data.managers.length&&u>1&&(console.log("Empty page, going back to page 1"),h(1));else l((null===(s=m.data)||void 0===s?void 0:s.message)||"Failed to fetch managers"),dt.error("Failed to fetch managers")}catch(i){var d,f;console.error("Fetch managers error:",i);const t=(null===(d=i.response)||void 0===d||null===(f=d.data)||void 0===f?void 0:f.message)||"An error occurred while fetching managers";l(t),dt.error(t)}finally{o(!1)}},A=async()=>{try{const t=localStorage.getItem("token");if(!t)return void dt.error("Authentication required to fetch franchises");const r=await On.get("http://localhost:8080/api/franchises",{headers:{Authorization:`Bearer ${t}`}});if(r.data&&r.data.success){const e=(r.data.franchises||[]).map((e=>{let t="No address";return e.address&&(t=`${e.address.city||""}, ${e.address.state||""}`.trim(),","===t&&(t="No address details")),{...e,location:t}}));n(e)}else{var e;dt.error((null===(e=r.data)||void 0===e?void 0:e.message)||"Failed to fetch franchises")}}catch(i){var t,r;console.error("Fetch franchises error:",i),dt.error((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load franchises")}},P=e=>{e.preventDefault(),h(1),_(c),console.log("Search submitted with query:",c)},E=e=>{const{name:t,value:r}=e.target;w({...j,[t]:r})};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Manager Management"}),(0,An.jsx)("button",{onClick:()=>_(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh manager list",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsx)("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Manager"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("form",{onSubmit:P,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:c,onChange:e=>{d(e.target.value),""===e.target.value&&(h(1),_(""))},onKeyDown:e=>"Enter"===e.key&&P(e),placeholder:"Search managers by name or email",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),s?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:i}),(0,An.jsx)("button",{onClick:()=>_(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]}):0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No managers found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:c?"No managers match your search criteria.":"There are no managers in the system yet."}),c&&(0,An.jsx)("button",{onClick:()=>{d(""),h(1),k("createdAt"),O("desc"),_(""),console.log("Filters cleared")},className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Filters"})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"name"===N?O("asc"===S?"desc":"asc"):(k("name"),O("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Manager","name"===N&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===S?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Franchise"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"createdAt"===N?O("asc"===S?"desc":"asc"):(k("createdAt"),O("desc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Joined","createdAt"===N&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===S?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,An.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}`,alt:e.name})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.phone||"No phone number"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.franchise?(0,An.jsxs)("div",{className:"text-sm text-gray-900",children:[e.franchise.name,(0,An.jsx)("div",{className:"text-xs text-gray-500",children:e.franchise.address?`${e.franchise.address.city}, ${e.franchise.address.state}`:"No address details"})]}):(0,An.jsx)("span",{className:"text-sm text-yellow-600",children:"No franchise assigned"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(r=e.createdAt,new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/admin/managers/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,An.jsx)("button",{onClick:()=>(e=>{var t;b(e),w({name:e.name,email:e.email,password:"",phone:e.phone||"",franchise:(null===(t=e.franchise)||void 0===t?void 0:t._id)||""}),y(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this manager?"))try{const r=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?(dt.success("Manager deleted successfully"),t((t=>t.filter((t=>t._id!==e))))):dt.error("Failed to delete manager")}catch(i){console.error("Delete manager error:",i);let a="Failed to delete manager";if(i.response){var r;const s=i.response.status,o=(null===(r=i.response.data)||void 0===r?void 0:r.message)||"";if(401===s)a="Authentication failed. Please log in again.";else if(403===s)a="You do not have permission to delete managers.";else{if(404===s)return t((t=>t.filter((t=>t._id!==e)))),void dt.success("Manager has been removed");a=500===s?`Server error: ${o||"Internal server error"}`:`Error (${s}): ${o||a}`}}else a=i.request?"No response from server. Please check your network connection.":`Request error: ${i.message}`;dt.error(a)}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id);var r}))})]})}),f>1&&(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,An.jsx)("button",{onClick:()=>h((e=>Math.max(e-1,1))),disabled:1===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(1===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Previous"}),(0,An.jsx)("button",{onClick:()=>h((e=>Math.min(e+1,f))),disabled:u===f,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(u===f?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Next"})]}),(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:u})," of"," ",(0,An.jsx)("span",{className:"font-medium",children:f})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>h(1),disabled:1===u,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"First"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L3.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]})]}),(0,An.jsxs)("button",{onClick:()=>h((e=>Math.max(e-1,1))),disabled:1===u,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(1===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(()=>{const e=[];let t=Math.max(1,u-Math.floor(2.5)),r=Math.min(f,t+5-1);r-t+1<5&&(t=Math.max(1,r-5+1)),t>1&&(e.push((0,An.jsx)("button",{onClick:()=>h(1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500 hover:bg-gray-50",children:"1"},"first-page")),t>2&&e.push((0,An.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},"start-ellipsis")));for(let n=t;n<=r;n++)e.push((0,An.jsx)("button",{onClick:()=>h(n),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(u===n?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:n},n));return r<f&&(r<f-1&&e.push((0,An.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},"end-ellipsis")),e.push((0,An.jsx)("button",{onClick:()=>h(f),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500 hover:bg-gray-50",children:f},"last-page"))),e})(),(0,An.jsxs)("button",{onClick:()=>h((e=>Math.min(e+1,f))),disabled:u===f,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(u===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),(0,An.jsxs)("button",{onClick:()=>h(f),disabled:u===f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(u===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Last"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L8.586 10 4.293 14.293a1 1 0 000 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L16.586 10l-4.293 4.293a1 1 0 000 1.414z",clipRule:"evenodd"})]})]})]})})]})]})]}),m&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Manager"}),(0,An.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={name:j.name,email:j.email,password:j.password,phone:j.phone||"",franchiseId:j.franchise||"",role:"orderManager"};console.log("Sending manager data:",t);(await On.post("http://localhost:8080/api/users/manager",t,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Manager added successfully"),x(!1),w({name:"",email:"",password:"",phone:"",franchise:""}),_()):dt.error("Failed to add manager")}catch(i){var t,r,n,a,s;console.error("Add manager error:",i),console.log("Error response:",null===(t=i.response)||void 0===t?void 0:t.data);const c=(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to add manager";var o,l;if(null!==(a=i.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.error)if(null!==(o=i.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.error.includes("validation failed")){const t=i.response.data.error.split(":").pop().trim();dt.error(`Validation error: ${t}`)}else dt.error(`Server error: ${i.response.data.error}`);else dt.error(c)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name *"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:j.name,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address *"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:j.email,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password *"}),(0,An.jsx)("input",{type:"password",id:"password",name:"password",value:j.password,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number *"}),(0,An.jsx)("input",{type:"text",id:"phone",name:"phone",value:j.phone,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"franchise",children:"Assign to Franchise"}),(0,An.jsxs)("select",{id:"franchise",name:"franchise",value:j.franchise,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),r.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," - ",e.location]},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Manager"})]})]})]})}),g&&v&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Manager"}),(0,An.jsx)("button",{onClick:()=>{y(!1),b(null)},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={name:j.name,email:j.email,phone:j.phone||"",franchiseId:j.franchise||"",role:"orderManager"};j.password&&(t.password=j.password),console.log("Sending manager update data:",t);(await On.patch(`http://localhost:8080/api/users/${v._id}`,t,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Manager updated successfully"),y(!1),b(null),_()):dt.error("Failed to update manager")}catch(i){var t,r,n,a,s;console.error("Update manager error:",i),console.log("Error response:",null===(t=i.response)||void 0===t?void 0:t.data);const c=(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to update manager";var o,l;if(null!==(a=i.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.error)if(null!==(o=i.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.error.includes("validation failed")){const t=i.response.data.error.split(":").pop().trim();dt.error(`Validation error: ${t}`)}else dt.error(`Server error: ${i.response.data.error}`);else dt.error(c)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-name",children:"Full Name *"}),(0,An.jsx)("input",{type:"text",id:"edit-name",name:"name",value:j.name,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-email",children:"Email Address *"}),(0,An.jsx)("input",{type:"email",id:"edit-email",name:"email",value:j.email,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-password",children:"Password (Leave blank to keep current password)"}),(0,An.jsx)("input",{type:"password",id:"edit-password",name:"password",value:j.password,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-phone",children:"Phone Number *"}),(0,An.jsx)("input",{type:"text",id:"edit-phone",name:"phone",value:j.phone,onChange:E,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-franchise",children:"Assign to Franchise"}),(0,An.jsxs)("select",{id:"edit-franchise",name:"franchise",value:j.franchise,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),r.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," - ",e.location]},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{y(!1),b(null)},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Update Manager"})]})]})]})})]})},Un=()=>{const{managerId:e}=te(),t=ee(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!0),[f,p]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)({name:"",email:"",password:"",phone:"",franchise:""});(0,a.useEffect)((()=>{(async()=>{try{h(!0);const r=localStorage.getItem("token");if(!r)return p("Authentication required. Please log in."),dt.error("Authentication required"),void h(!1);const a=await On.get(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${r}`}});if(a.data.success){var t;const e=a.data.user;if("orderManager"!==e.role)return p("The requested user is not a manager"),dt.error("Invalid manager ID"),void h(!1);n(e),y({name:e.name||"",email:e.email||"",password:"",phone:e.phone||"",franchise:(null===(t=e.franchise)||void 0===t?void 0:t._id)||""}),e.franchise&&o(e.franchise);try{const e=await On.get("http://localhost:8080/api/franchises",{headers:{Authorization:`Bearer ${r}`}});e.data.success&&l(e.data.franchises||[])}catch(s){console.error("Error fetching franchises:",s)}if(e.franchise)try{const t=await On.get(`http://localhost:8080/api/franchises/${e.franchise._id}/orders`,{headers:{Authorization:`Bearer ${r}`}});t.data.success&&d(t.data.orders||[])}catch(i){console.error("Error fetching franchise orders:",i)}}else p("Failed to fetch manager details"),dt.error("Failed to fetch manager details")}catch(f){var r,a;console.error("Fetch manager details error:",f),403===(null===(r=f.response)||void 0===r?void 0:r.status)?(p("You are not authorized to view this manager"),dt.error("Access denied")):404===(null===(a=f.response)||void 0===a?void 0:a.status)?(p("Manager not found"),dt.error("Manager not found")):(p("An error occurred while fetching manager details"),dt.error("Failed to load manager details"))}finally{h(!1)}})()}),[e]);const v=e=>{const{name:t,value:r}=e.target;y({...g,[t]:r})},b=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return u?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:f})]}),(0,An.jsxs)("button",{onClick:()=>t("/admin/managers"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Managers"]})]})}):r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,An.jsxs)(Pe,{to:"/admin/managers",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Managers"]}),(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 ml-4",children:"Manager Details"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{className:"lg:col-span-1",children:[(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Profile Information"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>x(!0),className:"text-blue-600 hover:text-blue-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,An.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this manager? This action cannot be undone."))try{const r=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?(dt.success("Manager deleted successfully"),t("/admin/managers")):dt.error("Failed to delete manager")}catch(f){var r,n;console.error("Delete manager error:",f),dt.error((null===(r=f.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to delete manager")}},className:"text-red-600 hover:text-red-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),(0,An.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,An.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-gray-100",children:(0,An.jsx)("img",{src:r.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&size=96&background=4CAF50&color=fff`,alt:r.name,className:"h-full w-full object-cover"})})}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.name})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.email})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,An.jsx)("p",{className:"mt-1",children:(0,An.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Order Manager"})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.phone||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:b(r.createdAt)})]})]})]})}),(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Assigned Franchise"}),s?(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-medium text-green-800",children:s.name}),(0,An.jsx)("p",{className:"text-sm text-green-700 mt-1",children:s.address?(0,An.jsxs)(An.Fragment,{children:[s.address.Street&&(0,An.jsxs)("span",{children:[s.address.Street,", "]}),s.address.city&&(0,An.jsxs)("span",{children:[s.address.city,", "]}),s.address.state&&(0,An.jsxs)("span",{children:[s.address.state," "]}),s.address.pincode&&(0,An.jsx)("span",{children:s.address.pincode})]}):"No address details available"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:c.length}),(0,An.jsx)("div",{className:"text-sm text-blue-800",children:"Total Orders"})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:c.filter((e=>"delivered"===e.deliverystatus)).length}),(0,An.jsx)("div",{className:"text-sm text-purple-800",children:"Completed"})]})]}),(0,An.jsx)(Pe,{to:`/admin/franchises/${s._id}`,className:"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded mt-4",children:"View Franchise Details"})]}):(0,An.jsxs)("div",{className:"text-center py-6",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-yellow-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,An.jsx)("p",{className:"text-yellow-700 font-medium",children:"No Franchise Assigned"}),(0,An.jsx)("p",{className:"text-gray-500 mt-2",children:"This manager is not currently assigned to any franchise."}),(0,An.jsx)("button",{onClick:()=>x(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Assign Franchise"})]})]})})]}),(0,An.jsxs)("div",{className:"lg:col-span-2",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Managed Orders"})}),s?c.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e=>{var t,r,n;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(0,8)]}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:(null===(r=e.user)||void 0===r?void 0:r.email)||"No email"})]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.createdAt)}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full ${j(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(n=e.totalAmount)||void 0===n?void 0:n.toFixed(2))||"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/admin/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"})})]},e._id)}))})]})}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,An.jsx)("p",{children:"No orders have been processed by this franchise yet."})]}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,An.jsx)("p",{children:"This manager needs to be assigned to a franchise to manage orders."}),(0,An.jsx)("button",{onClick:()=>x(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Assign Franchise"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Activity Log"})}),(0,An.jsx)("div",{className:"p-6",children:(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Account Created"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:b(r.createdAt)})]})]}),r.updatedAt&&r.updatedAt!==r.createdAt&&(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("div",{className:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Updated"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:b(r.updatedAt)})]})]}),s&&(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("div",{className:"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 01-1.581.814l-4.419-3.35-4.419 3.35A1 1 0 014 16V4zm7 5a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V9z",clipRule:"evenodd"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Assigned to Franchise"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:s.name})]})]}),c.length>0&&(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("div",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center",children:(0,An.jsxs)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Last Order Processed"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:b(c.sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)))[0].updatedAt)})]})]})]})})]})]})]}),m&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,An.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h3",{className:"text-lg font-medium",children:"Edit Manager"}),(0,An.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("token"),r={name:g.name,email:g.email,phone:g.phone||"",franchiseId:g.franchise||"",role:"orderManager"};g.password&&(r.password=g.password);if((await On.patch(`http://localhost:8080/api/users/${e}`,r,{headers:{Authorization:`Bearer ${t}`}})).data.success){dt.success("Manager updated successfully"),x(!1);const r=await On.get(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${t}`}});r.data.success&&(n(r.data.user),r.data.user.franchise?o(r.data.user.franchise):o(null))}else dt.error("Failed to update manager")}catch(f){var r,a;console.error("Update manager error:",f),dt.error((null===(r=f.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update manager")}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:g.name,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:g.email,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password (leave blank to keep current)"}),(0,An.jsx)("input",{type:"password",id:"password",name:"password",value:g.password,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"text",id:"phone",name:"phone",value:g.phone,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"franchise",children:"Assigned Franchise"}),(0,An.jsxs)("select",{id:"franchise",name:"franchise",value:g.franchise,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,An.jsx)("option",{value:"",children:"-- No Franchise --"}),i.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," ",e.address?`(${e.address.city}, ${e.address.state})`:""]},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex items-center justify-end",children:[(0,An.jsx)("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded mr-2",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Save Changes"})]})]})]})})]}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,An.jsx)("p",{className:"text-gray-500",children:"Manager not found."}),(0,An.jsx)("button",{onClick:()=>t("/admin/managers"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Return to Managers"})]})})},qn=()=>{const[e,t]=(0,a.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",franchiseId:""}),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!0),c=ee();(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=localStorage.getItem("token"),t=await On.get("http://localhost:8080/api/franchises",{headers:{Authorization:`Bearer ${e}`}});if(t.data.success){const e=t.data.franchises.filter((e=>!e.orderManager));n(e)}}catch(e){console.error("Error fetching franchises:",e),dt.error("Failed to load franchises")}finally{l(!1)}},u=r=>{t({...e,[r.target.name]:r.target.value})};return i?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Create New Manager"}),(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,An.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.password===e.confirmPassword){o(!0);try{const t=localStorage.getItem("token"),{confirmPassword:r,...n}=e;(await On.post("http://localhost:8080/api/users/manager",n,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(dt.success("Manager created successfully!"),c("/admin/managers"))}catch(a){var r,n;console.error("Create manager error:",a),dt.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to create manager. Please try again.")}finally{o(!1)}}else dt.error("Passwords do not match")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter full name",value:e.name,onChange:u})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter email address",value:e.email,onChange:u})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter phone number",value:e.phone,onChange:u})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"franchiseId",children:"Assign to Franchise"}),(0,An.jsxs)("select",{id:"franchiseId",name:"franchiseId",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:e.franchiseId,onChange:u,children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),r.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," - ",e.address.city,", ",e.address.state]},e._id)))]}),0===r.length&&(0,An.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:"No available franchises found. All franchises already have managers assigned."})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,An.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter password",value:e.password,onChange:u})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,An.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Confirm password",value:e.confirmPassword,onChange:u})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("button",{type:"button",onClick:()=>c("/admin/managers"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",disabled:s||0===r.length,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline "+(s||0===r.length?"opacity-50 cursor-not-allowed":""),children:s?"Creating...":"Create Manager"})]})]})})]})})},Hn=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[f,p]=(0,a.useState)(""),[m,x]=(0,a.useState)("name"),[g,y]=(0,a.useState)("asc"),[v,b]=(0,a.useState)({name:"",image:""});(0,a.useEffect)((()=>{j()}),[m,g]);const j=async()=>{try{n(!0);const e=localStorage.getItem("token"),r=await On.get(`http://localhost:8080/api/categories?sort=${m}&order=${g}`,{headers:{Authorization:`Bearer ${e}`}});r.data.success?t(r.data.categories):(o("Failed to fetch categories"),dt.error("Failed to fetch categories"))}catch(s){console.error("Fetch categories error:",s),o("An error occurred while fetching categories"),dt.error("Failed to load categories")}finally{n(!1)}},w=e=>{const{name:t,value:r}=e.target;b({...v,[t]:r})},N=e.filter((e=>e.name.toLowerCase().includes(f.toLowerCase())));return r&&0===e.length?(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Category Management"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Category Management"}),(0,An.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Category"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Search categories...",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{onClick:()=>p(""),className:`bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-r ${!f&&"opacity-50 cursor-not-allowed"}`,disabled:!f,children:"Clear"})]})}),s&&0===e.length?(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[(0,An.jsx)("strong",{className:"font-bold",children:"Error!"}),(0,An.jsxs)("span",{className:"block sm:inline",children:[" ",s]}),(0,An.jsx)("button",{onClick:()=>j(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]}):0===N.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No categories found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:f?"No categories match your search criteria.":"There are no categories in the system yet."}),f&&(0,An.jsx)("button",{onClick:()=>p(""),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Search"})]}):(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"name"===m?y("asc"===g?"desc":"asc"):(x("name"),y("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Name","name"===m&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===g?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"createdAt"===m?y("asc"===g?"desc":"asc"):(x("createdAt"),y("desc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Created","createdAt"===m&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===g?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.image?(0,An.jsx)("div",{className:"h-10 w-10 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/100?text=No+Image"}})}):(0,An.jsx)("span",{className:"text-gray-500 text-sm",children:"No image"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{onClick:()=>(e=>{h(e),b({name:e.name,image:e.image||""}),d(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category? This will affect all products in this category."))try{const t=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/categories/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.success?(dt.success("Category deleted successfully"),j()):dt.error("Failed to delete category")}catch(s){var t,r,n,a,o;console.error("Delete category error:",s),null!==(t=s.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&n.includes("associated with")?dt.error(s.response.data.message):dt.error((null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to delete category")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id)))})]})})}),i&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Category"}),(0,An.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name)try{const e=localStorage.getItem("token");(await On.post("http://localhost:8080/api/categories",v,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Category added successfully"),l(!1),b({name:"",image:""}),j()):dt.error("Failed to add category")}catch(s){var t,r;console.error("Add category error:",s),dt.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to add category")}else dt.error("Category name is required")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Category Name *"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:v.name,onChange:w,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"Image URL (Optional)"}),(0,An.jsx)("input",{type:"text",id:"image",name:"image",value:v.image,onChange:w,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.image&&(0,An.jsxs)("div",{className:"mt-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Preview:"}),(0,An.jsx)("div",{className:"h-20 w-20 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:v.image,alt:"Preview",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/100?text=Invalid+URL"}})})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,An.jsx)("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Category"})]})]})]})}),c&&u&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Category"}),(0,An.jsx)("button",{onClick:()=>{d(!1),h(null)},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name)try{const e=localStorage.getItem("token");(await On.put(`http://localhost:8080/api/categories/${u._id}`,v,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Category updated successfully"),d(!1),h(null),b({name:"",image:""}),j()):dt.error("Failed to update category")}catch(s){var t,r;console.error("Update category error:",s),dt.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update category")}else dt.error("Category name is required")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-name",children:"Category Name *"}),(0,An.jsx)("input",{type:"text",id:"edit-name",name:"name",value:v.name,onChange:w,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-image",children:"Image URL (Optional)"}),(0,An.jsx)("input",{type:"text",id:"edit-image",name:"image",value:v.image,onChange:w,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.image&&(0,An.jsxs)("div",{className:"mt-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Preview:"}),(0,An.jsx)("div",{className:"h-20 w-20 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:v.image,alt:"Preview",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/100?text=Invalid+URL"}})})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{d(!1),h(null)},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Update Category"})]})]})]})})]})},Wn=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)(""),[m,x]=(0,a.useState)("all"),[g,y]=(0,a.useState)({from:"",to:""});(0,a.useEffect)((()=>{v()}),[i,c,m,g]);const v=async()=>{try{n(!0),o(null);const a=localStorage.getItem("token");if(!a)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);let s=`http://localhost:8080/api/orders?page=${c}`;if("all"!==i&&(s+=`&deliverystatus=${encodeURIComponent(i)}`),f&&""!==f.trim()&&(s+=`&search=${encodeURIComponent(f.trim())}`),"today"===m){const e=(new Date).toISOString().split("T")[0];s+=`&startDate=${e}&endDate=${e}`}else if("week"===m){const e=new Date,t=new Date(e);t.setDate(e.getDate()-7),s+=`&startDate=${t.toISOString().split("T")[0]}&endDate=${e.toISOString().split("T")[0]}`}else if("month"===m){const e=new Date,t=new Date(e);t.setMonth(e.getMonth()-1),s+=`&startDate=${t.toISOString().split("T")[0]}&endDate=${e.toISOString().split("T")[0]}`}else"custom"===m&&g.from&&g.to&&(s+=`&startDate=${g.from}&endDate=${g.to}`);console.log("Fetching orders from:",s);const l=await On.get(s,{headers:{Authorization:`Bearer ${a}`}});var e,r;if(l.data&&l.data.success)t(l.data.orders||[]),h((null===(e=l.data.pagination)||void 0===e?void 0:e.pages)||1),l.data.orders&&0===l.data.orders.length&&c>1&&d(1);else o((null===(r=l.data)||void 0===r?void 0:r.message)||"Failed to fetch orders"),dt.error("Failed to fetch orders")}catch(s){console.error("Fetch orders error:",s);let t="An error occurred while fetching orders";if(b(s))t="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(s.response){var a;const r=s.response.status,n=(null===(a=s.response.data)||void 0===a?void 0:a.message)||"";t=401===r?"Authentication failed. Please log in again.":403===r?"You do not have permission to access order data.":404===r?"Order data not found.":500===r?`Server error: ${n||"Internal server error"}`:`Error (${r}): ${n||t}`}else t=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;o(t),dt.error(t)}finally{n(!1)}},b=e=>"Network Error"===e.message||e.request&&!e.response||"ECONNABORTED"===e.code||e.response&&(0===e.response.status||502===e.response.status||503===e.response.status||504===e.response.status),j=e=>{e.preventDefault(),d(1),v()},w=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Management"}),(0,An.jsx)("button",{onClick:()=>v(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh order list",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>{d(1),v()},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]}),(f||"all"!==m||"all"!==i)&&(0,An.jsxs)("button",{onClick:()=>{p(""),x("all"),y({from:"",to:""}),l("all"),d(1)},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Clear Filters"]})]})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("form",{onSubmit:j,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&j(e),placeholder:"Search by order ID or customer name",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"all",children:"All Time"}),(0,An.jsx)("option",{value:"today",children:"Today"}),(0,An.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,An.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,An.jsx)("option",{value:"custom",children:"Custom Range"})]})}),"custom"===m&&(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("input",{type:"date",value:g.from,onChange:e=>y({...g,from:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"date",value:g.to,onChange:e=>y({...g,to:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),(0,An.jsx)("div",{className:"mb-6 border-b",children:(0,An.jsxs)("nav",{className:"flex space-x-8",children:[(0,An.jsx)("button",{onClick:()=>{l("all"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("all"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"All Orders"}),(0,An.jsx)("button",{onClick:()=>{l("pending"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("pending"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pending"}),(0,An.jsx)("button",{onClick:()=>{l("accepted"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("accepted"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Accepted"}),(0,An.jsx)("button",{onClick:()=>{l("processing"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("processing"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Processing"}),(0,An.jsx)("button",{onClick:()=>{l("shipped"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("shipped"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Shipped"}),(0,An.jsx)("button",{onClick:()=>{l("delivered"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("delivered"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Delivered"}),(0,An.jsx)("button",{onClick:()=>{l("cancelled"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("cancelled"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Cancelled"})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?s.includes("Network error")?(0,An.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded shadow-md",children:(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-3",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Connection Problem"}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("p",{className:"mt-1",children:"Please check your internet connection and try again."})]}),(0,An.jsx)("div",{className:"mt-4",children:(0,An.jsxs)("button",{onClick:()=>v(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Retry Connection"]})})]})]})}):(0,An.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-3 flex-1",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error fetching orders"}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,An.jsx)("p",{children:s}),s.includes("Authentication")&&(0,An.jsx)("p",{className:"mt-1",children:"Please try logging out and logging back in."}),s.includes("Server error")&&(0,An.jsx)("p",{className:"mt-1",children:"The server encountered an error. Please try again later or contact support if the problem persists."})]}),(0,An.jsxs)("div",{className:"mt-4 flex",children:[(0,An.jsxs)("button",{onClick:()=>v(),className:"mr-2 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Try Again"]}),(0,An.jsx)("button",{onClick:()=>{p(""),x("all"),y({from:"",to:""}),l("all"),d(1)},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reset Filters"})]})]})]})}):0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No orders found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"all"===i?"There are no orders in the system yet.":`There are no ${i} orders.`})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(e._id.length-8)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(r=e.createdAt,new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.user?(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user.name}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.user.email})]})}):(0,An.jsx)("span",{className:"text-gray-400",children:"User unavailable"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.product_id?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.product_id.image&&e.product_id.image.length>0?(0,An.jsx)("img",{src:e.product_id.image[0],alt:e.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product_id.name}),e.franchise&&(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.franchise.name})]})]}):(0,An.jsx)("span",{className:"text-gray-400",children:"Product unavailable"})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.totalAmount.toFixed(2)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("Paid"===e.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.paymentStatus})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/admin/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),"delivered"!==e.deliverystatus&&"cancelled"!==e.deliverystatus&&(0,An.jsx)("div",{className:"relative inline-block text-left",children:(0,An.jsxs)("select",{value:"",onChange:r=>{r.target.value&&((async(e,r)=>{try{const a=localStorage.getItem("token");if(!a)return void dt.error("Authentication required to update order status");const s=await On.patch(`http://localhost:8080/api/orders/${e}/status`,{deliverystatus:r},{headers:{Authorization:`Bearer ${a}`}});var n;s.data&&s.data.success?(dt.success(`Order status updated to ${r}`),t((t=>t.map((t=>t._id===e?{...t,deliverystatus:r}:t))))):dt.error((null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update order status")}catch(s){console.error("Update order status error:",s);let t="Failed to update order status";if(b(s))t="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(s.response){var a;const r=s.response.status,n=(null===(a=s.response.data)||void 0===a?void 0:a.message)||"";t=400===r?`Validation error: ${n||"Please check your input"}`:401===r?"Authentication failed. Please log in again.":403===r?"You do not have permission to update this order.":404===r?"Order not found. It may have been deleted.":500===r?`Server error: ${n||"Internal server error"}`:`Error (${r}): ${n||t}`}else t=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(t)}})(e._id,r.target.value),r.target.value="")},className:"border border-gray-300 rounded text-xs py-1 px-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Update Status"}),"pending"!==e.deliverystatus&&(0,An.jsx)("option",{value:"pending",children:"Pending"}),"accepted"!==e.deliverystatus&&(0,An.jsx)("option",{value:"accepted",children:"Accepted"}),"delivered"!==e.deliverystatus&&(0,An.jsx)("option",{value:"delivered",children:"Delivered"}),"cancelled"!==e.deliverystatus&&(0,An.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]})})]},e._id);var r}))})]})}),u>1&&(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,An.jsx)("button",{onClick:()=>d((e=>Math.max(e-1,1))),disabled:1===c,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(1===c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Previous"}),(0,An.jsx)("button",{onClick:()=>d((e=>Math.min(e+1,u))),disabled:c===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(c===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Next"})]}),(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:c})," of"," ",(0,An.jsx)("span",{className:"font-medium",children:u})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>d(1),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===c?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"First"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L3.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]})]}),(0,An.jsxs)("button",{onClick:()=>d((e=>Math.max(e-1,1))),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(1===c?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(u)].map(((e,t)=>(0,An.jsx)("button",{onClick:()=>d(t+1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(c===t+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t+1},t))),(0,An.jsxs)("button",{onClick:()=>d((e=>Math.min(e+1,u))),disabled:c===u,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(c===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),(0,An.jsxs)("button",{onClick:()=>d(u),disabled:c===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(c===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Last"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L8.586 10 4.293 14.293a1 1 0 000 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L16.586 10l-4.293 4.293a1 1 0 000 1.414z",clipRule:"evenodd"})]})]})]})})]})]})]})]})},Vn=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(1),[m,x]=(0,a.useState)(1),[g,y]=(0,a.useState)("createdAt"),[v,b]=(0,a.useState)("desc"),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[S,O]=(0,a.useState)(!1),[C,_]=(0,a.useState)(null),[A,P]=(0,a.useState)({name:"",description:"",price:"",discount:"0",category:"",warehouseStock:"0",lowStockThreshold:"10",manufacturer:"",image:[],imageUrl:""}),[E,M]=(0,a.useState)({name:"",image:""}),[T,I]=(0,a.useState)([]),[D,R]=(0,a.useState)([]);(0,a.useEffect)((()=>{L(),F()}),[f,u,g,v]);const L=async()=>{try{o(!0);const e=localStorage.getItem("token");let r=`http://localhost:8080/api/products?page=${f}`;u&&(r+=`&category=${u}`),c&&(r+=`&search=${c}`),r+=`&sortBy=${g}&sortOrder=${v}`;const n=await On.get(r,{headers:{Authorization:`Bearer ${e}`}});n.data.success?(t(n.data.products),x(n.data.pagination.totalPages)):(l("Failed to fetch products"),dt.error("Failed to fetch products"))}catch(i){console.error("Fetch products error:",i),l("An error occurred while fetching products"),dt.error("Failed to load products")}finally{o(!1)}},F=async()=>{try{const e=localStorage.getItem("token"),t=await On.get("http://localhost:8080/api/categories",{headers:{Authorization:`Bearer ${e}`}});t.data.success?(console.log("Categories loaded:",t.data.categories),n(t.data.categories),0===t.data.categories.length&&dt.warning("No categories found. Please create a category first before adding products.")):dt.error("Failed to fetch categories")}catch(i){console.error("Fetch categories error:",i),dt.error("Failed to load categories")}},z=e=>{const{name:t,value:r}=e.target;P({...A,[t]:r})},B=e=>{const{name:t,value:r}=e.target;M({...E,[t]:r})},$=e=>e&&"string"===typeof e&&/^[0-9a-fA-F]{24}$/.test(e.trim()),U=e=>e?"object"===typeof e&&e._id?e._id.toString().trim():"string"===typeof e?e.trim():String(e).trim():"",q=e=>{const t=Array.from(e.target.files);I(t);const r=t.map((e=>URL.createObjectURL(e)));R(r)};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Management"}),(0,An.jsx)("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Product"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,An.jsx)("div",{className:"md:col-span-2",children:(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(1),L()},className:"flex",children:[(0,An.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Search products by name or description",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("select",{value:u,onChange:e=>{h(e.target.value),p(1)},className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"All Categories"}),r.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("select",{value:`${g}-${v}`,onChange:e=>{const[t,r]=e.target.value.split("-");y(t),b(r),p(1)},className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,An.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,An.jsx)("option",{value:"price-asc",children:"Price: Low to High"}),(0,An.jsx)("option",{value:"price-desc",children:"Price: High to Low"}),(0,An.jsx)("option",{value:"name-asc",children:"Name: A to Z"}),(0,An.jsx)("option",{value:"name-desc",children:"Name: Z to A"}),(0,An.jsx)("option",{value:"warehouseStock-asc",children:"Stock: Low to High"}),(0,An.jsx)("option",{value:"warehouseStock-desc",children:"Stock: High to Low"})]})})]})}),s?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:i}),(0,An.jsx)("button",{onClick:()=>L(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]}):0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No products found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:c||u?"No products match your search criteria.":"There are no products in the system yet."}),(c||u)&&(0,An.jsx)("button",{onClick:()=>{d(""),h(""),L()},className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Filters"})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.manufacturer&&(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.manufacturer})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.category?e.category.name:"Uncategorized"})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,An.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["$",e.price.toFixed(2)]}),e.discount>0&&(0,An.jsxs)("div",{className:"text-xs text-green-600",children:[e.discount,"% off"]})]}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,An.jsxs)("div",{className:"text-sm font-medium "+(e.warehouseStock<=(e.lowStockThreshold||10)?"text-red-600":"text-gray-900"),children:[e.warehouseStock," units"]}),e.warehouseStock<=(e.lowStockThreshold||10)&&(0,An.jsx)("div",{className:"text-xs text-red-600",children:"Low stock"})]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/admin/products/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,An.jsx)("button",{onClick:()=>(e=>{var t,r;_(e),P({name:e.name,description:e.description||"",price:e.price.toString(),discount:e.discount.toString(),category:(null===(t=e.category)||void 0===t?void 0:t._id)||"",warehouseStock:e.warehouseStock.toString(),lowStockThreshold:(null===(r=e.lowStockThreshold)||void 0===r?void 0:r.toString())||"10",manufacturer:e.manufacturer||"",image:e.image||[],imageUrl:""}),e.image&&e.image.length>0?R(e.image):R([]),I([]),k(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{const t=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/products/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.success?(dt.success("Product deleted successfully"),L()):dt.error("Failed to delete product")}catch(i){var t,r;console.error("Delete product error:",i),dt.error((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete product")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id)))})]})}),m>1&&(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,An.jsx)("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===f,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(1===f?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Previous"}),(0,An.jsx)("button",{onClick:()=>p((e=>Math.min(e+1,m))),disabled:f===m,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(f===m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Next"})]}),(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:f})," of"," ",(0,An.jsx)("span",{className:"font-medium",children:m})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>p(1),disabled:1===f,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"First"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L3.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]})]}),(0,An.jsxs)("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===f,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(1===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(m)].map(((e,t)=>(0,An.jsx)("button",{onClick:()=>p(t+1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(f===t+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t+1},t))),(0,An.jsxs)("button",{onClick:()=>p((e=>Math.min(e+1,m))),disabled:f===m,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(f===m?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),(0,An.jsxs)("button",{onClick:()=>p(m),disabled:f===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(f===m?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Last"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L8.586 10 4.293 14.293a1 1 0 000 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L16.586 10l-4.293 4.293a1 1 0 000 1.414z",clipRule:"evenodd"})]})]})]})})]})]})]}),j&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 max-h-screen overflow-y-auto",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Product"}),(0,An.jsx)("button",{onClick:()=>{w(!1),I([]),R([])},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!A.category)return void dt.error("Please select a category");const t=U(A.category);if(console.log("Prepared category ID:",t),!$(t))return dt.error("Invalid category ID format. Please select a valid category."),void console.error("Invalid category ID format:",t);try{const e=localStorage.getItem("token");console.log("Selected category ID:",A.category);const r={name:A.name,description:A.description,price:A.price,discount:A.discount,category:t,warehouseStock:A.warehouseStock,lowStockThreshold:A.lowStockThreshold,manufacturer:A.manufacturer};if(A.image&&A.image.length>0&&(r.image=A.image),0===T.length){console.log("Sending as JSON:",r);return void((await On.post("http://localhost:8080/api/products",r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data.success?(dt.success("Product added successfully"),w(!1),P({name:"",description:"",price:"",discount:"0",category:"",warehouseStock:"0",lowStockThreshold:"10",manufacturer:"",image:[],imageUrl:""}),L()):dt.error("Failed to add product"))}const n=new FormData;n.append("name",A.name),n.append("description",A.description),n.append("price",A.price),n.append("discount",A.discount),n.append("category",t),n.append("warehouseStock",A.warehouseStock),n.append("lowStockThreshold",A.lowStockThreshold),n.append("manufacturer",A.manufacturer),T.forEach((e=>{n.append("images",e)}));(await On.post("http://localhost:8080/api/products",n,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.success?(dt.success("Product added successfully"),w(!1),P({name:"",description:"",price:"",discount:"0",category:"",warehouseStock:"0",lowStockThreshold:"10",manufacturer:"",image:[]}),I([]),R([]),L()):dt.error("Failed to add product")}catch(i){var r,n,a,s;if(console.error("Add product error:",i),"Category not found"===(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message))dt.error("The selected category was not found. Please select a valid category."),F();else dt.error((null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to add product")}},children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Product Name *"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:A.name,onChange:z,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Description"}),(0,An.jsx)("textarea",{id:"description",name:"description",value:A.description,onChange:z,rows:"4",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price",children:"Price *"}),(0,An.jsx)("input",{type:"number",id:"price",name:"price",value:A.price,onChange:z,required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"discount",children:"Discount (%)"}),(0,An.jsx)("input",{type:"number",id:"discount",name:"discount",value:A.discount,onChange:z,min:"0",max:"100",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"Category"}),(0,An.jsxs)("select",{id:"category",name:"category",value:A.category,onChange:z,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a category"}),r.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]}),!A.category&&(0,An.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Please select a category"}),0===r.length&&(0,An.jsxs)("div",{className:"mt-2",children:[(0,An.jsx)("p",{className:"text-red-500 text-xs mb-1",children:"No categories available"}),(0,An.jsx)("button",{type:"button",onClick:()=>O(!0),className:"text-blue-600 text-xs underline",children:"Create a category first"})]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"warehouseStock",children:"Warehouse Stock"}),(0,An.jsx)("input",{type:"number",id:"warehouseStock",name:"warehouseStock",value:A.warehouseStock,onChange:z,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,An.jsx)("input",{type:"number",id:"lowStockThreshold",name:"lowStockThreshold",value:A.lowStockThreshold,onChange:z,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"manufacturer",children:"Manufacturer"}),(0,An.jsx)("input",{type:"text",id:"manufacturer",name:"manufacturer",value:A.manufacturer,onChange:z,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Product Images"}),(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-xs mb-1",children:"Add Image URL"}),(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("input",{type:"text",name:"imageUrl",value:A.imageUrl||"",onChange:z,placeholder:"Enter image URL",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"button",onClick:()=>{A.imageUrl&&(R([...D,A.imageUrl]),P({...A,image:[...A.image,A.imageUrl],imageUrl:""}))},className:"bg-blue-500 text-white px-3 py-2 rounded-r hover:bg-blue-600",children:"Add"})]}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid image URL and click Add"})]}),(0,An.jsxs)("div",{className:"mt-3",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-xs mb-1",children:"Or Upload Images (Optional)"}),(0,An.jsx)("input",{type:"file",id:"images",name:"images",onChange:q,multiple:!0,accept:"image/*",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),D.length>0&&(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Image Preview"}),(0,An.jsx)("div",{className:"grid grid-cols-3 gap-2",children:D.map(((e,t)=>(0,An.jsx)("div",{className:"h-24 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"h-full w-full object-cover"})},t)))})]})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{w(!1),I([]),R([])},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Product"})]})]})]})}),S&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Category"}),(0,An.jsx)("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),E.name)try{const e=localStorage.getItem("token");(await On.post("http://localhost:8080/api/categories",E,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Category created successfully"),M({name:"",image:""}),O(!1),F()):dt.error("Failed to create category")}catch(i){var t,r;console.error("Create category error:",i),dt.error((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create category")}else dt.error("Category name is required")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category-name",children:"Category Name *"}),(0,An.jsx)("input",{type:"text",id:"category-name",name:"name",value:E.name,onChange:B,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category-image",children:"Image URL (Optional)"}),(0,An.jsx)("input",{type:"text",id:"category-image",name:"image",value:E.image,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,An.jsx)("button",{type:"button",onClick:()=>O(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Create Category"})]})]})]})}),N&&C&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 max-h-screen overflow-y-auto",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Product"}),(0,An.jsx)("button",{onClick:()=>{k(!1),_(null),I([]),R([])},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!A.category)return void dt.error("Please select a category");const t=U(A.category);if(console.log("Prepared category ID for edit:",t),!$(t))return dt.error("Invalid category ID format. Please select a valid category."),void console.error("Invalid category ID format for edit:",t);try{const e=localStorage.getItem("token");console.log("Selected category ID for edit:",A.category);const r={name:A.name,description:A.description,price:A.price,discount:A.discount,category:t,warehouseStock:A.warehouseStock,lowStockThreshold:A.lowStockThreshold,manufacturer:A.manufacturer};if(A.image&&A.image.length>0&&(r.image=A.image),0===T.length){console.log("Sending as JSON for edit:",r);return void((await On.put(`http://localhost:8080/api/products/${C._id}`,r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data.success?(dt.success("Product updated successfully"),k(!1),_(null),R([]),L()):dt.error("Failed to update product"))}const n=new FormData;n.append("name",A.name),n.append("description",A.description),n.append("price",A.price),n.append("discount",A.discount),n.append("category",A.category.trim()),n.append("warehouseStock",A.warehouseStock),n.append("lowStockThreshold",A.lowStockThreshold),n.append("manufacturer",A.manufacturer),T.length>0&&T.forEach((e=>{n.append("images",e)}));(await On.put(`http://localhost:8080/api/products/${C._id}`,n,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.success?(dt.success("Product updated successfully"),k(!1),_(null),I([]),R([]),L()):dt.error("Failed to update product")}catch(i){var r,n,a,s;if(console.error("Update product error:",i),"Category not found"===(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message))dt.error("The selected category was not found. Please select a valid category."),F();else dt.error((null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update product")}},children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-name",children:"Product Name *"}),(0,An.jsx)("input",{type:"text",id:"edit-name",name:"name",value:A.name,onChange:z,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-description",children:"Description"}),(0,An.jsx)("textarea",{id:"edit-description",name:"description",value:A.description,onChange:z,rows:"4",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-price",children:"Price *"}),(0,An.jsx)("input",{type:"number",id:"edit-price",name:"price",value:A.price,onChange:z,required:!0,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-discount",children:"Discount (%)"}),(0,An.jsx)("input",{type:"number",id:"edit-discount",name:"discount",value:A.discount,onChange:z,min:"0",max:"100",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-category",children:"Category"}),(0,An.jsxs)("select",{id:"edit-category",name:"category",value:A.category,onChange:z,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a category"}),r.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]}),!A.category&&(0,An.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Please select a category"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-warehouseStock",children:"Warehouse Stock"}),(0,An.jsx)("input",{type:"number",id:"edit-warehouseStock",name:"warehouseStock",value:A.warehouseStock,onChange:z,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-lowStockThreshold",children:"Low Stock Threshold"}),(0,An.jsx)("input",{type:"number",id:"edit-lowStockThreshold",name:"lowStockThreshold",value:A.lowStockThreshold,onChange:z,min:"0",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-manufacturer",children:"Manufacturer"}),(0,An.jsx)("input",{type:"text",id:"edit-manufacturer",name:"manufacturer",value:A.manufacturer,onChange:z,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-images",children:"Product Images (Leave empty to keep current images)"}),(0,An.jsx)("input",{type:"file",id:"edit-images",name:"images",onChange:q,multiple:!0,accept:"image/*",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),D.length>0&&(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:T.length>0?"New Images Preview":"Current Images"}),(0,An.jsx)("div",{className:"grid grid-cols-3 gap-2",children:D.map(((e,t)=>(0,An.jsx)("div",{className:"h-24 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"h-full w-full object-cover"})},t)))})]})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{k(!1),_(null),I([]),R([])},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Update Product"})]})]})]})})]})},Kn=()=>{const{productId:e}=te(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),l=ee();if((0,a.useEffect)((()=>{(async()=>{try{s(!0);const t=localStorage.getItem("token");if(!t)return i("Authentication required"),dt.error("Authentication required"),void l("/login");const n=await On.get(`http://localhost:8080/api/products/${e}`,{headers:{Authorization:`Bearer ${t}`}});n.data.success?r(n.data.product):(i("Failed to fetch product details"),dt.error("Failed to fetch product details"))}catch(o){console.error("Fetch product details error:",o),i("An error occurred while fetching product details"),dt.error("Failed to load product details")}finally{s(!1)}})()}),[e,l]),n)return(0,An.jsx)("div",{className:"p-6",children:(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})});if(o||!t)return(0,An.jsx)("div",{className:"p-6",children:(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:o||"Product not found"}),(0,An.jsx)("button",{onClick:()=>l("/admin/products"),className:"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded",children:"Back to Products"})]})});const c=t.price*(1-t.discount/100);return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Details"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)(Pe,{to:"/admin/products",className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded",children:"Back to Products"}),(0,An.jsx)(Pe,{to:`/products/${t._id}`,target:"_blank",className:"bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 px-4 rounded",children:"View Public Page"}),(0,An.jsx)(Pe,{to:"/admin/products",state:{editProduct:t},className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded",children:"Edit Product"})]})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("div",{className:"bg-gray-100 rounded-lg overflow-hidden h-80 mb-4",children:t.image&&t.image.length>0?(0,An.jsx)("img",{src:t.image[0],alt:t.name,className:"w-full h-full object-contain"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),t.image&&t.image.length>0&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"All Product Images"}),(0,An.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t.image.map(((e,r)=>(0,An.jsx)("div",{className:"h-20 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:e,alt:`${t.name} ${r+1}`,className:"h-full w-full object-cover"})},r)))})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.name}),t.category&&(0,An.jsx)("div",{className:"mb-4",children:(0,An.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded",children:t.category.name})}),(0,An.jsxs)("div",{className:"flex items-center mb-4",children:[(0,An.jsxs)("span",{className:"text-2xl font-bold text-gray-800",children:["$",c.toFixed(2)]}),t.discount>0&&(0,An.jsxs)(An.Fragment,{children:[(0,An.jsxs)("span",{className:"ml-2 text-lg text-gray-500 line-through",children:["$",t.price.toFixed(2)]}),(0,An.jsxs)("span",{className:"ml-2 bg-red-100 text-red-800 text-sm font-medium px-2 py-0.5 rounded",children:[t.discount,"% OFF"]})]})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,An.jsx)("p",{className:"text-gray-600",children:t.description||"No description provided"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Inventory Information"}),(0,An.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Warehouse Stock:"}),(0,An.jsxs)("span",{className:"font-medium "+(t.warehouseStock<=t.lowStockThreshold?"text-red-600":"text-green-600"),children:[t.warehouseStock," units",t.warehouseStock<=t.lowStockThreshold&&(0,An.jsx)("span",{className:"ml-2 text-xs bg-red-100 text-red-800 px-1 py-0.5 rounded",children:"Low Stock"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Low Stock Threshold:"}),(0,An.jsxs)("span",{className:"font-medium",children:[t.lowStockThreshold," units"]})]})]})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Information"}),(0,An.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[t.manufacturer&&(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Manufacturer:"}),(0,An.jsx)("span",{className:"font-medium",children:t.manufacturer})]}),(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Created At:"}),(0,An.jsx)("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString()})]}),(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Last Updated:"}),(0,An.jsx)("span",{className:"font-medium",children:new Date(t.updatedAt).toLocaleDateString()})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Product ID:"}),(0,An.jsx)("span",{className:"font-medium text-xs",children:t._id})]})]})]})]})]})})]})},Yn=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)("createdAt"),[m,x]=(0,a.useState)("desc"),[g,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)([]),[S,O]=(0,a.useState)({name:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},contactNumber:"",email:"",manager:""});(0,a.useEffect)((()=>{C(),_()}),[c,f,m]);const C=async()=>{try{n(!0),o(null);const a=localStorage.getItem("token");if(!a)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);let s=`http://localhost:8080/api/franchises?page=${c}`;i&&""!==i.trim()&&(s+=`&search=${encodeURIComponent(i.trim())}`),s+=`&sortBy=${f}&sortOrder=${m}`,console.log("Fetching franchises from:",s),console.log("Using token:",a?`${a.substring(0,10)}...`:"No token");const l=await On.get(s,{headers:{Authorization:`Bearer ${a}`}});var e,r;if(console.log("Response received:",l.status,l.statusText),console.log("Response data:",JSON.stringify(l.data,null,2)),l.data&&l.data.success)t(l.data.franchises||[]),h((null===(e=l.data.pagination)||void 0===e?void 0:e.pages)||1),l.data.franchises&&0===l.data.franchises.length&&c>1&&d(1),0===l.data.franchises.length&&1===c&&o(null);else o((null===(r=l.data)||void 0===r?void 0:r.message)||"Failed to fetch franchises"),dt.error("Failed to fetch franchises")}catch(s){console.error("Fetch franchises error:",s);let r="An error occurred while fetching franchises";if(E(s))r="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(s.response){var a;const o=s.response.status,i=(null===(a=s.response.data)||void 0===a?void 0:a.message)||"";if(401===o)r="Authentication failed. Please log in again.";else if(403===o)r="You do not have permission to access franchise data.";else{if(404===o)return t([]),h(1),void n(!1);r=500===o?`Server error: ${i||"Internal server error"}`:`Error (${o}): ${i||r}`}}else r=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;o(r),dt.error(r),t([])}finally{n(!1)}},_=async()=>{try{const t=localStorage.getItem("token");if(!t)return void dt.error("Authentication required to fetch managers");const r=await On.get("http://localhost:8080/api/users/managers",{headers:{Authorization:`Bearer ${t}`}});var e;if(r.data&&r.data.success)k(r.data.managers||[]);else dt.error((null===(e=r.data)||void 0===e?void 0:e.message)||"Failed to fetch managers")}catch(s){console.error("Fetch managers error:",s);let r="Failed to load managers";if(s.response){var t;const n=s.response.status,a=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"";r=401===n?"Authentication failed. Please log in again.":403===n?"You do not have permission to access manager data.":404===n?"Manager data not found.":500===n?`Server error: ${a||"Internal server error"}`:`Error (${n}): ${a||r}`}else r=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(r)}},A=e=>{e.preventDefault(),d(1),C()},P=()=>{l(""),d(1),p("createdAt"),x("desc")},E=e=>"Network Error"===e.message||e.request&&!e.response||"ECONNABORTED"===e.code||e.response&&(0===e.response.status||502===e.response.status||503===e.response.status||504===e.response.status),M=e=>{const{name:t,value:r}=e.target;if(t.startsWith("address.")){const e=t.split(".")[1];O({...S,address:{...S.address,[e]:r}})}else O({...S,[t]:r});console.log("Updated form data:",S)},T=e;return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Franchise Management"}),(0,An.jsx)("button",{onClick:()=>C(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh franchise list",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsx)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Franchise"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("form",{onSubmit:A,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&A(e),placeholder:"Search franchises by name, location, or manager",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?s.includes("Network error")?(0,An.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded shadow-md",children:(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-3",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Connection Problem"}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("p",{className:"mt-1",children:"Please check your internet connection and try again."})]}),(0,An.jsx)("div",{className:"mt-4",children:(0,An.jsxs)("button",{onClick:()=>C(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Retry Connection"]})})]})]})}):(0,An.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-3 flex-1",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error fetching franchises"}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,An.jsx)("p",{children:s}),s.includes("Authentication")&&(0,An.jsx)("p",{className:"mt-1",children:"Please try logging out and logging back in."}),s.includes("Server error")&&(0,An.jsx)("p",{className:"mt-1",children:"The server encountered an error. Please try again later or contact support if the problem persists."})]}),(0,An.jsxs)("div",{className:"mt-4 flex",children:[(0,An.jsxs)("button",{onClick:()=>C(),className:"mr-2 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Try Again"]}),(0,An.jsx)("button",{onClick:P,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reset Filters"})]})]})]})}):0===T.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No franchises found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:i?"No franchises match your search criteria.":"There are no franchises in the system yet."}),i&&(0,An.jsx)("button",{onClick:P,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Filters"})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"name"===f?x("asc"===m?"desc":"asc"):(p("name"),x("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Name","name"===f&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===m?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"address.city"===f?x("asc"===m?"desc":"asc"):(p("address.city"),x("asc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Address","address.city"===f&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===m?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{"createdAt"===f?x("asc"===m?"desc":"asc"):(p("createdAt"),x("desc"))},children:(0,An.jsxs)("div",{className:"flex items-center",children:["Created","createdAt"===f&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===m?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.address?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("div",{children:e.address.street}),(0,An.jsxs)("div",{children:[e.address.city,", ",e.address.state]}),(0,An.jsxs)("div",{children:[e.address.pincode,", ",e.address.country]})]}):(0,An.jsx)("span",{className:"text-yellow-600",children:"No address information"})})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[e.contactNumber&&(0,An.jsx)("div",{children:e.contactNumber}),e.email&&(0,An.jsx)("div",{className:"text-blue-600",children:e.email})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.orderManager?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,An.jsx)("img",{className:"h-8 w-8 rounded-full",src:e.orderManager.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.orderManager.name)}`,alt:e.orderManager.name})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.orderManager.name}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.orderManager.email})]})]}):(0,An.jsx)("span",{className:"text-yellow-600 text-sm",children:"No manager assigned"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/admin/franchises/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,An.jsx)("button",{onClick:()=>(e=>{var t;console.log("Opening edit modal with franchise:",e),w(e);const r=e.address||{street:"",city:"",state:"",pincode:"",country:"India"};O({name:e.name,address:{street:r.street||"",city:r.city||"",state:r.state||"",pincode:r.pincode||"",country:r.country||"India"},contactNumber:e.contactNumber||"",email:e.email||"",manager:(null===(t=e.orderManager)||void 0===t?void 0:t._id)||""}),b(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this franchise?"))try{const r=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/franchises/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?(dt.success("Franchise deleted successfully"),t((t=>t.filter((t=>t._id!==e))))):dt.error("Failed to delete franchise")}catch(s){console.error("Delete franchise error:",s);let a="Failed to delete franchise";if(s.response){var r;const o=s.response.status,i=(null===(r=s.response.data)||void 0===r?void 0:r.message)||"";if(401===o)a="Authentication failed. Please log in again.";else if(403===o)a="You do not have permission to delete franchises.";else{if(404===o)return t((t=>t.filter((t=>t._id!==e)))),void dt.success("Franchise has been removed");a=409===o?`Cannot delete: ${i||"Franchise has associated data"}`:500===o?`Server error: ${i||"Internal server error"}`:`Error (${o}): ${i||a}`}}else a=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(a)}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id)))})]})}),u>1&&(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,An.jsx)("button",{onClick:()=>d((e=>Math.max(e-1,1))),disabled:1===c,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(1===c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Previous"}),(0,An.jsx)("button",{onClick:()=>d((e=>Math.min(e+1,u))),disabled:c===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md "+(c===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Next"})]}),(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:c})," of"," ",(0,An.jsx)("span",{className:"font-medium",children:u})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>d(1),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===c?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"First"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L3.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]})]}),(0,An.jsxs)("button",{onClick:()=>d((e=>Math.max(e-1,1))),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(1===c?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(u)].map(((e,t)=>(0,An.jsx)("button",{onClick:()=>d(t+1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(c===t+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t+1},t))),(0,An.jsxs)("button",{onClick:()=>d((e=>Math.min(e+1,u))),disabled:c===u,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium "+(c===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),(0,An.jsxs)("button",{onClick:()=>d(u),disabled:c===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(c===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Last"}),(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L8.586 10 4.293 14.293a1 1 0 000 1.414z",clipRule:"evenodd"}),(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 001.414 0l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 1.414L16.586 10l-4.293 4.293a1 1 0 000 1.414z",clipRule:"evenodd"})]})]})]})})]})]})]}),g&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Franchise"}),(0,An.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");(await On.post("http://localhost:8080/api/franchises",S,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Franchise added successfully"),y(!1),O({name:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},contactNumber:"",email:"",manager:""}),C()):dt.error("Failed to add franchise")}catch(s){console.error("Add franchise error:",s);let r="Failed to add franchise";if(s.response){var t;const n=s.response.status,a=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"";r=400===n?`Validation error: ${a||"Please check your input"}`:401===n?"Authentication failed. Please log in again.":403===n?"You do not have permission to add franchises.":409===n?`Franchise already exists: ${a}`:500===n?`Server error: ${a||"Internal server error"}`:`Error (${n}): ${a||r}`}else r=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(r)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Franchise Name *"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:S.name,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Address *"}),(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsx)("input",{type:"text",id:"street",name:"address.street",placeholder:"Street",value:S.address.street,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"text",id:"city",name:"address.city",placeholder:"City",value:S.address.city,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,An.jsx)("input",{type:"text",id:"state",name:"address.state",placeholder:"State",value:S.address.state,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"text",id:"pincode",name:"address.pincode",placeholder:"Pincode",value:S.address.pincode,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsx)("input",{type:"text",id:"country",name:"address.country",placeholder:"Country",value:S.address.country,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"contactNumber",children:"Contact Number"}),(0,An.jsx)("input",{type:"text",id:"contactNumber",name:"contactNumber",value:S.contactNumber,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:S.email,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"manager",children:"Manager"}),(0,An.jsxs)("select",{id:"manager",name:"manager",value:S.manager,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a manager"}),N.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Franchise"})]})]})]})}),v&&j&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Franchise"}),(0,An.jsx)("button",{onClick:()=>{b(!1),w(null)},className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");(await On.put(`http://localhost:8080/api/franchises/${j._id}`,S,{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Franchise updated successfully"),b(!1),w(null),C()):dt.error("Failed to update franchise")}catch(s){console.error("Update franchise error:",s);let r="Failed to update franchise";if(s.response){var t;const n=s.response.status,a=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"";r=400===n?`Validation error: ${a||"Please check your input"}`:401===n?"Authentication failed. Please log in again.":403===n?"You do not have permission to update franchises.":404===n?"Franchise not found. It may have been deleted.":409===n?`Conflict error: ${a}`:500===n?`Server error: ${a||"Internal server error"}`:`Error (${n}): ${a||r}`}else r=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(r)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-name",children:"Franchise Name *"}),(0,An.jsx)("input",{type:"text",id:"edit-name",name:"name",value:S.name,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Address *"}),(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsx)("input",{type:"text",id:"edit-street",name:"address.street",placeholder:"Street",value:S.address.street,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"text",id:"edit-city",name:"address.city",placeholder:"City",value:S.address.city,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,An.jsx)("input",{type:"text",id:"edit-state",name:"address.state",placeholder:"State",value:S.address.state,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"text",id:"edit-pincode",name:"address.pincode",placeholder:"Pincode",value:S.address.pincode,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsx)("input",{type:"text",id:"edit-country",name:"address.country",placeholder:"Country",value:S.address.country,onChange:M,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-contactNumber",children:"Contact Number"}),(0,An.jsx)("input",{type:"text",id:"edit-contactNumber",name:"contactNumber",value:S.contactNumber,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-email",children:"Email"}),(0,An.jsx)("input",{type:"email",id:"edit-email",name:"email",value:S.email,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"edit-manager",children:"Manager"}),(0,An.jsxs)("select",{id:"edit-manager",name:"manager",value:S.manager,onChange:M,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a manager"}),N.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{type:"button",onClick:()=>{b(!1),w(null)},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Update Franchise"})]})]})]})})]})},Xn=()=>{const{franchiseId:e}=te(),t=ee(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!0),[f,p]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)({name:"",email:"",phone:"",address:{Street:"",city:"",state:"",pincode:""}});(0,a.useEffect)((()=>{(async()=>{try{h(!0);const i=localStorage.getItem("token");if(!i)return p("Authentication required. Please log in."),dt.error("Authentication required"),void h(!1);const c=await On.get(`http://localhost:8080/api/franchises/${e}`,{headers:{Authorization:`Bearer ${i}`}});if(c.data.success){var t,r,a,s;const h=c.data.franchise;n(h),y({name:h.name||"",email:h.email||"",phone:h.phone||"",address:{Street:(null===(t=h.address)||void 0===t?void 0:t.Street)||"",city:(null===(r=h.address)||void 0===r?void 0:r.city)||"",state:(null===(a=h.address)||void 0===a?void 0:a.state)||"",pincode:(null===(s=h.address)||void 0===s?void 0:s.pincode)||""}});try{const t=await On.get(`http://localhost:8080/api/franchises/${e}/managers`,{headers:{Authorization:`Bearer ${i}`}});t.data.success&&o(t.data.managers||[])}catch(u){console.error("Error fetching franchise managers:",u)}try{const t=await On.get(`http://localhost:8080/api/franchises/${e}/orders`,{headers:{Authorization:`Bearer ${i}`}});t.data.success&&l(t.data.orders||[])}catch(m){console.error("Error fetching franchise orders:",m)}try{const t=await On.get(`http://localhost:8080/api/franchises/${e}/inventory`,{headers:{Authorization:`Bearer ${i}`}});t.data.success&&d(t.data.inventory||[])}catch(x){console.error("Error fetching franchise inventory:",x)}}else p("Failed to fetch franchise details"),dt.error("Failed to fetch franchise details")}catch(f){var i,c;console.error("Fetch franchise details error:",f),403===(null===(i=f.response)||void 0===i?void 0:i.status)?(p("You are not authorized to view this franchise"),dt.error("Access denied")):404===(null===(c=f.response)||void 0===c?void 0:c.status)?(p("Franchise not found"),dt.error("Franchise not found")):(p("An error occurred while fetching franchise details"),dt.error("Failed to load franchise details"))}finally{h(!1)}})()}),[e]);const v=e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,n]=t.split(".");y({...g,[e]:{...g[e],[n]:r}})}else y({...g,[t]:r})},b=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return u?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:f})]}),(0,An.jsxs)("button",{onClick:()=>t("/admin/franchises"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Franchises"]})]})}):r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,An.jsxs)(Pe,{to:"/admin/franchises",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Franchises"]}),(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 ml-4",children:"Franchise Details"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{className:"lg:col-span-1",children:[(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Franchise Information"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>x(!0),className:"text-blue-600 hover:text-blue-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,An.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this franchise? This action cannot be undone."))try{const r=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/franchises/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?(dt.success("Franchise deleted successfully"),t("/admin/franchises")):dt.error("Failed to delete franchise")}catch(f){var r,n;console.error("Delete franchise error:",f),dt.error((null===(r=f.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to delete franchise")}},className:"text-red-600 hover:text-red-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Franchise Name"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.name})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.email||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.phone||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,An.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:r.address?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("p",{children:r.address.Street||""}),(0,An.jsxs)("p",{children:[r.address.city||"",r.address.city&&r.address.state?", ":"",r.address.state||""," ",r.address.pincode||""]})]}):"No address provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Created On"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:b(r.createdAt)})]})]})]})}),(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Franchise Statistics"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),(0,An.jsx)("div",{className:"text-sm text-blue-800",children:"Managers"})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.length}),(0,An.jsx)("div",{className:"text-sm text-green-800",children:"Total Orders"})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:c.length}),(0,An.jsx)("div",{className:"text-sm text-purple-800",children:"Products"})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,An.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:["$",i.reduce(((e,t)=>e+(t.totalAmount||0)),0).toFixed(2)]}),(0,An.jsx)("div",{className:"text-sm text-yellow-800",children:"Revenue"})]})]}),(0,An.jsx)("div",{className:"mt-6",children:(0,An.jsx)(Pe,{to:`/admin/franchise-stock?franchise=${e}`,className:"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Manage Inventory"})})]})}),(0,An.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Assigned Managers"}),(0,An.jsx)(Pe,{to:"/admin/managers/create",className:"text-blue-600 hover:text-blue-800",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})})]}),s.length>0?(0,An.jsx)("div",{className:"space-y-4",children:s.map((e=>(0,An.jsxs)("div",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=4CAF50&color=fff`,alt:e.name})}),(0,An.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,An.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]}),(0,An.jsx)(Pe,{to:`/admin/managers/${e._id}`,className:"text-blue-600 hover:text-blue-900 text-sm",children:"View"})]},e._id)))}):(0,An.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,An.jsx)("p",{children:"No managers assigned to this franchise."})})]})})]}),(0,An.jsxs)("div",{className:"lg:col-span-2",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Recent Orders"})}),i.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice(0,10).map((e=>{var t,r,n;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(0,8)]}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:(null===(r=e.user)||void 0===r?void 0:r.email)||"No email"})]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.createdAt)}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full ${j(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(n=e.totalAmount)||void 0===n?void 0:n.toFixed(2))||"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/admin/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"})})]},e._id)}))})]})}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,An.jsx)("p",{children:"No orders have been processed by this franchise yet."})]}),i.length>10&&(0,An.jsx)("div",{className:"p-4 border-t border-gray-200 text-center",children:(0,An.jsx)(Pe,{to:`/admin/orders?franchise=${e}`,className:"text-blue-600 hover:text-blue-900",children:"View All Orders"})})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Inventory Summary"})}),c.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,5).map((e=>{var t,r,n,a,s,o,i,l;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,An.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:(null===(t=e.product)||void 0===t?void 0:t.img_url)||"https://via.placeholder.com/40",alt:null===(r=e.product)||void 0===r?void 0:r.name})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(n=e.product)||void 0===n?void 0:n.name)||"Unknown Product"}),(0,An.jsxs)("div",{className:"text-xs text-gray-500",children:["SKU: ",(null===(a=e.product)||void 0===a?void 0:a.sku)||"N/A"]})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(s=e.product)||void 0===s||null===(o=s.category)||void 0===o?void 0:o.name)||"Uncategorized"}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.quantity||0}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(i=e.product)||void 0===i||null===(l=i.price)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.quantity>10?(0,An.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-green-100 text-green-800",children:"In Stock"}):e.quantity>0?(0,An.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Low Stock"}):(0,An.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-red-100 text-red-800",children:"Out of Stock"})})]},e._id)}))})]})}):(0,An.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,An.jsx)("p",{children:"No inventory items found for this franchise."})]}),c.length>5&&(0,An.jsx)("div",{className:"p-4 border-t border-gray-200 text-center",children:(0,An.jsx)(Pe,{to:`/admin/franchise-stock?franchise=${e}`,className:"text-blue-600 hover:text-blue-900",children:"View Full Inventory"})})]})]})]}),m&&(0,An.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,An.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h3",{className:"text-lg font-medium",children:"Edit Franchise"}),(0,An.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-500",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,An.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("token");(await On.put(`http://localhost:8080/api/franchises/${e}`,g,{headers:{Authorization:`Bearer ${t}`}})).data.success?(dt.success("Franchise updated successfully"),x(!1),n({...r,name:g.name,email:g.email,phone:g.phone,address:g.address})):dt.error("Failed to update franchise")}catch(f){var a,s;console.error("Update franchise error:",f),dt.error((null===(a=f.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update franchise")}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Franchise Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:g.name,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:g.email,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"text",id:"phone",name:"phone",value:g.phone,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Address"}),(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("input",{type:"text",name:"address.Street",value:g.address.Street,onChange:v,placeholder:"Street Address",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})}),(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("input",{type:"text",name:"address.city",value:g.address.city,onChange:v,placeholder:"City",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,An.jsx)("input",{type:"text",name:"address.state",value:g.address.state,onChange:v,placeholder:"State",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),(0,An.jsx)("input",{type:"text",name:"address.pincode",value:g.address.pincode,onChange:v,placeholder:"Pincode",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]}),(0,An.jsxs)("div",{className:"flex items-center justify-end",children:[(0,An.jsx)("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded mr-2",children:"Cancel"}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Save Changes"})]})]})]})})]}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,An.jsx)("p",{className:"text-gray-500",children:"Franchise not found."}),(0,An.jsx)("button",{onClick:()=>t("/admin/franchises"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Return to Franchises"})]})})},Gn=()=>{var e,t;const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(10),[j,w]=(0,a.useState)([]),[N,k]=(0,a.useState)("product"),[S,O]=(0,a.useState)(""),[C,_]=(0,a.useState)([]),[A,P]=(0,a.useState)(""),[E,M]=(0,a.useState)(!1),[T,I]=(0,a.useState)([]),[D,R]=(0,a.useState)([]),[L,F]=(0,a.useState)(10);(0,a.useEffect)((()=>{z(),B(),$()}),[]);const z=async()=>{try{d(!0);const e=localStorage.getItem("token");let t="http://localhost:8080/api/products?limit=100";A&&(t+=`&category=${A}`),S&&(t+=`&search=${S}`);const r=await On.get(t,{headers:{Authorization:`Bearer ${e}`}});r.data.success?n(r.data.products):dt.error("Failed to fetch products")}catch(e){console.error("Fetch products error:",e),dt.error("Failed to load products")}finally{d(!1),l(!1)}},B=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=await On.get("http://localhost:8080/api/franchises",{headers:{Authorization:`Bearer ${e}`}});t.data.success?o(t.data.franchises):dt.error("Failed to fetch franchises")}catch(e){console.error("Fetch franchises error:",e),dt.error("Failed to load franchises")}finally{h(!1),l(!1)}},$=async()=>{try{const e=localStorage.getItem("token"),t=await On.get("http://localhost:8080/api/categories",{headers:{Authorization:`Bearer ${e}`}});t.data.success?_(t.data.categories):dt.error("Failed to fetch categories")}catch(e){console.error("Fetch categories error:",e),dt.error("Failed to load categories")}},U=async e=>{try{p(!0);const t=localStorage.getItem("token"),r=await On.get(`http://localhost:8080/api/franchise-stock/product/${e}`,{headers:{Authorization:`Bearer ${t}`}});r.data.success?w(r.data.stockItems||[]):(dt.error("Failed to fetch stock data"),w([]))}catch(t){console.error("Fetch stock error:",t),dt.error("Failed to load stock data"),w([])}finally{p(!1)}},q=async e=>{try{p(!0);const t=localStorage.getItem("token"),r=await On.get(`http://localhost:8080/api/franchise-stock/franchise/${e}`,{headers:{Authorization:`Bearer ${t}`}});r.data.success?w(r.data.stockItems||[]):(dt.error("Failed to fetch franchise stock data"),w([]))}catch(t){console.error("Fetch franchise stock error:",t),dt.error("Failed to load franchise stock data"),w([])}finally{p(!1)}};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Franchise Stock Management"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>k("product"),className:"px-4 py-2 rounded "+("product"===N?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"View by Product"}),(0,An.jsx)("button",{onClick:()=>k("franchise"),className:"px-4 py-2 rounded "+("franchise"===N?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"View by Franchise"}),(0,An.jsx)("button",{onClick:()=>{M(!E),R([]),I([])},className:"px-4 py-2 rounded "+(E?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:E?"Exit Bulk Mode":"Bulk Assign Mode"})]})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),z()},className:"flex flex-wrap gap-4",children:[(0,An.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,An.jsx)("input",{type:"text",value:S,onChange:e=>O(e.target.value),placeholder:"Search products by name",className:"w-full p-2 border border-gray-300 rounded"})}),(0,An.jsx)("div",{className:"w-full md:w-auto",children:(0,An.jsxs)("select",{value:A,onChange:e=>{P(e.target.value)},className:"w-full p-2 border border-gray-300 rounded",children:[(0,An.jsx)("option",{value:"",children:"All Categories"}),C.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),(0,An.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Search"})]})}),E?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Bulk Assign Products to Franchises"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,An.jsx)("h3",{className:"font-medium",children:"Select Products"}),(0,An.jsx)("button",{type:"button",onClick:()=>{D.length===r.length?R([]):R(r.map((e=>e._id)))},className:"text-sm text-blue-600 hover:text-blue-800",children:D.length===r.length?"Deselect All":"Select All"})]}),(0,An.jsx)("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:c?(0,An.jsx)("div",{className:"p-4 text-center",children:"Loading products..."}):0===r.length?(0,An.jsx)("div",{className:"p-4 text-center",children:"No products found"}):(0,An.jsx)("ul",{className:"divide-y",children:r.map((e=>{var t;return(0,An.jsx)("li",{className:"p-2 hover:bg-gray-50",children:(0,An.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,An.jsx)("input",{type:"checkbox",checked:D.includes(e._id),onChange:()=>{return t=e._id,void R((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"h-4 w-4 text-blue-600"}),(0,An.jsx)("span",{children:e.name}),(0,An.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(null===(t=e.category)||void 0===t?void 0:t.name)||"No Category",")"]})]})},e._id)}))})}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[D.length," products selected"]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,An.jsx)("h3",{className:"font-medium",children:"Select Franchises"}),(0,An.jsx)("button",{type:"button",onClick:()=>{T.length===s.length?I([]):I(s.map((e=>e._id)))},className:"text-sm text-blue-600 hover:text-blue-800",children:T.length===s.length?"Deselect All":"Select All"})]}),(0,An.jsx)("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:u?(0,An.jsx)("div",{className:"p-4 text-center",children:"Loading franchises..."}):0===s.length?(0,An.jsx)("div",{className:"p-4 text-center",children:"No franchises found"}):(0,An.jsx)("ul",{className:"divide-y",children:s.map((e=>{var t,r;return(0,An.jsx)("li",{className:"p-2 hover:bg-gray-50",children:(0,An.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,An.jsx)("input",{type:"checkbox",checked:T.includes(e._id),onChange:()=>{return t=e._id,void I((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"h-4 w-4 text-blue-600"}),(0,An.jsx)("span",{children:e.name}),(0,An.jsxs)("span",{className:"text-xs text-gray-500",children:["(",null===(t=e.address)||void 0===t?void 0:t.city,", ",null===(r=e.address)||void 0===r?void 0:r.state,")"]})]})},e._id)}))})}),(0,An.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[T.length," franchises selected"]})]})]}),(0,An.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity to Add"}),(0,An.jsx)("input",{type:"number",min:"0",value:L,onChange:e=>F(e.target.value),className:"p-2 border border-gray-300 rounded w-32"})]}),(0,An.jsx)("button",{onClick:async()=>{if(0===D.length||0===T.length||L<0)return void dt.error("Please select at least one product, one franchise, and enter a valid quantity");l(!0);const e=localStorage.getItem("token");let t=0,r=0;const n=dt.info(`Assigning products to franchises: 0/${D.length*T.length} completed`,{autoClose:!1});try{const s=D.length*T.length;let o=0;for(const i of D)for(const l of T){try{await On.put(`http://localhost:8080/api/franchise-stock/franchise/${l}/product/${i}`,{quantity:parseInt(L),isAddition:!0},{headers:{Authorization:`Bearer ${e}`}}),t++}catch(a){console.error(`Error assigning product ${i} to franchise ${l}:`,a),r++}o++,dt.update(n,{render:`Assigning products to franchises: ${o}/${s} completed`})}dt.dismiss(n),t>0&&dt.success(`Successfully assigned ${t} product-franchise combinations`),r>0&&dt.error(`Failed to assign ${r} product-franchise combinations`),"product"===N&&m?U(m):"franchise"===N&&g&&q(g)}catch(a){console.error("Bulk assign error:",a),dt.error("An error occurred during bulk assignment")}finally{l(!1)}},disabled:i||0===D.length||0===T.length,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-6 rounded "+(i||0===D.length||0===T.length?"opacity-50 cursor-not-allowed":""),children:i?"Processing...":"Assign Products to Franchises"})]}),(0,An.jsx)("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"flex-shrink-0",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,An.jsx)("div",{className:"ml-3",children:(0,An.jsx)("p",{className:"text-sm text-yellow-700",children:"This will add the specified quantity to each selected product in each selected franchise. For example, if you select 3 products and 2 franchises with quantity 10, it will add 10 units of each product to each franchise (6 operations total)."})})]})})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Assign Product to Franchise"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Product"}),(0,An.jsxs)("select",{value:m,onChange:e=>{const t=e.target.value;x(t),t?U(t):w([])},className:"w-full p-2 border border-gray-300 rounded",children:[(0,An.jsx)("option",{value:"",children:"Select a product"}),r.map((e=>{var t;return(0,An.jsxs)("option",{value:e._id,children:[e.name," (",(null===(t=e.category)||void 0===t?void 0:t.name)||"No Category",")"]},e._id)}))]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Franchise"}),(0,An.jsxs)("select",{value:g,onChange:e=>{const t=e.target.value;y(t),t?q(t):w([])},className:"w-full p-2 border border-gray-300 rounded",children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),s.map((e=>{var t,r;return(0,An.jsxs)("option",{value:e._id,children:[e.name," (",null===(t=e.address)||void 0===t?void 0:t.city,", ",null===(r=e.address)||void 0===r?void 0:r.state,")"]},e._id)}))]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity to Add"}),(0,An.jsx)("input",{type:"number",min:"0",value:v,onChange:e=>b(e.target.value),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,An.jsx)("button",{onClick:async()=>{if(!m||!g||v<0)dt.error("Please select a product, franchise, and enter a valid quantity");else try{l(!0);const e=localStorage.getItem("token");(await On.put(`http://localhost:8080/api/franchise-stock/franchise/${g}/product/${m}`,{quantity:parseInt(v),isAddition:!0},{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Stock updated successfully"),"product"===N?U(m):q(g)):dt.error("Failed to update stock")}catch(r){var e,t;console.error("Update stock error:",r),dt.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to update stock")}finally{l(!1)}},disabled:i||!m||!g,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded "+(!i&&m&&g?"":"opacity-50 cursor-not-allowed"),children:i?"Updating...":"Update Stock"})]}),!E&&(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,An.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"product"===N?m?`Stock for ${(null===(e=r.find((e=>e._id===m)))||void 0===e?void 0:e.name)||"Selected Product"}`:"Select a product to view stock":g?`Inventory for ${(null===(t=s.find((e=>e._id===g)))||void 0===t?void 0:t.name)||"Selected Franchise"}`:"Select a franchise to view inventory"})}),f?(0,An.jsxs)("div",{className:"p-6 text-center",children:[(0,An.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),(0,An.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading stock data..."})]}):0===j.length?(0,An.jsxs)("div",{className:"p-6 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,An.jsx)("p",{className:"mt-4 text-gray-600",children:"product"===N?m?"No stock data found for this product":"Select a product to view stock data":g?"No inventory found for this franchise":"Select a franchise to view inventory"})]}):(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:["product"===N?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Franchise"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]}):(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"})]}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((e=>{var t,r,n,a,s,o,i,l;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:["product"===N?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.franchise)||void 0===t?void 0:t.name)||"Unknown Franchise"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[null===(r=e.franchise)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.city,", ",null===(a=e.franchise)||void 0===a||null===(s=a.address)||void 0===s?void 0:s.state]})})]}):(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(o=e.product)||void 0===o?void 0:o.name)||"Unknown Product"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:(null===(i=e.product)||void 0===i||null===(l=i.category)||void 0===l?void 0:l.name)||"No Category"})})]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-900",children:e.quantity})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.lastUpdated).toLocaleString()})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)("button",{onClick:()=>{var t,r;"product"===N?y(null===(t=e.franchise)||void 0===t?void 0:t._id):x(null===(r=e.product)||void 0===r?void 0:r._id);b(10)},className:"text-blue-600 hover:text-blue-900 mr-3",children:"Update"})})]},e._id)}))})]})})]})]})};function Qn(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Qn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const Jn=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Qn(e))&&(n&&(n+=" "),n+=t);return n};var Zn=r(9889),ea=r.n(Zn),ta=r(620),ra=r.n(ta),na=r(5268),aa=r.n(na),sa=r(3097),oa=r.n(sa),ia=r(9160),la=r.n(ia),ca=function(e){return 0===e?0:e>0?1:-1},da=function(e){return ra()(e)&&e.indexOf("%")===e.length-1},ua=function(e){return la()(e)&&!aa()(e)},ha=function(e){return ua(e)||ra()(e)},fa=0,pa=function(e){var t=++fa;return"".concat(e||"").concat(t)},ma=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ua(e)&&!ra()(e))return n;if(da(e)){var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return aa()(r)&&(r=n),a&&r>t&&(r=t),r},xa=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ga=function(e,t){return ua(e)&&ua(t)?function(r){return e+r*(t-e)}:function(){return t}};function ya(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):oa()(e,t))===r})):null}var va=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},ba=r(9686),ja=r.n(ba),wa=r(1629),Na=r.n(wa),ka=r(6686),Sa=r.n(ka),Oa=r(9062);function Ca(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _a(e){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(e)}var Aa=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pa=["points","pathLength"],Ea={svg:["viewBox","children"],polygon:Pa,polyline:Pa},Ma=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ta=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,a.isValidElement)(e)&&(r=e.props),!Sa()(r))return null;var n={};return Object.keys(r).forEach((function(e){Ma.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})})),n},Ia=function(e,t,r){if(!Sa()(e)||"object"!==_a(e))return null;var n=null;return Object.keys(e).forEach((function(a){var s=e[a];Ma.includes(a)&&"function"===typeof s&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(s,t,r))})),n},Da=["children"],Ra=["children"];function La(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}var za={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ba=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},$a=null,Ua=null,qa=function e(t){if(t===$a&&Array.isArray(Ua))return Ua;var r=[];return a.Children.forEach(t,(function(t){ja()(t)||((0,Oa.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),Ua=r,$a=t,r};function Ha(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map((function(e){return Ba(e)})):[Ba(t)],qa(e).forEach((function(e){var t=oa()(e,"type.displayName")||oa()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function Wa(e,t){var r=Ha(e,t);return r&&r[0]}var Va=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!ua(r)||r<=0||!ua(n)||n<=0)},Ka=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ya=function(e){return e&&e.type&&ra()(e.type)&&Ka.indexOf(e.type)>=0},Xa=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,a.isValidElement)(e)&&(n=e.props),!Sa()(n))return null;var s={};return Object.keys(n).forEach((function(e){var a;(function(e,t,r,n){var a,s=null!==(a=null===Ea||void 0===Ea?void 0:Ea[n])&&void 0!==a?a:[];return!Na()(e)&&(n&&s.includes(t)||Aa.includes(t))||r&&Ma.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(s[e]=n[e])})),s},Ga=function e(t,r){if(t===r)return!0;var n=a.Children.count(t);if(n!==a.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Qa(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Qa(o,i))return!1}return!0},Qa=function(e,t){if(ja()(e)&&ja()(t))return!0;if(!ja()(e)&&!ja()(t)){var r=e.props||{},n=r.children,a=La(r,Da),s=t.props||{},o=s.children,i=La(s,Ra);return n&&o?Ca(a,i)&&Ga(n,o):!n&&!o&&Ca(a,i)}return!1},Ja=function(e,t){var r=[],n={};return qa(e).forEach((function(e,a){if(Ya(e))r.push(e);else if(e){var s=Ba(e.type),o=t[s]||{},i=o.handler,l=o.once;if(i&&(!l||!n[s])){var c=i(e,s,a);r.push(c),n[s]=!0}}})),r};function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rs(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Za(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Za(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return as(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return as(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ss=(0,a.forwardRef)((function(e,t){var r=e.aspect,n=e.initialDimension,s=void 0===n?{width:-1,height:-1}:n,o=e.width,i=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,x=void 0===m?0:m,g=e.id,y=e.className,v=e.onResize,b=e.style,j=void 0===b?{}:b,w=(0,a.useRef)(null),N=(0,a.useRef)();N.current=v,(0,a.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var k=ns((0,a.useState)({containerWidth:s.width,containerHeight:s.height}),2),S=k[0],O=k[1],C=(0,a.useCallback)((function(e,t){O((function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}}))}),[]);(0,a.useEffect)((function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;C(n,a),null===(t=N.current)||void 0===t||t.call(N,n,a)};x>0&&(e=ea()(e,x,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),n=r.width,a=r.height;return C(n,a),t.observe(w.current),function(){t.disconnect()}}),[C,x]);var _=(0,a.useMemo)((function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;va(da(i)||da(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,c),va(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=da(i)?e:i,s=da(c)?t:c;r&&r>0&&(n?s=n/r:s&&(n=s*r),f&&s>f&&(s=f)),va(n>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,s,i,c,u,h,r);var o=!Array.isArray(p)&&Ba(p.type).endsWith("Chart");return a.Children.map(p,(function(e){return a.isValidElement(e)?(0,a.cloneElement)(e,ts({width:n,height:s},o?{style:ts({height:"100%",width:"100%",maxHeight:s,maxWidth:n},e.props.style)}:{})):e}))}),[r,p,c,f,h,u,S,i]);return a.createElement("div",{id:g?"".concat(g):void 0,className:Jn("recharts-responsive-container",y),style:ts(ts({},j),{},{width:i,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:w},_)})),os=r(6604),is=r.n(os),ls=r(7424),cs=r.n(ls),ds="Invariant failed";function us(e,t){if(!e)throw new Error(ds)}var hs=["children","width","height","viewBox","className","style","title","desc"];function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function ps(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ms(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,d=ps(e,hs),u=s||{width:r,height:n,x:0,y:0},h=Jn("recharts-surface",o);return a.createElement("svg",fs({},Xa(d,!0,"svg"),{className:h,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),a.createElement("title",null,l),a.createElement("desc",null,c),t)}var xs=["children","className"];function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}function ys(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vs=a.forwardRef((function(e,t){var r=e.children,n=e.className,s=ys(e,xs),o=Jn("recharts-layer",n);return a.createElement("g",gs({className:o},Xa(s,!0),{ref:t}),r)}));function bs(e){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ns(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ns(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){return t=function(e){var t=function(e,t){if("object"!=bs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bs(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cs(e){return Array.isArray(e)&&ha(e[0])&&ha(e[1])?e.join(" ~ "):e}var _s=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,s=void 0===n?{}:n,o=e.itemStyle,i=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,x=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,v=Ss({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Ss({margin:0},c),j=!ja()(m),w=j?m:"",N=Jn("recharts-default-tooltip",f),k=Jn("recharts-tooltip-label",p);j&&x&&void 0!==d&&null!==d&&(w=x(m,d));var S=y?{role:"status","aria-live":"assertive"}:{};return a.createElement("div",js({className:N,style:v},S),a.createElement("p",{className:k,style:b},a.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(h?cs()(d,h):d).map((function(e,t){if("none"===e.type)return null;var n=Ss({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||u||Cs,o=e.value,l=e.name,c=o,h=l;if(s&&null!=c&&null!=h){var f=s(o,l,e,t,d);if(Array.isArray(f)){var p=ws(f,2);c=p[0],h=p[1]}else c=f}return a.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},ha(h)?a.createElement("span",{className:"recharts-tooltip-item-name"},h):null,ha(h)?a.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,a.createElement("span",{className:"recharts-tooltip-item-value"},c),a.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ps(e,t,r){return t=function(e){var t=function(e,t){if("object"!=As(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=As(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==As(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Es="recharts-tooltip-wrapper",Ms={visibility:"hidden"};function Ts(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Jn(Es,Ps(Ps(Ps(Ps({},"".concat(Es,"-right"),ua(r)&&t&&ua(t.x)&&r>=t.x),"".concat(Es,"-left"),ua(r)&&t&&ua(t.x)&&r<t.x),"".concat(Es,"-bottom"),ua(n)&&t&&ua(t.y)&&n>=t.y),"".concat(Es,"-top"),ua(n)&&t&&ua(t.y)&&n<t.y))}function Is(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&ua(s[n]))return s[n];var d=r[n]-i-a,u=r[n]+a;return t[n]?o[n]?d:u:o[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+i>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function Ds(e){return Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(e)}function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(r),!0).forEach((function(t){qs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hs(n.key),n)}}function zs(e,t,r){return t=$s(t),function(e,t){if(t&&("object"===Ds(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bs()?Reflect.construct(t,r||[],$s(e).constructor):t.apply(e,r))}function Bs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bs=function(){return!!e})()}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$s(e)}function Us(e,t){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Us(e,t)}function qs(e,t,r){return(t=Hs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hs(e){var t=function(e,t){if("object"!=Ds(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ds(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ds(t)?t:t+""}var Ws=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qs(e=zs(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qs(e,"handleKeyDown",(function(t){var r,n,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Us(e,t)}(t,e),r=t,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,o=t.animationEasing,i=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,x=t.wrapperStyle,g=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Is({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Is({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):Ms,cssClasses:Ts({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:u,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),y=g.cssClasses,v=g.cssProperties,b=Ls(Ls({transition:d&&r?"transform ".concat(s,"ms ").concat(o):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},x);return a.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},i)}}])&&Fs(r.prototype,n),s&&Fs(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent),Vs={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Vs[e]},set:function(e,t){if("string"===typeof e)Vs[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){Vs[t]=e[t]}))}}},Ks=r(977),Ys=r.n(Ks);function Xs(e,t,r){return!0===t?Ys()(e,r):Na()(t)?Ys()(e,t):e}function Gs(e){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,so(n.key),n)}}function eo(e,t,r){return t=ro(t),function(e,t){if(t&&("object"===Gs(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,to()?Reflect.construct(t,r||[],ro(e).constructor):t.apply(e,r))}function to(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(to=function(){return!!e})()}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}function no(e,t){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},no(e,t)}function ao(e,t,r){return(t=so(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function so(e){var t=function(e,t){if("object"!=Gs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Gs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gs(t)?t:t+""}function oo(e){return e.dataKey}var io=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eo(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&no(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,o=t.animationEasing,i=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,x=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,v=null!==h&&void 0!==h?h:[];c&&v.length&&(v=Xs(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,oo));var b=v.length>0;return a.createElement(Ws,{allowEscapeViewBox:n,animationDuration:s,animationEasing:o,isAnimationActive:d,active:r,coordinate:l,hasPayload:b,offset:u,position:p,reverseDirection:m,useTranslate3d:x,viewBox:g,wrapperStyle:y},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):"function"===typeof e?a.createElement(e,t):a.createElement(_s,t)}(i,Js(Js({},this.props),{},{payload:v})))}}])&&Zs(r.prototype,n),s&&Zs(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);ao(io,"displayName","Tooltip"),ao(io,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lo=r(643),co=r.n(lo);Math.abs,Math.atan2;const uo=Math.cos,ho=(Math.max,Math.min,Math.sin),fo=Math.sqrt,po=Math.PI,mo=2*po;const xo={draw(e,t){const r=fo(t/po);e.moveTo(r,0),e.arc(0,0,r,0,mo)}},go={draw(e,t){const r=fo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yo=fo(1/3),vo=2*yo,bo={draw(e,t){const r=fo(t/vo),n=r*yo;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jo={draw(e,t){const r=fo(t),n=-r/2;e.rect(n,n,r,r)}},wo=ho(po/10)/ho(7*po/10),No=ho(mo/10)*wo,ko=-uo(mo/10)*wo,So={draw(e,t){const r=fo(.8908130915292852*t),n=No*r,a=ko*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=mo*s/5,o=uo(t),i=ho(t);e.lineTo(i*r,-o*r),e.lineTo(o*n-i*a,i*n+o*a)}e.closePath()}},Oo=fo(3),Co={draw(e,t){const r=-fo(t/(3*Oo));e.moveTo(0,2*r),e.lineTo(-Oo*r,-r),e.lineTo(Oo*r,-r),e.closePath()}},_o=-.5,Ao=fo(3)/2,Po=1/fo(12),Eo=3*(Po/2+1),Mo={draw(e,t){const r=fo(t/Eo),n=r/2,a=r*Po,s=n,o=r*Po+r,i=-s,l=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(i,l),e.lineTo(_o*n-Ao*a,Ao*n+_o*a),e.lineTo(_o*s-Ao*o,Ao*s+_o*o),e.lineTo(_o*i-Ao*l,Ao*i+_o*l),e.lineTo(_o*n+Ao*a,_o*a-Ao*n),e.lineTo(_o*s+Ao*o,_o*o-Ao*s),e.lineTo(_o*i+Ao*l,_o*l-Ao*i),e.closePath()}};function To(e){return function(){return e}}const Io=Math.PI,Do=2*Io,Ro=1e-6,Lo=Do-Ro;function Fo(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class zo{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Fo:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fo;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,s){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,i=r-e,l=n-t,c=s-e,d=o-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Ro)if(Math.abs(d*i-l*c)>Ro&&a){let h=r-s,f=n-o,p=i*i+l*l,m=h*h+f*f,x=Math.sqrt(p),g=Math.sqrt(u),y=a*Math.tan((Io-Math.acos((p+u-m)/(2*x*g)))/2),v=y/g,b=y/x;Math.abs(v-1)>Ro&&this._append`L${e+v*c},${t+v*d}`,this._append`A${a},${a},0,0,${+(d*h>c*f)},${this._x1=e+b*i},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),i=r*Math.sin(n),l=e+o,c=t+i,d=1^s,u=s?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ro||Math.abs(this._y1-c)>Ro)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%Do+Do),u>Lo?this._append`A${r},${r},0,1,${d},${e-o},${t-i}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>Ro&&this._append`A${r},${r},0,${+(u>=Io)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Bo(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new zo(t)}fo(3),fo(3);function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}var Uo=["type","size","sizeType"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){Vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t,r){return t=function(e){var t=function(e,t){if("object"!=$o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$o(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Yo={symbolCircle:xo,symbolCross:go,symbolDiamond:bo,symbolSquare:jo,symbolStar:So,symbolTriangle:Co,symbolWye:Mo},Xo=Math.PI/180,Go=function(e){var t=e.type,r=void 0===t?"circle":t,n=e.size,s=void 0===n?64:n,o=e.sizeType,i=void 0===o?"area":o,l=Wo(Wo({},Ko(e,Uo)),{},{type:r,size:s,sizeType:i}),c=l.className,d=l.cx,u=l.cy,h=Xa(l,!0);return d===+d&&u===+u&&s===+s?a.createElement("path",qo({},h,{className:Jn("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(co()(e));return Yo[t]||xo}(r),t=function(e,t){let r=null,n=Bo(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:To(e||xo),t="function"===typeof t?t:To(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:To(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:To(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Xo;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,i,r));return t()}()})):null};function Qo(e){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oi(n.key),n)}}function ti(e,t,r){return t=ni(t),function(e,t){if(t&&("object"===Qo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ri()?Reflect.construct(t,r||[],ni(e).constructor):t.apply(e,r))}function ri(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ri=function(){return!!e})()}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ni(e)}function ai(e,t){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ai(e,t)}function si(e,t,r){return(t=oi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oi(e){var t=function(e,t){if("object"!=Qo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qo(t)?t:t+""}Go.registerSymbol=function(e,t){Yo["symbol".concat(co()(e))]=t};var ii=32,li=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ti(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}(t,e),r=t,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=ii/6,s=ii/3,o=e.inactive?t:e.color;if("plainline"===e.type)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:ii,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(ii,"M").concat(2*s,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return a.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(ii,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(r),!0).forEach((function(t){si(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete i.legendIcon,a.cloneElement(e.legendIcon,i)}return a.createElement(Go,{fill:o,cx:r,cy:r,size:ii,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,s=t.layout,o=t.formatter,i=t.inactiveColor,l={x:0,y:0,width:ii,height:ii},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var s=t.formatter||o,u=Jn(si(si({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=Na()(t.value)?null:t.value;va(!Na()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?i:t.color;return a.createElement("li",Jo({className:u,style:c,key:"legend-item-".concat(r)},Ia(e.props,t,r)),a.createElement(ms,{width:n,height:n,viewBox:l,style:d},e.renderIcon(t)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,t,r):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return a.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],n&&ei(r.prototype,n),s&&ei(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}si(li,"displayName","Legend"),si(li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var di=["ref"];function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(r),!0).forEach((function(t){yi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function pi(e,t,r){return t=xi(t),function(e,t){if(t&&("object"===ci(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mi()?Reflect.construct(t,r||[],xi(e).constructor):t.apply(e,r))}function mi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mi=function(){return!!e})()}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gi(e,t)}function yi(e,t,r){return(t=vi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){var t=function(e,t){if("object"!=ci(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ci(t)?t:t+""}function bi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ji(e){return e.value}var wi=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return yi(e=pi(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}(t,e),r=t,s=[{key:"getWithHeight",value:function(e,t){var r=hi(hi({},this.defaultProps),e.props).layout;return"vertical"===r&&ua(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,s=n.align,o=n.verticalAlign,i=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:i&&i.right||0}:{left:i&&i.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),hi(hi({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,s=t.height,o=t.wrapperStyle,i=t.payloadUniqBy,l=t.payload,c=hi(hi({position:"absolute",width:n||"auto",height:s||"auto"},this.getDefaultPosition(o)),o);return a.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(a.isValidElement(e))return a.cloneElement(e,t);if("function"===typeof e)return a.createElement(e,t);t.ref;var r=bi(t,di);return a.createElement(li,r)}(r,hi(hi({},this.props),{},{payload:Xs(l,i,ji)})))}}])&&fi(r.prototype,n),s&&fi(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}yi(wi,"displayName","Legend"),yi(wi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ki=function(e){var t=e.cx,r=e.cy,n=e.r,s=e.className,o=Jn("recharts-dot",s);return t===+t&&r===+r&&n===+n?a.createElement("circle",Ni({},Xa(e,!1),Ta(e),{className:o,cx:t,cy:r,r:n})):null},Si=r(5173),Oi=r.n(Si),Ci=Object.getOwnPropertyNames,_i=Object.getOwnPropertySymbols,Ai=Object.prototype.hasOwnProperty;function Pi(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Ei(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,s=a.get(t),o=a.get(r);if(s&&o)return s===r&&o===t;a.set(t,r),a.set(r,t);var i=e(t,r,n);return a.delete(t),a.delete(r),i}}function Mi(e){return Ci(e).concat(_i(e))}var Ti=Object.hasOwn||function(e,t){return Ai.call(e,t)};function Ii(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Di=Object.getOwnPropertyDescriptor,Ri=Object.keys;function Li(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Fi(e,t){return Ii(e.getTime(),t.getTime())}function zi(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Bi(e,t){return e===t}function $i(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,o=new Array(n),i=e.entries(),l=0;(a=i.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;)if(o[u])u++;else{var h=a.value,f=s.value;if(r.equals(h[0],f[0],l,u,e,t,r)&&r.equals(h[1],f[1],h[0],f[0],e,t,r)){d=o[u]=!0;break}u++}if(!d)return!1;l++}return!0}var Ui=Ii;function qi(e,t,r){var n=Ri(e),a=n.length;if(Ri(t).length!==a)return!1;for(;a-- >0;)if(!Gi(e,t,r,n[a]))return!1;return!0}function Hi(e,t,r){var n,a,s,o=Mi(e),i=o.length;if(Mi(t).length!==i)return!1;for(;i-- >0;){if(!Gi(e,t,r,n=o[i]))return!1;if(a=Di(e,n),s=Di(t,n),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function Wi(e,t){return Ii(e.valueOf(),t.valueOf())}function Vi(e,t){return e.source===t.source&&e.flags===t.flags}function Ki(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,o=new Array(n),i=e.values();(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!o[d]&&r.equals(a.value,s.value,a.value,s.value,e,t,r)){c=o[d]=!0;break}d++}if(!c)return!1}return!0}function Yi(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xi(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Gi(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Ti(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Qi=Array.isArray,Ji="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Zi=Object.assign,el=Object.prototype.toString.call.bind(Object.prototype.toString);var tl=rl();rl({strict:!0}),rl({circular:!0}),rl({circular:!0,strict:!0}),rl({createInternalComparator:function(){return Ii}}),rl({strict:!0,createInternalComparator:function(){return Ii}}),rl({circular:!0,createInternalComparator:function(){return Ii}}),rl({circular:!0,createInternalComparator:function(){return Ii},strict:!0});function rl(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,s=e.createState,o=e.strict,i=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Hi:Li,areDatesEqual:Fi,areErrorsEqual:zi,areFunctionsEqual:Bi,areMapsEqual:n?Pi($i,Hi):$i,areNumbersEqual:Ui,areObjectsEqual:n?Hi:qi,arePrimitiveWrappersEqual:Wi,areRegExpsEqual:Vi,areSetsEqual:n?Pi(Ki,Hi):Ki,areTypedArraysEqual:n?Hi:Yi,areUrlsEqual:Xi};if(r&&(a=Zi({},a,r(a))),t){var s=Ei(a.areArraysEqual),o=Ei(a.areMapsEqual),i=Ei(a.areObjectsEqual),l=Ei(a.areSetsEqual);a=Zi({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,i=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&a(e,f,p);var x=e.constructor;if(x!==f.constructor)return!1;if(x===Object)return i(e,f,p);if(Qi(e))return t(e,f,p);if(null!=Ji&&Ji(e))return u(e,f,p);if(x===Date)return r(e,f,p);if(x===RegExp)return c(e,f,p);if(x===Map)return s(e,f,p);if(x===Set)return d(e,f,p);var g=el(e);return"[object Date]"===g?r(e,f,p):"[object RegExp]"===g?c(e,f,p):"[object Map]"===g?s(e,f,p):"[object Set]"===g?d(e,f,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof f.then&&i(e,f,p):"[object URL]"===g?h(e,f,p):"[object Error]"===g?n(e,f,p):"[object Arguments]"===g?i(e,f,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,f,p)}}(l),d=a?a(c):(t=c,function(e,r,n,a,s,o,i){return t(e,r,i)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(e,o){var i=n(),l=i.cache,c=void 0===l?t?new WeakMap:void 0:l,d=i.meta;return r(e,o,{cache:c,equals:a,meta:d,strict:s})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:s,equals:d,strict:i})}function nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function al(e){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(e)}function sl(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ol(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ol(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function il(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=sl(n),s=a[0],o=a.slice(1);return"number"===typeof s?void nl(r.bind(null,o),s):(r(s),void nl(r.bind(null,o)))}"object"===al(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(r),!0).forEach((function(t){ul(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ul(e,t,r){return t=function(e){var t=function(e,t){if("object"!==ll(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ll(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hl=function(e){return e},fl=function(e,t){return Object.keys(t).reduce((function(r,n){return dl(dl({},r),{},ul({},n,e(n,t[n])))}),{})},pl=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||gl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xl(e){return function(e){if(Array.isArray(e))return yl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(e,t){if(e){if("string"===typeof e)return yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yl(e,t):void 0}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vl=1e-4,bl=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},jl=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},wl=function(e,t){return function(r){var n=bl(e,t);return jl(n,r)}},Nl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],s=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,s=1,o=1;break;case"ease":n=.25,a=.1,s=.25,o=1;break;case"ease-in":n=.42,a=0,s=1,o=1;break;case"ease-out":n=.42,a=0,s=.58,o=1;break;case"ease-in-out":n=0,a=0,s=.58,o=1;break;default:var i=t[0].split("(");if("cubic-bezier"===i[0]&&4===i[1].split(")")[0].split(",").length){var l=i[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=ml(l,4);n=c[0],a=c[1],s=c[2],o=c[3]}}[n,s,a,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var d,u,h=wl(n,s),f=wl(a,o),p=(d=n,u=s,function(e){var t=bl(d,u),r=[].concat(xl(t.map((function(e,t){return e*t})).slice(1)),[0]);return jl(r,e)}),m=function(e){return e>1?1:e<0?0:e},x=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=h(r)-t,s=p(r);if(Math.abs(a-t)<vl||s<vl)return f(r);r=m(r-a/s)}return f(r)};return x.isStepper=!1,x},kl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Nl(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,s=e.dt,o=void 0===s?17:s,i=function(e,t,n){var s=n+(-(e-t)*r-n*a)*o/1e3,i=n*o/1e3+e;return Math.abs(i-t)<vl&&Math.abs(s)<vl?[t,0]:[i,s]};return i.isStepper=!0,i.dt=o,i}();default:if("cubic-bezier"===n.split("(")[0])return Nl(n)}return"function"===typeof n?n:null};function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function Ol(e){return function(e){if(Array.isArray(e))return Ml(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||El(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(r),!0).forEach((function(t){Al(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Al(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Sl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||El(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){if(e){if("string"===typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tl=function(e,t,r){return e+(t-e)*r},Il=function(e){return e.from!==e.to},Dl=function e(t,r,n){var a=fl((function(e,r){if(Il(r)){var n=Pl(t(r.from,r.to,r.velocity),2),a=n[0],s=n[1];return _l(_l({},r),{},{from:a,velocity:s})}return r}),r);return n<1?fl((function(e,t){return Il(t)?_l(_l({},t),{},{velocity:Tl(t.velocity,a[e].velocity,n),from:Tl(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const Rl=function(e,t,r,n,a){var s,o,i,l,c=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(r,n){return _l(_l({},r),{},Al({},n,[e[n],t[n]]))}),{}),u=c.reduce((function(r,n){return _l(_l({},r),{},Al({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),h=-1,f=function(){return null};return f=r.isStepper?function(n){i||(i=n);var s=(n-i)/r.dt;u=Dl(r,u,s),a(_l(_l(_l({},e),t),fl((function(e,t){return t.from}),u))),i=n,Object.values(u).filter(Il).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var o=(s-l)/n,i=fl((function(e,t){return Tl.apply(void 0,Ol(t).concat([r(o)]))}),d);if(a(_l(_l(_l({},e),t),i)),o<1)h=requestAnimationFrame(f);else{var c=fl((function(e,t){return Tl.apply(void 0,Ol(t).concat([r(1)]))}),d);a(_l(_l(_l({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}var Fl=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bl(e){return function(e){if(Array.isArray(e))return $l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(r),!0).forEach((function(t){Hl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t,r){return(t=Vl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vl(n.key),n)}}function Vl(e){var t=function(e,t){if("object"!==Ll(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ll(t)?t:String(t)}function Kl(e,t){return Kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kl(e,t)}function Yl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch($S){return!1}}();return function(){var r,n=Ql(e);if(t){var a=Ql(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Xl(this,r)}}function Xl(e,t){if(t&&("object"===Ll(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gl(e)}function Gl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ql(e)}var Jl=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kl(e,t)}(o,e);var t,r,n,s=Yl(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(r=s.call(this,e,t)).props,a=n.isActive,i=n.attributeName,l=n.from,c=n.to,d=n.steps,u=n.children,h=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(Gl(r)),r.changeStyle=r.changeStyle.bind(Gl(r)),!a||h<=0)return r.state={style:{}},"function"===typeof u&&(r.state={style:c}),Xl(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"===typeof u)return r.state={style:l},Xl(r);r.state={style:i?Hl({},i,l):l}}else r.state={style:{}};return r}return t=o,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,o=t.to,i=t.from,l=this.state.style;if(n)if(r){if(!(tl(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?i:e.to;if(this.state&&l){var u={style:a?Hl({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(ql(ql({},this.props),{},{from:d,begin:0}))}}else{var h={style:a?Hl({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,s=e.easing,o=e.begin,i=e.onAnimationEnd,l=e.onAnimationStart,c=Rl(r,n,kl(s),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,i])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,s=r[0],o=s.style,i=s.duration,l=void 0===i?0:i;return this.manager.start([a].concat(Bl(r.reduce((function(e,n,a){if(0===a)return e;var s=n.duration,o=n.easing,i=void 0===o?"ease":o,l=n.style,c=n.properties,d=n.onAnimationEnd,u=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"===typeof i||"spring"===i)return[].concat(Bl(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:s,easing:i}),s]);var f=pl(h,s,i),p=ql(ql(ql({},u.style),l),{},{transition:f});return[].concat(Bl(e),[p,s,d]).filter(hl)}),[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=il());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,s=e.easing,o=e.onAnimationStart,i=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var u=n?Hl({},n,a):a,h=pl(Object.keys(u),r,s);d.start([o,t,ql(ql({},u),{},{transition:h}),r,i])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,zl(e,Fl)),o=a.Children.count(t),i=this.state.style;if("function"===typeof t)return t(i);if(!n||0===o||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,o=t.className;return(0,a.cloneElement)(e,ql(ql({},s),{},{style:ql(ql({},n),i),className:o}))};return 1===o?l(a.Children.only(t)):a.createElement("div",null,a.Children.map(t,(function(e){return l(e)})))}}])&&Wl(t.prototype,r),n&&Wl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.PureComponent);Jl.displayName="Animate",Jl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Jl.propTypes={from:Oi().oneOfType([Oi().object,Oi().string]),to:Oi().oneOfType([Oi().object,Oi().string]),attributeName:Oi().string,duration:Oi().number,begin:Oi().number,easing:Oi().oneOfType([Oi().string,Oi().func]),steps:Oi().arrayOf(Oi().shape({duration:Oi().number.isRequired,style:Oi().object.isRequired,easing:Oi().oneOfType([Oi().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oi().func]),properties:Oi().arrayOf("string"),onAnimationEnd:Oi().func})),children:Oi().oneOfType([Oi().node,Oi().func]),isActive:Oi().bool,canBegin:Oi().bool,onAnimationEnd:Oi().func,shouldReAnimate:Oi().bool,onAnimationStart:Oi().func,onAnimationReStart:Oi().func};const Zl=Jl;function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(r),!0).forEach((function(t){oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oc(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ec(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ec(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ic=function(e,t,r,n,a){var s,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>o?o:a[u];s="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+i*d[1])),s+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),s+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-i*d[3])),s+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);s="M ".concat(e,",").concat(t+i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*h,"\n            L ").concat(e+r,",").concat(t+n-i*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},lc=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,s=t.y,o=t.width,i=t.height;if(Math.abs(o)>0&&Math.abs(i)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),d=Math.min(s,s+i),u=Math.max(s,s+i);return r>=l&&r<=c&&n>=d&&n<=u}return!1},cc={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dc=function(e){var t=sc(sc({},cc),e),r=(0,a.useRef)(),n=rc((0,a.useState)(-1),2),s=n[0],o=n[1];(0,a.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var i=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,x=t.isAnimationActive,g=t.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=Jn("recharts-rectangle",h);return g?a.createElement(Zl,{canBegin:s>0,from:{width:c,height:d,x:i,y:l},to:{width:c,height:d,x:i,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var n=e.width,o=e.height,i=e.x,l=e.y;return a.createElement(Zl,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:x,easing:f},a.createElement("path",tc({},Xa(t,!0),{className:y,d:ic(i,l,n,o,u),ref:r})))})):a.createElement("path",tc({},Xa(t,!0),{className:y,d:ic(i,l,c,d,u)}))};function uc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function hc(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class fc extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gc;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(pc(this,e))}has(e){return super.has(pc(this,e))}set(e,t){return super.set(mc(this,e),t)}delete(e){return super.delete(xc(this,e))}}Set;function pc(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function mc(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function xc(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function gc(e){return null!==e&&"object"===typeof e?e.valueOf():e}const yc=Symbol("implicit");function vc(){var e=new fc,t=[],r=[],n=yc;function a(a){let s=e.get(a);if(void 0===s){if(n!==yc)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new fc;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return vc(t,r).unknown(n)},uc.apply(a,arguments),a}function bc(){var e,t,r=vc().unknown(void 0),n=r.domain,a=r.range,s=0,o=1,i=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=o<s,h=u?o:s,f=u?s:o;e=(f-h)/Math.max(1,r-l+2*c),i&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*d,t=e*(1-l),i&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map((function(t){return h+e*t}));return a(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,u()):[s,o]},r.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,i=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(i=!!e,u()):i},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return bc(n(),[s,o]).round(i).paddingInner(l).paddingOuter(c).align(d)},uc.apply(u(),arguments)}function jc(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jc(t())},e}function wc(){return jc(bc.apply(null,arguments).paddingInner(1))}function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oc(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Nc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cc={widthCache:{},cacheCount:0},_c={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ac="recharts_measurement_span";var Pc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Vs.isSsr)return{width:0,height:0};var r=function(e){var t=Sc({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(Cc.widthCache[n])return Cc.widthCache[n];try{var a=document.getElementById(Ac);a||((a=document.createElement("span")).setAttribute("id",Ac),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Sc(Sc({},_c),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),i={width:o.width,height:o.height};return Cc.widthCache[n]=i,++Cc.cacheCount>2e3&&(Cc.cacheCount=0,Cc.widthCache={}),i}catch($S){return{width:0,height:0}}};function Ec(e){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(e)}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ic(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dc(n.key),n)}}function Dc(e){var t=function(e,t){if("object"!=Ec(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ec(t)?t:t+""}var Rc=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lc=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fc=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zc=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bc={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},$c=Object.keys(Bc),Uc="NaN";var qc=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Fc.test(r)||(this.num=NaN,this.unit=""),$c.includes(r)&&(this.num=function(e,t){return e*Bc[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Mc(null!==(r=zc.exec(t))&&void 0!==r?r:[],3),a=n[1],s=n[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Ic(t.prototype,r),n&&Ic(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Hc(e){if(e.includes(Uc))return Uc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Mc(null!==(r=Rc.exec(t))&&void 0!==r?r:[],4),a=n[1],s=n[2],o=n[3],i=qc.parse(null!==a&&void 0!==a?a:""),l=qc.parse(null!==o&&void 0!==o?o:""),c="*"===s?i.multiply(l):i.divide(l);if(c.isNaN())return Uc;t=t.replace(Rc,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=Mc(null!==(d=Lc.exec(t))&&void 0!==d?d:[],4),h=u[1],f=u[2],p=u[3],m=qc.parse(null!==h&&void 0!==h?h:""),x=qc.parse(null!==p&&void 0!==p?p:""),g="+"===f?m.add(x):m.subtract(x);if(g.isNaN())return Uc;t=t.replace(Lc,g.toString())}return t}var Wc=/\(([^()]*)\)/;function Vc(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Mc(Wc.exec(t),2)[1];t=t.replace(Wc,Hc(r))}return t}(t),t=Hc(t)}function Kc(e){var t=function(e){try{return Vc(e)}catch($S){return Uc}}(e.slice(5,-1));return t===Uc?"":t}var Yc=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xc=["dx","dy","angle","className","breakAll"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}function Qc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ed=/[ \f\n\r\t\v\u2028\u2029]+/,td=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return ja()(t)||(a=r?t.toString().split(""):t.toString().split(ed)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:Pc(e,n).width}})),spaceWidth:r?0:Pc("\xa0",n).width}}catch($S){return null}},rd=function(e){return[{words:ja()(e)?[]:e.toString().split(ed)}]},nd=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((t||r)&&!Vs.isSsr){var i=td({breakAll:s,children:n,style:a});return i?function(e,t,r,n,a){var s=e.maxLines,o=e.children,i=e.style,l=e.breakAll,c=ua(s),d=o,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var s=t.word,o=t.width,i=e[e.length-1];if(i&&(null==n||a||i.width+o+r<Number(n)))i.words.push(s),i.width+=o+r;else{var l={words:[s],width:o};e.push(l)}return e}),[])},h=u(t);if(!c)return h;for(var f,p=function(e){var t=d.slice(0,e),r=td({breakAll:l,style:i,children:t+"\u2026"}).wordsWithComputedWidth,a=u(r),o=a.length>s||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(n);return[o,a]},m=0,x=d.length-1,g=0;m<=x&&g<=d.length-1;){var y=Math.floor((m+x)/2),v=Jc(p(y-1),2),b=v[0],j=v[1],w=Jc(p(y),1)[0];if(b||w||(m=y+1),b&&w&&(x=y-1),!b&&w){f=j;break}g++}return f||h}({breakAll:s,children:n,maxLines:o,style:a},i.wordsWithComputedWidth,i.spaceWidth,t,r):rd(n)}return rd(n)},ad="#808080",sd=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,o=e.lineHeight,i=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,x=e.fill,g=void 0===x?ad:x,y=Qc(e,Yc),v=(0,a.useMemo)((function(){return nd({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,j=y.dy,w=y.angle,N=y.className,k=y.breakAll,S=Qc(y,Xc);if(!ha(r)||!ha(s))return null;var O,C=r+(ua(b)?b:0),_=s+(ua(j)?j:0);switch(m){case"start":O=Kc("calc(".concat(c,")"));break;case"middle":O=Kc("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:O=Kc("calc(".concat(v.length-1," * -").concat(i,")"))}var A=[];if(u){var P=v[0].width,E=y.width;A.push("scale(".concat((ua(E)?E/P:1)/P,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(_,")")),A.length&&(S.transform=A.join(" ")),a.createElement("text",Gc({},Xa(S,!0),{x:C,y:_,className:Jn("recharts-text",N),textAnchor:f,fill:g.includes("url")?ad:g}),v.map((function(e,t){var r=e.words.join(k?"":" ");return a.createElement("tspan",{x:C,dy:0===t?O:i,key:"".concat(r,"-").concat(t)},r)})))};const od=Math.sqrt(50),id=Math.sqrt(10),ld=Math.sqrt(2);function cd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=od?10:s>=id?5:s>=ld?2:1;let i,l,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(e*c),l=Math.round(t*c),i/c<e&&++i,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,i=Math.round(e/c),l=Math.round(t/c),i*c<e&&++i,l*c>t&&--l),l<i&&.5<=r&&r<2?cd(e,t,2*r):[i,l,c]}function dd(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,o]=n?cd(t,e,r):cd(e,t,r);if(!(s>=a))return[];const i=s-a+1,l=new Array(i);if(n)if(o<0)for(let c=0;c<i;++c)l[c]=(s-c)/-o;else for(let c=0;c<i;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<i;++c)l[c]=(a+c)/-o;else for(let c=0;c<i;++c)l[c]=(a+c)*o;return l}function ud(e,t,r){return cd(e=+e,t=+t,r=+r)[2]}function hd(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?ud(t,e,r):ud(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function fd(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pd(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function md(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=fd,r=(t,r)=>fd(e(t),r),n=(t,r)=>e(t)-r):(t=e===fd||e===pd?e:xd,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function xd(){return 0}function gd(e){return null===e?NaN:+e}const yd=md(fd),vd=yd.right,bd=(yd.left,md(gd).center,vd);function jd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wd(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nd(){}var kd=.7,Sd=1/kd,Od="\\s*([+-]?\\d+)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ad=/^#([0-9a-f]{3,8})$/,Pd=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),Ed=new RegExp(`^rgb\\(${_d},${_d},${_d}\\)$`),Md=new RegExp(`^rgba\\(${Od},${Od},${Od},${Cd}\\)$`),Td=new RegExp(`^rgba\\(${_d},${_d},${_d},${Cd}\\)$`),Id=new RegExp(`^hsl\\(${Cd},${_d},${_d}\\)$`),Dd=new RegExp(`^hsla\\(${Cd},${_d},${_d},${Cd}\\)$`),Rd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ld(){return this.rgb().formatHex()}function Fd(){return this.rgb().formatRgb()}function zd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ad.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Bd(t):3===r?new qd(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?$d(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?$d(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Pd.exec(e))?new qd(t[1],t[2],t[3],1):(t=Ed.exec(e))?new qd(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Md.exec(e))?$d(t[1],t[2],t[3],t[4]):(t=Td.exec(e))?$d(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Id.exec(e))?Xd(t[1],t[2]/100,t[3]/100,1):(t=Dd.exec(e))?Xd(t[1],t[2]/100,t[3]/100,t[4]):Rd.hasOwnProperty(e)?Bd(Rd[e]):"transparent"===e?new qd(NaN,NaN,NaN,0):null}function Bd(e){return new qd(e>>16&255,e>>8&255,255&e,1)}function $d(e,t,r,n){return n<=0&&(e=t=r=NaN),new qd(e,t,r,n)}function Ud(e,t,r,n){return 1===arguments.length?((a=e)instanceof Nd||(a=zd(a)),a?new qd((a=a.rgb()).r,a.g,a.b,a.opacity):new qd):new qd(e,t,r,null==n?1:n);var a}function qd(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Hd(){return`#${Yd(this.r)}${Yd(this.g)}${Yd(this.b)}`}function Wd(){const e=Vd(this.opacity);return`${1===e?"rgb(":"rgba("}${Kd(this.r)}, ${Kd(this.g)}, ${Kd(this.b)}${1===e?")":`, ${e})`}`}function Vd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yd(e){return((e=Kd(e))<16?"0":"")+e.toString(16)}function Xd(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qd(e,t,r,n)}function Gd(e){if(e instanceof Qd)return new Qd(e.h,e.s,e.l,e.opacity);if(e instanceof Nd||(e=zd(e)),!e)return new Qd;if(e instanceof Qd)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(r-n)/i+6*(r<n):r===s?(n-t)/i+2:(t-r)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new Qd(o,i,l,e.opacity)}function Qd(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Jd(e){return(e=(e||0)%360)<0?e+360:e}function Zd(e){return Math.max(0,Math.min(1,e||0))}function eu(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function tu(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}jd(Nd,zd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ld,formatHex:Ld,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Gd(this).formatHsl()},formatRgb:Fd,toString:Fd}),jd(qd,Ud,wd(Nd,{brighter(e){return e=null==e?Sd:Math.pow(Sd,e),new qd(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?kd:Math.pow(kd,e),new qd(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qd(Kd(this.r),Kd(this.g),Kd(this.b),Vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hd,formatHex:Hd,formatHex8:function(){return`#${Yd(this.r)}${Yd(this.g)}${Yd(this.b)}${Yd(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Wd,toString:Wd})),jd(Qd,(function(e,t,r,n){return 1===arguments.length?Gd(e):new Qd(e,t,r,null==n?1:n)}),wd(Nd,{brighter(e){return e=null==e?Sd:Math.pow(Sd,e),new Qd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?kd:Math.pow(kd,e),new Qd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qd(eu(e>=240?e-240:e+120,a,n),eu(e,a,n),eu(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Qd(Jd(this.h),Zd(this.s),Zd(this.l),Vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vd(this.opacity);return`${1===e?"hsl(":"hsla("}${Jd(this.h)}, ${100*Zd(this.s)}%, ${100*Zd(this.l)}%${1===e?")":`, ${e})`}`}}));const ru=e=>()=>e;function nu(e,t){return function(r){return e+r*t}}function au(e){return 1===(e=+e)?su:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):ru(isNaN(t)?r:t)}}function su(e,t){var r=t-e;return r?nu(e,r):ru(isNaN(e)?t:e)}const ou=function e(t){var r=au(t);function n(e,t){var n=r((e=Ud(e)).r,(t=Ud(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),o=su(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function iu(e){return function(t){var r,n,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(r=0;r<a;++r)n=Ud(t[r]),s[r]=n.r||0,o[r]=n.g||0,i[r]=n.b||0;return s=e(s),o=e(o),i=e(i),n.opacity=1,function(e){return n.r=s(e),n.g=o(e),n.b=i(e),n+""}}}iu((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,i=n<t-1?e[n+2]:2*s-a;return tu((r-n/t)*t,o,a,s,i)}})),iu((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],i=e[(n+2)%t];return tu((r-n/t)*t,a,s,o,i)}}));function lu(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),o=new Array(n);for(r=0;r<a;++r)s[r]=xu(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=s[r](e);return o}}function cu(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function du(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function uu(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=xu(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fu=new RegExp(hu.source,"g");function pu(e,t){var r,n,a,s=hu.lastIndex=fu.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(r=hu.exec(e))&&(n=fu.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(r=r[0])===(n=n[0])?i[o]?i[o]+=n:i[++o]=n:(i[++o]=null,l.push({i:o,x:du(r,n)})),s=fu.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)i[(r=l[n]).i]=r.x(e);return i.join("")})}function mu(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function xu(e,t){var r,n=typeof t;return null==t||"boolean"===n?ru(t):("number"===n?du:"string"===n?(r=zd(t))?(t=r,ou):pu:t instanceof zd?ou:t instanceof Date?cu:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?mu:Array.isArray(t)?lu:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?uu:du)(e,t)}function gu(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function yu(e){return+e}var vu=[0,1];function bu(e){return e}function ju(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function wu(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=ju(a,n),s=r(o,s)):(n=ju(n,a),s=r(s,o)),function(e){return s(n(e))}}function Nu(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ju(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(t){var r=bd(e,t,1,n)-1;return s[r](a[r](t))}}function ku(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Su(){var e,t,r,n,a,s,o=vu,i=vu,l=xu,c=bu;function d(){var e=Math.min(o.length,i.length);return c!==bu&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?Nu:wu,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),i,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=n(i,o.map(e),du)))(r)))},u.domain=function(e){return arguments.length?(o=Array.from(e,yu),d()):o.slice()},u.range=function(e){return arguments.length?(i=Array.from(e),d()):i.slice()},u.rangeRound=function(e){return i=Array.from(e),l=gu,d()},u.clamp=function(e){return arguments.length?(c=!!e||bu,d()):c!==bu},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function Ou(){return Su()(bu,bu)}var Cu,_u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Au(e){if(!(t=_u.exec(e)))throw new Error("invalid format: "+e);var t;return new Pu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Pu(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Eu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mu(e){return(e=Eu(Math.abs(e)))?e[1]:NaN}function Tu(e,t){var r=Eu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Au.prototype=Pu.prototype,Pu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Iu={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Tu(100*e,t),r:Tu,s:function(e,t){var r=Eu(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Cu=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Eu(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Du(e){return e}var Ru,Lu,Fu,zu=Array.prototype.map,Bu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function $u(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Du:(t=zu.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],o=0,i=t[0],l=0;a>0&&i>0&&(l+i+1>n&&(i=Math.max(1,n-l)),s.push(e.substring(a-=i,a+i)),!((l+=i+1)>n));)i=t[o=(o+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?Du:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(zu.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Au(e)).fill,r=e.align,u=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,x=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Iu[y]||(void 0===x&&(x=12),g=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var v="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?s:/[%p]/.test(y)?l:"",j=Iu[y],w=/[defgprs%]/.test(y);function N(e){var a,s,l,h=v,N=b;if("c"===y)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),h=(k?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===y?Bu[8+Cu/3]:"")+N+(k&&"("===u?")":""),w)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var S=h.length+e.length+N.length,O=S<p?new Array(p-S+1).join(t):"";switch(m&&f&&(e=n(O+e,O.length?p-N.length:1/0),O=""),r){case"<":e=h+e+N+O;break;case"=":e=h+O+e+N;break;case"^":e=O.slice(0,S=O.length>>1)+h+e+N+O.slice(S);break;default:e=O+h+e+N}return i(e)}return x=void 0===x?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=Au(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Mu(t)/3))),a=Math.pow(10,-n),s=Bu[8+n/3];return function(e){return r(a*e)+s}}}}function Uu(e,t,r,n){var a,s=hd(e,t,r);switch((n=Au(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mu(t)/3)))-Mu(Math.abs(e)))}(s,o))||(n.precision=a),Fu(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mu(t)-Mu(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Mu(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return Lu(n)}function qu(e){var t=e.domain;return e.ticks=function(e){var r=t();return dd(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Uu(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),o=0,i=s.length-1,l=s[o],c=s[i],d=10;for(c<l&&(a=l,l=c,c=a,a=o,o=i,i=a);d-- >0;){if((a=ud(l,c,r))===n)return s[o]=l,s[i]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Hu(){var e=Ou();return e.copy=function(){return ku(e,Hu())},uc.apply(e,arguments),qu(e)}function Wu(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,yu),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Wu(e).unknown(t)},e=arguments.length?Array.from(e,yu):[0,1],qu(r)}function Vu(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],o=e[a];return o<s&&(r=n,n=a,a=r,r=s,s=o,o=r),e[n]=t.floor(s),e[a]=t.ceil(o),e}function Ku(e){return Math.log(e)}function Yu(e){return Math.exp(e)}function Xu(e){return-Math.log(-e)}function Gu(e){return-Math.exp(-e)}function Qu(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ju(e){return(t,r)=>-e(-t,r)}function Zu(e){const t=e(Ku,Yu),r=t.domain;let n,a,s=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?Qu:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=Ju(n),a=Ju(a),e(Xu,Gu)):e(Ku,Yu),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],i=t[t.length-1];const l=i<o;l&&([o,i]=[i,o]);let c,d,u=n(o),h=n(i);const f=null==e?10:+e;let p=[];if(!(s%1)&&h-u<f){if(u=Math.floor(u),h=Math.ceil(h),o>0){for(;u<=h;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<o)){if(d>i)break;p.push(d)}}else for(;u<=h;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<o)){if(d>i)break;p.push(d)}2*p.length<f&&(p=dd(o,i,f))}else p=dd(u,h,Math.min(h-u,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!==typeof r&&(s%1||null!=(r=Au(r)).precision||(r.trim=!0),r=Lu(r)),e===1/0)return r;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=o?r(e):""}},t.nice=()=>r(Vu(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function eh(){const e=Zu(Su()).domain([1,10]);return e.copy=()=>ku(e,eh()).base(e.base()),uc.apply(e,arguments),e}function th(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nh(e){var t=1,r=e(th(t),rh(t));return r.constant=function(r){return arguments.length?e(th(t=+r),rh(t)):t},qu(r)}function ah(){var e=nh(Su());return e.copy=function(){return ku(e,ah()).constant(e.constant())},uc.apply(e,arguments)}function sh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oh(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ih(e){return e<0?-e*e:e*e}function lh(e){var t=e(bu,bu),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(bu,bu):.5===r?e(oh,ih):e(sh(r),sh(1/r)):r},qu(t)}function ch(){var e=lh(Su());return e.copy=function(){return ku(e,ch()).exponent(e.exponent())},uc.apply(e,arguments),e}function dh(){return ch.apply(null,arguments).exponent(.5)}function uh(e){return Math.sign(e)*e*e}function hh(){var e,t=Ou(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(uh(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,yu)).map(uh)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return hh(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},uc.apply(a,arguments),qu(a)}function fh(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function ph(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fd;if(e===fd)return xh;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function xh(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function gh(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?xh:mh(a);n>r;){if(n-r>600){const s=n-r+1,o=t-r+1,i=Math.log(s),l=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1);gh(e,t,Math.max(r,Math.floor(t-o*l/s+c)),Math.min(n,Math.floor(t+(s-o)*l/s+c)),a)}const s=e[t];let o=r,i=n;for(yh(e,r,t),a(e[n],s)>0&&yh(e,r,n);o<i;){for(yh(e,o,i),++o,--i;a(e[o],s)<0;)++o;for(;a(e[i],s)>0;)--i}0===a(e[r],s)?yh(e,r,i):(++i,yh(e,i,n)),i<=t&&(r=i+1),t<=i&&(n=i-1)}return e}function yh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vh(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return ph(e);if(t>=1)return fh(e);var n,a=(n-1)*t,s=Math.floor(a),o=fh(gh(e,s).subarray(0,s+1));return o+(ph(e.subarray(s+1))-o)*(a-s)}}function bh(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gd;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e);return o+(+r(e[s+1],s+1,e)-o)*(a-s)}}function jh(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=bh(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:r[bd(n,t)]}return s.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(fd),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return n.slice()},s.copy=function(){return jh().domain(t).range(r).unknown(e)},uc.apply(s,arguments)}function wh(){var e,t=0,r=1,n=1,a=[.5],s=[0,1];function o(t){return null!=t&&t<=t?s[bd(a,t,0,n)]:e}function i(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,i()):[t,r]},o.range=function(e){return arguments.length?(n=(s=Array.from(e)).length-1,i()):s.slice()},o.invertExtent=function(e){var o=s.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return wh().domain([t,r]).range(s).unknown(e)},uc.apply(qu(o),arguments)}function Nh(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[bd(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Nh().domain(t).range(r).unknown(e)},uc.apply(a,arguments)}Ru=$u({thousands:",",grouping:[3],currency:["$",""]}),Lu=Ru.format,Fu=Ru.formatPrefix;const kh=1e3,Sh=6e4,Oh=36e5,Ch=864e5,_h=6048e5,Ah=2592e6,Ph=31536e6,Eh=new Date,Mh=new Date;function Th(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const o=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n)||!(s>0))return o;let i;do{o.push(i=new Date(+r)),t(r,s),e(r)}while(i<r&&r<n);return o},a.filter=r=>Th((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(Eh.setTime(+t),Mh.setTime(+n),e(Eh),e(Mh),Math.floor(r(Eh,Mh))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Ih=Th((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Ih.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Th((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):Ih:null);Ih.range;const Dh=Th((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*kh)}),((e,t)=>(t-e)/kh),(e=>e.getUTCSeconds())),Rh=(Dh.range,Th((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kh)}),((e,t)=>{e.setTime(+e+t*Sh)}),((e,t)=>(t-e)/Sh),(e=>e.getMinutes()))),Lh=(Rh.range,Th((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Sh)}),((e,t)=>(t-e)/Sh),(e=>e.getUTCMinutes()))),Fh=(Lh.range,Th((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kh-e.getMinutes()*Sh)}),((e,t)=>{e.setTime(+e+t*Oh)}),((e,t)=>(t-e)/Oh),(e=>e.getHours()))),zh=(Fh.range,Th((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Oh)}),((e,t)=>(t-e)/Oh),(e=>e.getUTCHours()))),Bh=(zh.range,Th((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sh)/Ch),(e=>e.getDate()-1))),$h=(Bh.range,Th((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ch),(e=>e.getUTCDate()-1))),Uh=($h.range,Th((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ch),(e=>Math.floor(e/Ch))));Uh.range;function qh(e){return Th((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sh)/_h))}const Hh=qh(0),Wh=qh(1),Vh=qh(2),Kh=qh(3),Yh=qh(4),Xh=qh(5),Gh=qh(6);Hh.range,Wh.range,Vh.range,Kh.range,Yh.range,Xh.range,Gh.range;function Qh(e){return Th((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/_h))}const Jh=Qh(0),Zh=Qh(1),ef=Qh(2),tf=Qh(3),rf=Qh(4),nf=Qh(5),af=Qh(6),sf=(Jh.range,Zh.range,ef.range,tf.range,rf.range,nf.range,af.range,Th((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),of=(sf.range,Th((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),lf=(of.range,Th((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));lf.every=e=>isFinite(e=Math.floor(e))&&e>0?Th((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;lf.range;const cf=Th((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));cf.every=e=>isFinite(e=Math.floor(e))&&e>0?Th((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;cf.range;function df(e,t,r,n,a,s){const o=[[Dh,1,kh],[Dh,5,5e3],[Dh,15,15e3],[Dh,30,3e4],[s,1,Sh],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,Oh],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Ch],[n,2,1728e5],[r,1,_h],[t,1,Ah],[t,3,7776e6],[e,1,Ph]];function i(t,r,n){const a=Math.abs(r-t)/n,s=md((e=>{let[,,t]=e;return t})).right(o,a);if(s===o.length)return e.every(hd(t/Ph,r/Ph,n));if(0===s)return Ih.every(Math.max(hd(t,r,n),1));const[i,l]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return i.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:i(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},i]}const[uf,hf]=df(cf,of,Jh,Uh,zh,Lh),[ff,pf]=df(lf,sf,Hh,Bh,Fh,Rh);function mf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var yf,vf,bf,jf={"-":"",_:" ",0:"0"},wf=/^\s*\d+/,Nf=/^%/,kf=/[\\^$*+?|[\]().{}]/g;function Sf(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Of(e){return e.replace(kf,"\\$&")}function Cf(e){return new RegExp("^(?:"+e.map(Of).join("|")+")","i")}function _f(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Af(e,t,r){var n=wf.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Pf(e,t,r){var n=wf.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ef(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mf(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Tf(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function If(e,t,r){var n=wf.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Df(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Rf(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Lf(e,t,r){var n=wf.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Ff(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function zf(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bf(e,t,r){var n=wf.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $f(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Uf(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qf(e,t,r){var n=wf.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hf(e,t,r){var n=wf.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wf(e,t,r){var n=wf.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vf(e,t,r){var n=Nf.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kf(e,t,r){var n=wf.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Yf(e,t,r){var n=wf.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Xf(e,t){return Sf(e.getDate(),t,2)}function Gf(e,t){return Sf(e.getHours(),t,2)}function Qf(e,t){return Sf(e.getHours()%12||12,t,2)}function Jf(e,t){return Sf(1+Bh.count(lf(e),e),t,3)}function Zf(e,t){return Sf(e.getMilliseconds(),t,3)}function ep(e,t){return Zf(e,t)+"000"}function tp(e,t){return Sf(e.getMonth()+1,t,2)}function rp(e,t){return Sf(e.getMinutes(),t,2)}function np(e,t){return Sf(e.getSeconds(),t,2)}function ap(e){var t=e.getDay();return 0===t?7:t}function sp(e,t){return Sf(Hh.count(lf(e)-1,e),t,2)}function op(e){var t=e.getDay();return t>=4||0===t?Yh(e):Yh.ceil(e)}function ip(e,t){return e=op(e),Sf(Yh.count(lf(e),e)+(4===lf(e).getDay()),t,2)}function lp(e){return e.getDay()}function cp(e,t){return Sf(Wh.count(lf(e)-1,e),t,2)}function dp(e,t){return Sf(e.getFullYear()%100,t,2)}function up(e,t){return Sf((e=op(e)).getFullYear()%100,t,2)}function hp(e,t){return Sf(e.getFullYear()%1e4,t,4)}function fp(e,t){var r=e.getDay();return Sf((e=r>=4||0===r?Yh(e):Yh.ceil(e)).getFullYear()%1e4,t,4)}function pp(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sf(t/60|0,"0",2)+Sf(t%60,"0",2)}function mp(e,t){return Sf(e.getUTCDate(),t,2)}function xp(e,t){return Sf(e.getUTCHours(),t,2)}function gp(e,t){return Sf(e.getUTCHours()%12||12,t,2)}function yp(e,t){return Sf(1+$h.count(cf(e),e),t,3)}function vp(e,t){return Sf(e.getUTCMilliseconds(),t,3)}function bp(e,t){return vp(e,t)+"000"}function jp(e,t){return Sf(e.getUTCMonth()+1,t,2)}function wp(e,t){return Sf(e.getUTCMinutes(),t,2)}function Np(e,t){return Sf(e.getUTCSeconds(),t,2)}function kp(e){var t=e.getUTCDay();return 0===t?7:t}function Sp(e,t){return Sf(Jh.count(cf(e)-1,e),t,2)}function Op(e){var t=e.getUTCDay();return t>=4||0===t?rf(e):rf.ceil(e)}function Cp(e,t){return e=Op(e),Sf(rf.count(cf(e),e)+(4===cf(e).getUTCDay()),t,2)}function _p(e){return e.getUTCDay()}function Ap(e,t){return Sf(Zh.count(cf(e)-1,e),t,2)}function Pp(e,t){return Sf(e.getUTCFullYear()%100,t,2)}function Ep(e,t){return Sf((e=Op(e)).getUTCFullYear()%100,t,2)}function Mp(e,t){return Sf(e.getUTCFullYear()%1e4,t,4)}function Tp(e,t){var r=e.getUTCDay();return Sf((e=r>=4||0===r?rf(e):rf.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ip(){return"+0000"}function Dp(){return"%"}function Rp(e){return+e}function Lp(e){return Math.floor(+e/1e3)}function Fp(e){return new Date(e)}function zp(e){return e instanceof Date?+e:+new Date(+e)}function Bp(e,t,r,n,a,s,o,i,l,c){var d=Ou(),u=d.invert,h=d.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function j(e){return(l(e)<e?f:i(e)<e?p:o(e)<e?m:s(e)<e?x:n(e)<e?a(e)<e?g:y:r(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,zp)):h().map(Fp)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(Vu(r,e)):d},d.copy=function(){return ku(d,Bp(e,t,r,n,a,s,o,i,l,c))},d}function $p(){return uc.apply(Bp(ff,pf,lf,sf,Hh,Bh,Fh,Rh,Dh,vf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Up(){return uc.apply(Bp(uf,hf,cf,of,Jh,$h,zh,Lh,Dh,bf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qp(){var e,t,r,n,a,s=0,o=1,i=bu,l=!1;function c(t){return null==t||isNaN(t=+t)?a:i(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,i=e(r,n),c):[i(0),i(1)]}}return c.domain=function(a){return arguments.length?([s,o]=a,e=n(s=+s),t=n(o=+o),r=e===t?0:1/(t-e),c):[s,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(i=e,c):i},c.range=d(xu),c.rangeRound=d(gu),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(o),r=e===t?0:1/(t-e),c}}function Hp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wp(){var e=qu(qp()(bu));return e.copy=function(){return Hp(e,Wp())},hc.apply(e,arguments)}function Vp(){var e=Zu(qp()).domain([1,10]);return e.copy=function(){return Hp(e,Vp()).base(e.base())},hc.apply(e,arguments)}function Kp(){var e=nh(qp());return e.copy=function(){return Hp(e,Kp()).constant(e.constant())},hc.apply(e,arguments)}function Yp(){var e=lh(qp());return e.copy=function(){return Hp(e,Yp()).exponent(e.exponent())},hc.apply(e,arguments)}function Xp(){return Yp.apply(null,arguments).exponent(.5)}function Gp(){var e=[],t=bu;function r(r){if(null!=r&&!isNaN(r=+r))return t((bd(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(fd),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>vh(e,n/t)))},r.copy=function(){return Gp(t).domain(e)},hc.apply(r,arguments)}function Qp(){var e,t,r,n,a,s,o,i=0,l=.5,c=1,d=1,u=bu,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(d*e<d*t?n:a),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=xu);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),f):[u(0),u(.5),u(1)]}}return f.domain=function(o){return arguments.length?([i,l,c]=o,e=s(i=+i),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,f):[i,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(u=e,f):u},f.range=p(xu),f.rangeRound=p(gu),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return s=o,e=o(i),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,f}}function Jp(){var e=qu(Qp()(bu));return e.copy=function(){return Hp(e,Jp())},hc.apply(e,arguments)}function Zp(){var e=Zu(Qp()).domain([.1,1,10]);return e.copy=function(){return Hp(e,Zp()).base(e.base())},hc.apply(e,arguments)}function em(){var e=nh(Qp());return e.copy=function(){return Hp(e,em()).constant(e.constant())},hc.apply(e,arguments)}function tm(){var e=lh(Qp());return e.copy=function(){return Hp(e,tm()).exponent(e.exponent())},hc.apply(e,arguments)}function rm(){return tm.apply(null,arguments).exponent(.5)}function nm(e,t){if((a=e.length)>1)for(var r,n,a,s=1,o=e[t[0]],i=o.length;s<a;++s)for(n=o,o=e[t[s]],r=0;r<i;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){yf=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,i=e.months,l=e.shortMonths,c=Cf(a),d=_f(a),u=Cf(s),h=_f(s),f=Cf(o),p=_f(o),m=Cf(i),x=_f(i),g=Cf(l),y=_f(l),v={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return i[e.getMonth()]},c:null,d:Xf,e:Xf,f:ep,g:up,G:fp,H:Gf,I:Qf,j:Jf,L:Zf,m:tp,M:rp,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Rp,s:Lp,S:np,u:ap,U:sp,V:ip,w:lp,W:cp,x:null,X:null,y:dp,Y:hp,Z:pp,"%":Dp},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return i[e.getUTCMonth()]},c:null,d:mp,e:mp,f:bp,g:Ep,G:Tp,H:xp,I:gp,j:yp,L:vp,m:jp,M:wp,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Rp,s:Lp,S:Np,u:kp,U:Sp,V:Cp,w:_p,W:Ap,x:null,X:null,y:Pp,Y:Mp,Z:Ip,"%":Dp},j={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:zf,e:zf,f:Wf,g:Df,G:If,H:$f,I:$f,j:Bf,L:Hf,m:Ff,M:Uf,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:Lf,Q:Kf,s:Yf,S:qf,u:Pf,U:Ef,V:Mf,w:Af,W:Tf,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:Df,Y:If,Z:Rf,"%":Vf};function w(e,t){return function(r){var n,a,s,o=[],i=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++i<c;)37===e.charCodeAt(i)&&(o.push(e.slice(l,i)),null!=(a=jf[n=e.charAt(++i)])?n=e.charAt(++i):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),o.push(n),l=i+1);return o.push(e.slice(l,i)),o.join("")}}function N(e,t){return function(r){var n,a,s=gf(1900,void 0,1);if(k(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=xf(gf(s.y,0,1))).getUTCDay(),n=a>4||0===a?Zh.ceil(n):Zh(n),n=$h.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=mf(gf(s.y,0,1))).getDay(),n=a>4||0===a?Wh.ceil(n):Wh(n),n=Bh.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?xf(gf(s.y,0,1)).getUTCDay():mf(gf(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,xf(s)):mf(s)}}function k(e,t,r,n){for(var a,s,o=0,i=t.length,l=r.length;o<i;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(s=j[a in jf?t.charAt(o++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),vf=yf.format,yf.parse,bf=yf.utcFormat,yf.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function am(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function sm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function om(e,t){return e[t]}function im(e){const t=[];return t.key=e,t}var lm=r(539),cm=r.n(lm),dm=r(6745),um=r.n(dm),hm=r(3538),fm=r.n(hm),pm=r(9853),mm=r.n(pm),xm=r(8210),gm=r.n(xm);function ym(e){return function(e){if(Array.isArray(e))return vm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bm=function(e){return e},jm={"@@functional/placeholder":!0},wm=function(e){return e===jm},Nm=function(e){return function t(){return 0===arguments.length||1===arguments.length&&wm(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},km=function e(t,r){return 1===t?r:Nm((function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter((function(e){return e!==jm})).length;return o>=t?r.apply(void 0,a):e(t-o,Nm((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=a.map((function(e){return wm(e)?t.shift():e}));return r.apply(void 0,ym(s).concat(t))})))}))},Sm=function(e){return km(e.length,e)},Om=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Cm=Sm((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),_m=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return bm;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},Am=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Pm=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};var Em=Sm((function(e,t,r){var n=+e;return n+r*(+t-n)})),Mm=Sm((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),Tm=Sm((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}));const Im={rangeStep:function(e,t,r){for(var n=new(gm())(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(gm())(e).abs().log(10).toNumber())+1},interpolateNumber:Em,uninterpolateNumber:Mm,uninterpolateTruncation:Tm};function Dm(e){return function(e){if(Array.isArray(e))return Fm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Lm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw s}}return r}(e,t)||Lm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lm(e,t){if(e){if("string"===typeof e)return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fm(e,t):void 0}}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zm(e){var t=Rm(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function Bm(e,t,r){if(e.lte(0))return new(gm())(0);var n=Im.getDigitCount(e.toNumber()),a=new(gm())(10).pow(n),s=e.div(a),o=1!==n?.05:.1,i=new(gm())(Math.ceil(s.div(o).toNumber())).add(r).mul(o).mul(a);return t?i:new(gm())(Math.ceil(i))}function $m(e,t,r){var n=1,a=new(gm())(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new(gm())(10).pow(Im.getDigitCount(e)-1),a=new(gm())(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new(gm())(Math.floor(e)))}else 0===e?a=new(gm())(Math.floor((t-1)/2)):r||(a=new(gm())(Math.floor(e)));var o=Math.floor((t-1)/2);return _m(Cm((function(e){return a.add(new(gm())(e-o).mul(n)).toNumber()})),Om)(0,t)}function Um(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(gm())(0),tickMin:new(gm())(0),tickMax:new(gm())(0)};var s,o=Bm(new(gm())(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new(gm())(0):(s=new(gm())(e).add(t).div(2)).sub(new(gm())(s).mod(o));var i=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new(gm())(t).sub(s).div(o).toNumber()),c=i+l+1;return c>r?Um(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,i=t>0?i:i+(r-c)),{step:o,tickMin:s.sub(new(gm())(i).mul(o)),tickMax:s.add(new(gm())(l).mul(o))})}var qm=Pm((function(e){var t=Rm(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Rm(zm([r,n]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(Dm(Om(0,a-1).map((function(){return 1/0})))):[].concat(Dm(Om(0,a-1).map((function(){return-1/0}))),[c]);return r>n?Am(d):d}if(l===c)return $m(l,a,s);var u=Um(l,c,o,s),h=u.step,f=u.tickMin,p=u.tickMax,m=Im.rangeStep(f,p.add(new(gm())(.1).mul(h)),h);return r>n?Am(m):m})),Hm=(Pm((function(e){var t=Rm(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),i=Rm(zm([r,n]),2),l=i[0],c=i[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return $m(l,a,s);var d=Bm(new(gm())(c).sub(l).div(o-1),s,0),u=_m(Cm((function(e){return new(gm())(l).add(new(gm())(e).mul(d)).toNumber()})),Om)(0,o).filter((function(e){return e>=l&&e<=c}));return r>n?Am(u):u})),Pm((function(e,t){var r=Rm(e,2),n=r[0],a=r[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Rm(zm([n,a]),2),i=o[0],l=o[1];if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(t,2),d=Bm(new(gm())(l).sub(i).div(c-1),s,0),u=[].concat(Dm(Im.rangeStep(new(gm())(i),new(gm())(l).sub(new(gm())(.99).mul(d)),d)),[l]);return n>a?Am(u):u}))),Wm=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vm(e){return Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function Ym(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nx(n.key),n)}}function Jm(e,t,r){return t=ex(t),function(e,t){if(t&&("object"===Vm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zm()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function Zm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zm=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ex(e)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tx(e,t)}function rx(e,t,r){return(t=nx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nx(e){var t=function(e,t){if("object"!=Vm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vm(t)?t:t+""}var ax=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jm(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,s=e.dataKey,o=e.data,i=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=Gm(e,Wm),u=Xa(d,!1);"x"===this.props.direction&&"number"!==l.type&&us(!1);var h=o.map((function(e){var o=i(e,s),d=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,x,g=[];if(Array.isArray(p)){var y=Ym(p,2);m=y[0],x=y[1]}else m=x=p;if("vertical"===r){var v=l.scale,b=h+t,j=b+n,w=b-n,N=v(f-m),k=v(f+x);g.push({x1:k,y1:j,x2:k,y2:w}),g.push({x1:N,y1:b,x2:k,y2:b}),g.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=c.scale,O=d+t,C=O-n,_=O+n,A=S(f-m),P=S(f+x);g.push({x1:C,y1:P,x2:_,y2:P}),g.push({x1:O,y1:A,x2:O,y2:P}),g.push({x1:C,y1:A,x2:_,y2:A})}return a.createElement(vs,Km({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),g.map((function(e){return a.createElement("line",Km({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return a.createElement(vs,{className:"recharts-errorBars"},h)}}],n&&Qm(r.prototype,n),s&&Qm(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function sx(e){return sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(e)}function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(r),!0).forEach((function(t){lx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=sx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}rx(ax,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),rx(ax,"displayName","ErrorBar");var cx=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,s=Wa(t,wi);if(!s)return null;var o,i=wi.defaultProps,l=void 0!==i?ix(ix({},i),s.props):{};return o=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(r||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:s.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?ix(ix({},r),t.props):{},a=n.dataKey,s=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:yx(t),value:s||a,payload:n}})),ix(ix(ix({},l),wi.getWithHeight(s,n)),{},{payload:o,item:s})};function dx(e){return dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(e)}function ux(e){return function(e){if(Array.isArray(e))return hx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function px(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fx(Object(r),!0).forEach((function(t){mx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=dx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xx(e,t,r){return ja()(e)||ja()(t)?r:ha(t)?oa()(e,t,r):Na()(t)?t(e):r}function gx(e,t,r,n){var a=fm()(e,(function(e){return xx(e,t)}));if("number"===r){var s=a.filter((function(e){return ua(e)||parseFloat(e)}));return s.length?[um()(s),cm()(s)]:[1/0,-1/0]}return(n?a.filter((function(e){return!ja()(e)})):a).map((function(e){return ha(e)||e instanceof Date?e:""}))}var yx=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?px(px({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill;switch(n){case"Line":r=s;break;case"Area":case"Radar":r=s&&"none"!==s?s:o;break;default:r=o}return r},vx=function(e,t,r,n,a){var s=Ha(t.props.children,ax).filter((function(e){return function(e,t,r){return!!ja()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(s&&s.length){var o=s.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=xx(t,r);if(ja()(n))return e;var a=Array.isArray(n)?[um()(n),cm()(n)]:[n,n],s=o.reduce((function(e,r){var n=xx(t,r,0),s=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(s,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}),[1/0,-1/0])}return null},bx=function(e,t,r,n,a){var s=t.map((function(t){var s=t.props.dataKey;return"number"===r&&s&&vx(e,t,s,n)||gx(e,s,r,a)}));if("number"===r)return s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return s.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e}),[])},jx=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},wx=function(e,t,r,n){if(n)return e.map((function(e){return e.coordinate}));var a,s,o=e.map((function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate}));return a||o.push(t),s||o.push(r),o},Nx=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,i="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===s&&n.bandwidth?n.bandwidth()/i:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*ca(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}})).filter((function(e){return!aa()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+l,value:e,offset:l}})):n.domain().map((function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}}))},kx=new WeakMap,Sx=function(e,t){if("function"!==typeof t)return e;kx.has(e)||kx.set(e,new WeakMap);var r=kx.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Ox=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,i=e.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===i?{scale:bc(),realScaleType:"band"}:"radial"===o&&"angleAxis"===i?{scale:Hu(),realScaleType:"linear"}:"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wc(),realScaleType:"point"}:"category"===s?{scale:bc(),realScaleType:"band"}:{scale:Hu(),realScaleType:"linear"};if(ra()(a)){var l="scale".concat(co()(a));return{scale:(t[l]||wc)(),realScaleType:t[l]?l:"point"}}return Na()(a)?{scale:a}:{scale:wc(),realScaleType:"point"}},Cx=1e-4,_x=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Cx,s=Math.max(n[0],n[1])+Cx,o=e(t[0]),i=e(t[r-1]);(o<a||o>s||i<a||i>s)&&e.domain([t[0],t[r-1]])}},Ax={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,o=0;o<t;++o){var i=aa()(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+i,s=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,o=e[0].length;s<o;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}nm(e,t)}},none:nm,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var o=0,i=0;o<r;++o)i+=e[o][n][1]||0;a[n][1]+=a[n][0]=-i/2}nm(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,o=1;o<n;++o){for(var i=0,l=0,c=0;i<a;++i){for(var d=e[t[i]],u=d[o][1]||0,h=(u-(d[o-1][1]||0))/2,f=0;f<i;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=u,c+=h*u}r[o-1][1]+=r[o-1][0]=s,l&&(s-=c/l)}r[o-1][1]+=r[o-1][0]=s,nm(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var o=aa()(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},Px=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=Ax[r],s=function(){var e=To([]),t=sm,r=nm,n=om;function a(a){var s,o,i=Array.from(e.apply(this,arguments),im),l=i.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(e,i[s].key,c,a)]).data=e;for(s=0,o=am(t(i));s<l;++s)i[o[s]].index=s;return r(i,o),i}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:To(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:To(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?sm:"function"===typeof e?e:To(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?nm:e,a):r},a}().keys(n).value((function(e,t){return+xx(e,t,0)})).order(sm).offset(a);return s(e)},Ex=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,s=t.originalDomain,o=t.allowDecimals,i=r||t.scale;if("auto"!==i&&"linear"!==i)return null;if(a&&"number"===n&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=qm(l,a,o);return e.domain([um()(c),cm()(c)]),{niceTicks:c}}if(a&&"number"===n){var d=e.domain();return{niceTicks:Hm(d,a,o)}}return null};function Mx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ja()(a[t.dataKey])){var i=ya(r,"value",a[t.dataKey]);if(i)return i.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=xx(a,ja()(o)?t.dataKey:o);return ja()(l)?null:t.scale(l)}var Tx=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,s=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var i=xx(s,t.dataKey,t.domain[o]);return ja()(i)?null:t.scale(i)-a/2+n},Ix=function(e,t,r){return Object.keys(e).reduce((function(n,a){var s=e[a].stackedData.reduce((function(e,n){var a=function(e){return e.reduce((function(e,t){return[um()(t.concat([e[0]]).filter(ua)),cm()(t.concat([e[1]]).filter(ua))]}),[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Dx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lx=function(e,t,r){if(Na()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(ua(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Dx.test(e[0])){var a=+Dx.exec(e[0])[1];n[0]=t[0]-a}else Na()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(ua(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Rx.test(e[1])){var s=+Rx.exec(e[1])[1];n[1]=t[1]+s}else Na()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Fx=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=cs()(t,(function(e){return e.coordinate})),s=1/0,o=1,i=a.length;o<i;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},zx=function(e,t,r){return e&&e.length?mm()(e,oa()(r,"type.defaultProps.domain"))?t:e:t},Bx=function(e,t){var r=e.type.defaultProps?px(px({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,s=r.unit,o=r.formatter,i=r.tooltipType,l=r.chartType,c=r.hide;return px(px({},Xa(e,!1)),{},{dataKey:n,unit:s,formatter:o,name:a||n,color:yx(e),value:xx(t,n),type:i,payload:t,chartType:l,hide:c})};function $x(e){return $x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(e)}function Ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ux(Object(r),!0).forEach((function(t){Hx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=$x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$x(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wx=["Webkit","Moz","O","ms"];function Vx(e){return Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function Yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yx(Object(r),!0).forEach((function(t){tg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rg(n.key),n)}}function Qx(e,t,r){return t=Zx(t),function(e,t){if(t&&("object"===Vx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jx()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function Jx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jx=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zx(e)}function eg(e,t){return eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eg(e,t)}function tg(e,t,r){return(t=rg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rg(e){var t=function(e,t){if("object"!=Vx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vx(t)?t:t+""}var ng=function(e){return e.changedTouches&&!!e.changedTouches.length},ag=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tg(r=Qx(this,t,[e]),"handleDrag",(function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)})),tg(r,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])})),tg(r,"handleDragEnd",(function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})})),r.detachDragEndListener()})),tg(r,"handleLeaveWrapper",(function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))})),tg(r,"handleEnterSlideOrTraveller",(function(){r.setState({isTextActive:!0})})),tg(r,"handleLeaveSlideOrTraveller",(function(){r.setState({isTextActive:!1})})),tg(r,"handleSlideDragStart",(function(e){var t=ng(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()})),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eg(e,t)}(t,e),r=t,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,s=this.props,o=s.gap,i=s.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=t.getIndexInRange(a,l),u=t.getIndexInRange(a,c);return{startIndex:d-d%o,endIndex:u===i?i:u-u%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,s=xx(r[e],a,e);return Na()(n)?n(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,s=this.props,o=s.x,i=s.width,l=s.travellerWidth,c=s.startIndex,d=s.endIndex,u=s.onChange,h=e.pageX-r;h>0?h=Math.min(h,o+i-l-a,o+i-l-n):h<0&&(h=Math.max(h,o-n,o-a));var f=this.getIndex({startX:n+h,endX:a+h});f.startIndex===c&&f.endIndex===d||!u||u(f),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=ng(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,s=t.startX,o=this.state[n],i=this.props,l=i.x,c=i.width,d=i.travellerWidth,u=i.onChange,h=i.gap,f=i.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-d-o):m<0&&(m=Math.max(m,l-o)),p[n]=o+m;var x=this.getIndex(p),g=x.startIndex,y=x.endIndex;this.setState(tg(tg({},n,o+m),"brushMoveStartX",e.pageX),(function(){u&&function(){var e=f.length-1;return"startX"===n&&(a>s?g%h===0:y%h===0)||a<s&&y===e||"endX"===n&&(a>s?y%h===0:g%h===0)||a>s&&y===e}()&&u(x)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,s=n.startX,o=n.endX,i=this.state[t],l=a.indexOf(i);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=o||"endX"===t&&d<=s||this.setState(tg({},t,d),(function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.fill,i=e.stroke;return a.createElement("rect",{stroke:i,fill:o,x:t,y:r,width:n,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.data,i=e.children,l=e.padding,c=a.Children.only(i);return c?a.cloneElement(c,{x:t,y:r,width:n,height:s,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,r){var n,s,o=this,i=this.props,l=i.y,c=i.travellerWidth,d=i.height,u=i.traveller,h=i.ariaLabel,f=i.data,p=i.startIndex,m=i.endIndex,x=Math.max(e,this.props.x),g=Xx(Xx({},Xa(this.props,!1)),{},{x:x,y:l,width:c,height:d}),y=h||"Min value: ".concat(null===(n=f[p])||void 0===n?void 0:n.name,", Max value: ").concat(null===(s=f[m])||void 0===s?void 0:s.name);return a.createElement(vs,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,s=r.height,o=r.stroke,i=r.travellerWidth,l=Math.min(e,t)+i,c=Math.max(Math.abs(t-e)-i,0);return a.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:n,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,s=e.height,o=e.travellerWidth,i=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:i};return a.createElement(vs,{className:"recharts-brush-texts"},a.createElement(sd,Kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:n+s/2},u),this.getTextOfTick(t)),a.createElement(sd,Kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+o+5,y:n+s/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,s=e.x,o=e.y,i=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,h=d.endX,f=d.isTextActive,p=d.isSlideMoving,m=d.isTravellerMoving,x=d.isTravellerFocused;if(!t||!t.length||!ua(s)||!ua(o)||!ua(i)||!ua(l)||i<=0||l<=0)return null;var g=Jn("recharts-brush",r),y=1===a.Children.count(n),v=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=Wx.reduce((function(e,n){return qx(qx({},e),{},Hx({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return a.createElement(vs,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||x||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,s=e.height,o=e.stroke,i=Math.floor(r+s/2)-1;return a.createElement(a.Fragment,null,a.createElement("rect",{x:t,y:r,width:n,height:s,fill:o,stroke:"none"}),a.createElement("line",{x1:t+1,y1:i,x2:t+n-1,y2:i,fill:"none",stroke:"#fff"}),a.createElement("line",{x1:t+1,y1:i+2,x2:t+n-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return a.isValidElement(e)?a.cloneElement(e,r):Na()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,s=e.travellerWidth,o=e.updateId,i=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return Xx({prevData:r,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var i=t.length,l=wc().domain(is()(0,i)).range([a,a+s-o]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:s,startIndex:i,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+n-s]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:s,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],n&&Gx(r.prototype,n),s&&Gx(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function sg(e){return sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(e)}function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?og(Object(r),!0).forEach((function(t){lg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lg(e,t,r){return t=function(e){var t=function(e,t){if("object"!=sg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}tg(ag,"displayName","Brush"),tg(ag,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ug=Math.PI/180,hg=function(e){return 180*e/Math.PI},fg=function(e,t,r,n){return{x:e+Math.cos(-ug*n)*r,y:t+Math.sin(-ug*n)*r}},pg=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},mg=function(e,t){var r=e.x,n=e.y,a=t.cx,s=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-s,2))}({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o};var i=(r-a)/o,l=Math.acos(i);return n>s&&(l=2*Math.PI-l),{radius:o,angle:hg(l),angleInRadian:l}},xg=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},gg=function(e,t){var r=e.x,n=e.y,a=mg({x:r,y:n},t),s=a.radius,o=a.angle,i=t.innerRadius,l=t.outerRadius;if(s<i||s>l)return!1;if(0===s)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}}(t),u=d.startAngle,h=d.endAngle,f=o;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;c=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=u}return c?ig(ig({},t),{},{radius:s,angle:xg(f,t)}):null},yg=function(e){return(0,a.isValidElement)(e)||Na()(e)||"boolean"===typeof e?"":e.className};function vg(e){return vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(e)}var bg=["offset"];function jg(e){return function(e){if(Array.isArray(e))return wg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ng(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kg(Object(r),!0).forEach((function(t){Og(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Og(e,t,r){return t=function(e){var t=function(e,t){if("object"!=vg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}var _g=function(e,t,r){var n,s,o=e.position,i=e.viewBox,l=e.offset,c=e.className,d=i,u=d.cx,h=d.cy,f=d.innerRadius,p=d.outerRadius,m=d.startAngle,x=d.endAngle,g=d.clockWise,y=(f+p)/2,v=function(e,t){return ca(t-e)*Math.min(Math.abs(t-e),360)}(m,x),b=v>=0?1:-1;"insideStart"===o?(n=m+b*l,s=g):"insideEnd"===o?(n=x-b*l,s=!g):"end"===o&&(n=x+b*l,s=g),s=v<=0?s:!s;var j=fg(u,h,y,n),w=fg(u,h,y,n+359*(s?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),k=ja()(e.id)?pa("recharts-radial-line-"):e.id;return a.createElement("text",Cg({},r,{dominantBaseline:"central",className:Jn("recharts-radial-bar-label",c)}),a.createElement("defs",null,a.createElement("path",{id:k,d:N})),a.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function Ag(e){var t,r=e.offset,n=Sg({offset:void 0===r?5:r},Ng(e,bg)),s=n.viewBox,o=n.position,i=n.value,l=n.children,c=n.content,d=n.className,u=void 0===d?"":d,h=n.textBreakAll;if(!s||ja()(i)&&ja()(l)&&!(0,a.isValidElement)(c)&&!Na()(c))return null;if((0,a.isValidElement)(c))return(0,a.cloneElement)(c,n);if(Na()(c)){if(t=(0,a.createElement)(c,n),(0,a.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=ja()(e.children)?t:e.children;return Na()(r)?r(n):n}(n);var f=function(e){return"cx"in e&&ua(e.cx)}(s),p=Xa(n,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return _g(n,t,p);var m=f?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,s=a.cx,o=a.cy,i=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var d=fg(s,o,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=fg(s,o,(i+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,s=t,o=s.x,i=s.y,l=s.width,c=s.height,d=c>=0?1:-1,u=d*n,h=d>0?"end":"start",f=d>0?"start":"end",p=l>=0?1:-1,m=p*n,x=p>0?"end":"start",g=p>0?"start":"end";if("top"===a)return Sg(Sg({},{x:o+l/2,y:i-d*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(i-r.y,0),width:l}:{});if("bottom"===a)return Sg(Sg({},{x:o+l/2,y:i+c+u,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(i+c),0),width:l}:{});if("left"===a){var y={x:o-m,y:i+c/2,textAnchor:x,verticalAnchor:"middle"};return Sg(Sg({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if("right"===a){var v={x:o+l+m,y:i+c/2,textAnchor:g,verticalAnchor:"middle"};return Sg(Sg({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?Sg({x:o+m,y:i+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?Sg({x:o+l-m,y:i+c/2,textAnchor:x,verticalAnchor:"middle"},b):"insideTop"===a?Sg({x:o+l/2,y:i+u,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?Sg({x:o+l/2,y:i+c-u,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?Sg({x:o+m,y:i+u,textAnchor:g,verticalAnchor:f},b):"insideTopRight"===a?Sg({x:o+l-m,y:i+u,textAnchor:x,verticalAnchor:f},b):"insideBottomLeft"===a?Sg({x:o+m,y:i+c-u,textAnchor:g,verticalAnchor:h},b):"insideBottomRight"===a?Sg({x:o+l-m,y:i+c-u,textAnchor:x,verticalAnchor:h},b):Sa()(a)&&(ua(a.x)||da(a.x))&&(ua(a.y)||da(a.y))?Sg({x:o+ma(a.x,l),y:i+ma(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Sg({x:o+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(n);return a.createElement(sd,Cg({className:Jn("recharts-label",u)},p,m,{breakAll:h}),t)}Ag.displayName="Label";var Pg=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,i=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,f=e.left,p=e.width,m=e.height,x=e.clockWise,g=e.labelViewBox;if(g)return g;if(ua(p)&&ua(m)){if(ua(d)&&ua(u))return{x:d,y:u,width:p,height:m};if(ua(h)&&ua(f))return{x:h,y:f,width:p,height:m}}return ua(d)&&ua(u)?{x:d,y:u,width:0,height:0}:ua(t)&&ua(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:c||i||o||0,clockWise:x}:e.viewBox?e.viewBox:{}};Ag.parseViewBox=Pg,Ag.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Pg(e),o=Ha(n,Ag).map((function(e,r){return(0,a.cloneElement)(e,{viewBox:t||s,key:"label-".concat(r)})}));if(!r)return o;var i=function(e,t){return e?!0===e?a.createElement(Ag,{key:"label-implicit",viewBox:t}):ha(e)?a.createElement(Ag,{key:"label-implicit",viewBox:t,value:e}):(0,a.isValidElement)(e)?e.type===Ag?(0,a.cloneElement)(e,{key:"label-implicit",viewBox:t}):a.createElement(Ag,{key:"label-implicit",content:e,viewBox:t}):Na()(e)?a.createElement(Ag,{key:"label-implicit",content:e,viewBox:t}):Sa()(e)?a.createElement(Ag,Cg({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[i].concat(jg(o))};var Eg=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Mg=r(1733),Tg=r.n(Mg),Ig=r(7002),Dg=r.n(Ig),Rg=function(e){return null};Rg.displayName="Cell";var Lg=r(4065),Fg=r.n(Lg);function zg(e){return zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(e)}var Bg=["valueAccessor"],$g=["data","dataKey","clockWise","id","textBreakAll"];function Ug(e){return function(e){if(Array.isArray(e))return qg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(r),!0).forEach((function(t){Kg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kg(e,t,r){return t=function(e){var t=function(e,t){if("object"!=zg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yg(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Xg=function(e){return Array.isArray(e.value)?Fg()(e.value):e.value};function Gg(e){var t=e.valueAccessor,r=void 0===t?Xg:t,n=Yg(e,Bg),s=n.data,o=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,d=Yg(n,$g);return s&&s.length?a.createElement(vs,{className:"recharts-label-list"},s.map((function(e,t){var n=ja()(o)?r(e,t):xx(e&&e.payload,o),s=ja()(l)?{}:{id:"".concat(l,"-").concat(t)};return a.createElement(Ag,Hg({},Xa(e,!0),d,s,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:Ag.parseViewBox(ja()(i)?e:Vg(Vg({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))}))):null}Gg.displayName="LabelList",Gg.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=Ha(e.children,Gg).map((function(e,r){return(0,a.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));if(!r)return n;var s=function(e,t){return e?!0===e?a.createElement(Gg,{key:"labelList-implicit",data:t}):a.isValidElement(e)||Na()(e)?a.createElement(Gg,{key:"labelList-implicit",data:t,content:e}):Sa()(e)?a.createElement(Gg,Hg({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[s].concat(Ug(n))};var Qg=r(2322),Jg=r.n(Qg),Zg=r(6361),ey=r.n(Zg);function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function ny(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ay(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(r),!0).forEach((function(t){iy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iy(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ty(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ty(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ty(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ly=function(e,t,r,n,a){var s,o=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-o/2,",").concat(t+a),s+="L ".concat(e+r-o/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},cy={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dy=function(e){var t=oy(oy({},cy),e),r=(0,a.useRef)(),n=ny((0,a.useState)(-1),2),s=n[0],o=n[1];(0,a.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var i=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,x=t.isUpdateAnimationActive;if(i!==+i||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var g=Jn("recharts-trapezoid",h);return x?a.createElement(Zl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:i,y:l},duration:p,animationEasing:f,isActive:x},(function(e){var n=e.upperWidth,o=e.lowerWidth,i=e.height,l=e.x,c=e.y;return a.createElement(Zl,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},a.createElement("path",ry({},Xa(t,!0),{className:g,d:ly(l,c,n,o,i),ref:r})))})):a.createElement("g",null,a.createElement("path",ry({},Xa(t,!0),{className:g,d:ly(i,l,c,d,u)})))};function uy(e){return uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(r),!0).forEach((function(t){my(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function my(e,t,r){return t=function(e){var t=function(e,t){if("object"!=uy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xy=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,s=e.sign,o=e.isExternal,i=e.cornerRadius,l=e.cornerIsExternal,c=i*(o?1:-1)+n,d=Math.asin(i/c)/ug,u=l?a:a+s*d,h=l?a-s*d:a;return{center:fg(t,r,c,u),circleTangency:fg(t,r,n,u),lineTangency:fg(t,r,c*Math.cos(d*ug),h),theta:d}},gy=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=function(e,t){return ca(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),i=s+o,l=fg(t,r,a,s),c=fg(t,r,a,i),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>i),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=fg(t,r,n,s),h=fg(t,r,n,i);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=i),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},yy={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vy=function(e){var t=py(py({},yy),e),r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=t.className;if(o<s||d===u)return null;var f,p=Jn("recharts-sector",h),m=o-s,x=ma(i,m,0,!0);return f=x>0&&Math.abs(d-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,i=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=ca(c-l),u=xy({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:i}),h=u.circleTangency,f=u.lineTangency,p=u.theta,m=xy({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:i}),x=m.circleTangency,g=m.lineTangency,y=m.theta,v=i?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):gy({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var j=xy({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),w=j.circleTangency,N=j.lineTangency,k=j.theta,S=xy({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:i}),O=S.circleTangency,C=S.lineTangency,_=S.theta,A=i?Math.abs(l-c):Math.abs(l-c)-k-_;if(A<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(C.x,",").concat(C.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):gy({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:d,endAngle:u}),a.createElement("path",hy({},Xa(t,!0),{className:p,d:f,role:"img"}))},by=["option","shapeType","propTransformer","activeClassName","isActive"];function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function wy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ny(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ny(Object(r),!0).forEach((function(t){Sy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ny(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sy(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oy(e,t){return ky(ky({},t),e)}function Cy(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return a.createElement(dc,r);case"trapezoid":return a.createElement(dy,r);case"sector":return a.createElement(vy,r);case"symbols":if(function(e){return"symbols"===e}(t))return a.createElement(Go,r);break;default:return null}}function _y(e){var t,r=e.option,n=e.shapeType,s=e.propTransformer,o=void 0===s?Oy:s,i=e.activeClassName,l=void 0===i?"recharts-active-shape":i,c=e.isActive,d=wy(e,by);if((0,a.isValidElement)(r))t=(0,a.cloneElement)(r,ky(ky({},d),function(e){return(0,a.isValidElement)(e)?e.props:e}(r)));else if(Na()(r))t=r(d);else if(Jg()(r)&&!ey()(r)){var u=o(r,d);t=a.createElement(Cy,{shapeType:n,elementProps:u})}else{var h=d;t=a.createElement(Cy,{shapeType:n,elementProps:h})}return c?a.createElement(vs,{className:l},t):t}function Ay(e,t){return null!=t&&"trapezoids"in e.props}function Py(e,t){return null!=t&&"sectors"in e.props}function Ey(e,t){return null!=t&&"points"in e.props}function My(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&s}function Ty(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Iy(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Dy(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return Ay(e,t)?r="trapezoids":Py(e,t)?r="sectors":Ey(e,t)&&(r="points"),r}(r,t),s=function(e,t){var r,n;return Ay(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Py(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Ey(e,t)?t.payload:{}}(r,t),o=n.filter((function(e,n){var o=mm()(s,e),i=r.props[a].filter((function(e){var n=function(e,t){var r;return Ay(e,t)?r=My:Py(e,t)?r=Ty:Ey(e,t)&&(r=Iy),r}(r,t);return n(e,t)})),l=r.props[a].indexOf(i[i.length-1]);return o&&n===l}));return n.indexOf(o[o.length-1])}var Ry=["x","y"];function Ly(e){return Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zy(Object(r),!0).forEach((function(t){$y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $y(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Ly(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ly(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ly(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qy(e,t){var r=e.x,n=e.y,a=Uy(e,Ry),s="".concat(r),o=parseInt(s,10),i="".concat(n),l=parseInt(i,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return By(By(By(By(By({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Hy(e){return a.createElement(_y,Fy({shapeType:"rectangle",propTransformer:qy,activeClassName:"recharts-active-bar"},e))}var Wy,Vy=["value","background"];function Ky(e){return Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(e)}function Yy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}function Gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gy(Object(r),!0).forEach((function(t){nv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,av(n.key),n)}}function Zy(e,t,r){return t=tv(t),function(e,t){if(t&&("object"===Ky(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ev()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function ev(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ev=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tv(e)}function rv(e,t){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rv(e,t)}function nv(e,t,r){return(t=av(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function av(e){var t=function(e,t){if("object"!=Ky(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ky(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ky(t)?t:t+""}var sv=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return nv(e=Zy(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),nv(e,"id",pa("recharts-bar-")),nv(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),nv(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rv(e,t)}(t,e),r=t,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,s=r.dataKey,o=r.activeIndex,i=r.activeBar,l=Xa(this.props,!1);return e&&e.map((function(e,r){var c=r===o,d=c?i:n,u=Qy(Qy(Qy({},l),e),{},{isActive:c,option:d,index:r,dataKey:s,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return a.createElement(vs,Xy({className:"recharts-bar-rectangle"},Ia(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),a.createElement(Hy,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,s=t.isAnimationActive,o=t.animationBegin,i=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return a.createElement(Zl,{begin:o,duration:i,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var s=t.t,o=r.map((function(e,t){var r=d&&d[t];if(r){var a=ga(r.x,e.x),o=ga(r.y,e.y),i=ga(r.width,e.width),l=ga(r.height,e.height);return Qy(Qy({},e),{},{x:a(s),y:o(s),width:i(s),height:l(s)})}if("horizontal"===n){var c=ga(0,e.height)(s);return Qy(Qy({},e),{},{y:e.y+e.height-c,height:c})}var u=ga(0,e.width)(s);return Qy(Qy({},e),{},{width:u})}));return a.createElement(vs,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&mm()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,s=t.activeIndex,o=Xa(this.props.background,!1);return r.map((function(t,r){t.value;var i=t.background,l=Yy(t,Vy);if(!i)return null;var c=Qy(Qy(Qy(Qy(Qy({},l),{},{fill:"#eee"},i),o),Ia(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return a.createElement(Hy,Xy({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ha(r.children,ax);if(!l)return null;var c="vertical"===i?n[0].height/2:n[0].width/2,d=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:xx(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(vs,u,l.map((function(e){return a.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:s,yAxis:o,layout:i,offset:c,dataPointFormatter:d})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,s=e.xAxis,o=e.yAxis,i=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,h=e.background,f=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Jn("recharts-bar",n),x=s&&s.allowDataOverflow,g=o&&o.allowDataOverflow,y=x||g,v=ja()(f)?this.id:f;return a.createElement(vs,{className:m},x||g?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(v)},a.createElement("rect",{x:x?i:i-c/2,y:g?l:l-d/2,width:x?c:2*c,height:g?d:2*d}))):null,a.createElement(vs,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!u||p)&&Gg.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&Jy(r.prototype,n),s&&Jy(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function ov(e){return ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(e)}function iv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uv(n.key),n)}}function lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lv(Object(r),!0).forEach((function(t){dv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dv(e,t,r){return(t=uv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uv(e){var t=function(e,t){if("object"!=ov(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ov(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ov(t)?t:t+""}Wy=sv,nv(sv,"displayName","Bar"),nv(sv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),nv(sv,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var p=t.layout,m=r.type.defaultProps,x=void 0!==m?Qy(Qy({},m),r.props):r.props,g=x.dataKey,y=x.children,v=x.minPointSize,b="horizontal"===p?o:s,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=Ha(y,Rg),k=u.map((function(e,t){var n,u,h,m,x,y;c?n=function(e,t){if(!t||2!==t.length||!ua(t[0])||!ua(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ua(e[0])||e[0]<r)&&(a[0]=r),(!ua(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[d+t],j):(n=xx(e,g),Array.isArray(n)||(n=[w,n]));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a="number"===typeof r;return a?e(r,n):(a||us(!1),t)}}(v,Wy.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,S=[o.scale(n[0]),o.scale(n[1])],O=S[0],C=S[1];u=Tx({axis:s,ticks:i,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==C&&void 0!==C?C:O)&&void 0!==k?k:void 0,m=f.size;var _=O-C;if(x=Number.isNaN(_)?0:_,y={x:u,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(x)<Math.abs(b)){var A=ca(x||b)*(Math.abs(b)-Math.abs(x));h-=A,x+=A}}else{var P=[s.scale(n[0]),s.scale(n[1])],E=P[0],M=P[1];if(u=E,h=Tx({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=M-E,x=f.size,y={x:s.x,y:h,width:s.width,height:x},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=ca(m||b)*(Math.abs(b)-Math.abs(m))}return Qy(Qy(Qy({},e),{},{x:u,y:h,width:m,height:x,value:c?n:n[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[Bx(r,e)],tooltipPosition:{x:u+m/2,y:h+x/2}})}));return Qy({data:k,layout:p},h)}));var hv=function(e,t,r,n,a){var s=e.width,o=e.height,i=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},u=!!Wa(l,sv);return c.reduce((function(s,o){var l,c,h,f,p,m=t[o],x=m.orientation,g=m.domain,y=m.padding,v=void 0===y?{}:y,b=m.mirror,j=m.reversed,w="".concat(x).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=g[1]-g[0],k=1/0,S=m.categoricalDomain.sort();if(S.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))})),Number.isFinite(k)){var O=k/N,C="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=O*C/2),"no-gap"===m.padding){var _=ma(e.barCategoryGap,O*C),A=O*C/2;l=A-_-(A-_)/C*_}}}c="xAxis"===n?[r.left+(v.left||0)+(l||0),r.left+r.width-(v.right||0)-(l||0)]:"yAxis"===n?"horizontal"===i?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(l||0),r.top+r.height-(v.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var P=Ox(m,a,u),E=P.scale,M=P.realScaleType;E.domain(g).range(c),_x(E);var T=Ex(E,cv(cv({},m),{},{realScaleType:M}));"xAxis"===n?(p="top"===x&&!b||"bottom"===x&&b,h=r.left,f=d[w]-p*m.height):"yAxis"===n&&(p="left"===x&&!b||"right"===x&&b,h=d[w]-p*m.width,f=r.top);var I=cv(cv(cv({},m),T),{},{realScaleType:M,x:h,y:f,scale:E,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return I.bandSize=Fx(I,T),m.hide||"xAxis"!==n?m.hide||(d[w]+=(p?-1:1)*I.width):d[w]+=(p?-1:1)*I.height,cv(cv({},s),{},dv({},o,I))}),{})},fv=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},pv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&iv(t.prototype,r),n&&iv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();dv(pv,"EPS",1e-4);var mv=function(e){var t=Object.keys(e).reduce((function(t,r){return cv(cv({},t),{},dv({},r,pv.create(e[r])))}),{});return cv(cv({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Tg()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return Dg()(e,(function(e,r){return t[r].isInRange(e)}))}})};function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function gv(e){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(e)}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(r),!0).forEach((function(t){Sv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ov(n.key),n)}}function jv(e,t,r){return t=Nv(t),function(e,t){if(t&&("object"===gv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wv()?Reflect.construct(t,r||[],Nv(e).constructor):t.apply(e,r))}function wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wv=function(){return!!e})()}function Nv(e){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nv(e)}function kv(e,t){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kv(e,t)}function Sv(e,t,r){return(t=Ov(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ov(e){var t=function(e,t){if("object"!=gv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gv(t)?t:t+""}var Cv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jv(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kv(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,r=e.x,n=e.y,s=e.r,o=e.alwaysShow,i=e.clipPathId,l=ha(r),c=ha(n);if(va(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,s=mv({x:n.scale,y:a.scale}),o=s.apply({x:t,y:r},{bandAware:!0});return Eg(e,"discard")&&!s.isInRange(o)?null:o}(this.props);if(!d)return null;var u=d.x,h=d.y,f=this.props,p=f.shape,m=f.className,x=vv(vv({clipPath:Eg(this.props,"hidden")?"url(#".concat(i,")"):void 0},Xa(this.props,!0)),{},{cx:u,cy:h});return a.createElement(vs,{className:Jn("recharts-reference-dot",m)},t.renderDot(p,x),Ag.renderCallByParent(this.props,{x:u-s,y:h-s,width:2*s,height:2*s}))}}],n&&bv(r.prototype,n),s&&bv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);Sv(Cv,"displayName","ReferenceDot"),Sv(Cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Sv(Cv,"renderDot",(function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement(ki,xv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var _v=r(4597),Av=r.n(_v),Pv=r(8990),Ev=r.n(Pv),Mv=r(5797),Tv=r.n(Mv)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Iv=(0,a.createContext)(void 0),Dv=(0,a.createContext)(void 0),Rv=(0,a.createContext)(void 0),Lv=(0,a.createContext)({}),Fv=(0,a.createContext)(void 0),zv=(0,a.createContext)(0),Bv=(0,a.createContext)(0),$v=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,s=t.offset,o=e.clipPathId,i=e.children,l=e.width,c=e.height,d=Tv(s);return a.createElement(Iv.Provider,{value:r},a.createElement(Dv.Provider,{value:n},a.createElement(Lv.Provider,{value:s},a.createElement(Rv.Provider,{value:d},a.createElement(Fv.Provider,{value:o},a.createElement(zv.Provider,{value:c},a.createElement(Bv.Provider,{value:l},i)))))))};var Uv=function(e){var t=(0,a.useContext)(Iv);null==t&&us(!1);var r=t[e];return null==r&&us(!1),r},qv=function(e){var t=(0,a.useContext)(Dv);null==t&&us(!1);var r=t[e];return null==r&&us(!1),r},Hv=function(){return(0,a.useContext)(Bv)},Wv=function(){return(0,a.useContext)(zv)};function Vv(e){return Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(e)}function Kv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tb(n.key),n)}}function Yv(e,t,r){return t=Gv(t),function(e,t){if(t&&("object"===Vv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xv()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function Xv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xv=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gv(e)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qv(e,t)}function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jv(Object(r),!0).forEach((function(t){eb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eb(e,t,r){return(t=tb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tb(e){var t=function(e,t){if("object"!=Vv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vv(t)?t:t+""}function rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}function sb(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,d=(0,a.useContext)(Fv),u=Uv(s),h=qv(o),f=(0,a.useContext)(Rv);if(!d||!f)return null;va(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,s,o,i,l){var c=a.x,d=a.y,u=a.width,h=a.height;if(r){var f=l.y,p=e.y.apply(f,{position:s});if(Eg(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+u,y:p},{x:c,y:p}];return"left"===i?m.reverse():m}if(t){var x=l.x,g=e.x.apply(x,{position:s});if(Eg(l,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:d+h},{x:g,y:d}];return"top"===o?y.reverse():y}if(n){var v=l.segment.map((function(t){return e.apply(t,{position:s})}));return Eg(l,"discard")&&Av()(v,(function(t){return!e.isInRange(t)}))?null:v}return null}(mv({x:u.scale,y:h.scale}),ha(t),ha(r),n&&2===n.length,f,e.position,u.orientation,h.orientation,e);if(!p)return null;var m=rb(p,2),x=m[0],g=x.x,y=x.y,v=m[1],b=v.x,j=v.y,w=Zv(Zv({clipPath:Eg(e,"hidden")?"url(#".concat(d,")"):void 0},Xa(e,!0)),{},{x1:g,y1:y,x2:b,y2:j});return a.createElement(vs,{className:Jn("recharts-reference-line",l)},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement("line",ab({},t,{className:"recharts-reference-line-line"}))}(i,w),Ag.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return fv({x:t,y:r},{x:n,y:a})}({x1:g,y1:y,x2:b,y2:j})))}var ob=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yv(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(sb,this.props)}}])&&Kv(r.prototype,n),s&&Kv(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(this,arguments)}function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(r),!0).forEach((function(t){xb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ub(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gb(n.key),n)}}function hb(e,t,r){return t=pb(t),function(e,t){if(t&&("object"===lb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fb()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function fb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fb=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pb(e)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mb(e,t)}function xb(e,t,r){return(t=gb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gb(e){var t=function(e,t){if("object"!=lb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lb(t)?t:t+""}eb(ob,"displayName","ReferenceLine"),eb(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var yb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x1,n=e.x2,s=e.y1,o=e.y2,i=e.className,l=e.alwaysShow,c=e.clipPathId;va(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ha(r),u=ha(n),h=ha(s),f=ha(o),p=this.props.shape;if(!d&&!u&&!h&&!f&&!p)return null;var m=function(e,t,r,n,a){var s=a.x1,o=a.x2,i=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=mv({x:c.scale,y:d.scale}),h={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(i,{position:"start"}):u.y.rangeMin},f={x:t?u.x.apply(o,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!Eg(a,"discard")||u.isInRange(h)&&u.isInRange(f)?fv(h,f):null}(d,u,h,f,this.props);if(!m&&!p)return null;var x=Eg(this.props,"hidden")?"url(#".concat(c,")"):void 0;return a.createElement(vs,{className:Jn("recharts-reference-area",i)},t.renderRect(p,db(db({clipPath:x},Xa(this.props,!0)),m)),Ag.renderCallByParent(this.props,m))}}])&&ub(r.prototype,n),s&&ub(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function vb(e){return function(e){if(Array.isArray(e))return bb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}xb(yb,"displayName","ReferenceArea"),xb(yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),xb(yb,"renderRect",(function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement(dc,ib({},t,{className:"recharts-reference-area-rect"}))}));var jb=function(e,t,r,n,a){var s=Ha(e,ob),o=Ha(e,Cv),i=[].concat(vb(s),vb(o)),l=Ha(e,yb),c="".concat(n,"Id"),d=n[0],u=t;if(i.length&&(u=i.reduce((function(e,t){if(t.props[c]===r&&Eg(t.props,"extendDomain")&&ua(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),u)),l.length){var h="".concat(d,"1"),f="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===r&&Eg(t.props,"extendDomain")&&ua(t.props[h])&&ua(t.props[f])){var n=t.props[h],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),u)}return a&&a.length&&(u=a.reduce((function(e,t){return ua(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},wb=r(7283),Nb=new(r.n(wb)()),kb="recharts.syncMouseEvents";function Sb(e){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(e)}function Ob(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_b(n.key),n)}}function Cb(e,t,r){return(t=_b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _b(e){var t=function(e,t){if("object"!=Sb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sb(t)?t:t+""}var Ab=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cb(this,"activeIndex",0),Cb(this,"coordinateList",[]),Cb(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,s=void 0===a?null:a,o=e.layout,i=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==i&&void 0!==i?i:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,s=r.height,o=this.coordinateList[this.activeIndex].coordinate,i=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+i,d=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&Ob(e.prototype,t),r&&Ob(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function Pb(){}function Eb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mb(e){this._context=e}function Tb(e){this._context=e}function Ib(e){this._context=e}Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Tb.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Eb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Eb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Db{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Rb(e){this._context=e}function Lb(e){this._context=e}function Fb(e){return new Lb(e)}function zb(e){return e<0?-1:1}function Bb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),i=(s*a+o*n)/(n+a);return(zb(s)+zb(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(i))||0}function $b(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ub(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,i=(s-n)/3;e._context.bezierCurveTo(n+i,a+i*t,s-i,o-i*r,s,o)}function qb(e){this._context=e}function Hb(e){this._context=new Wb(e)}function Wb(e){this._context=e}function Vb(e){this._context=e}function Kb(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Yb(e,t){this._context=e,this._t=t}function Xb(e){return e[0]}function Gb(e){return e[1]}function Qb(e,t){var r=To(!0),n=null,a=Fb,s=null,o=Bo(i);function i(i){var l,c,d,u=(i=am(i)).length,h=!1;for(null==n&&(s=a(d=o())),l=0;l<=u;++l)!(l<u&&r(c=i[l],l,i))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,i),+t(c,l,i));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?Xb:To(e),t="function"===typeof t?t:void 0===t?Gb:To(t),i.x=function(t){return arguments.length?(e="function"===typeof t?t:To(+t),i):e},i.y=function(e){return arguments.length?(t="function"===typeof e?e:To(+e),i):t},i.defined=function(e){return arguments.length?(r="function"===typeof e?e:To(!!e),i):r},i.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),i):a},i.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),i):n},i}function Jb(e,t,r){var n=null,a=To(!0),s=null,o=Fb,i=null,l=Bo(c);function c(c){var d,u,h,f,p,m=(c=am(c)).length,x=!1,g=new Array(m),y=new Array(m);for(null==s&&(i=o(p=l())),d=0;d<=m;++d){if(!(d<m&&a(f=c[d],d,c))===x)if(x=!x)u=d,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),h=d-1;h>=u;--h)i.point(g[h],y[h]);i.lineEnd(),i.areaEnd()}x&&(g[d]=+e(f,d,c),y[d]=+t(f,d,c),i.point(n?+n(f,d,c):g[d],r?+r(f,d,c):y[d]))}if(p)return i=null,p+""||null}function d(){return Qb().defined(a).curve(o).context(s)}return e="function"===typeof e?e:void 0===e?Xb:To(+e),t="function"===typeof t?t:To(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?Gb:To(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:To(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:To(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:To(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:To(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:To(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:To(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:To(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=s&&(i=o(s)),c):o},c.context=function(e){return arguments.length?(null==e?s=i=null:i=o(s=e),c):s},c}function Zb(e){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(e)}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(this,arguments)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach((function(t){nj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Zb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Rb.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ub(this,this._t0,$b(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ub(this,$b(this,r=Bb(this,e,t)),r);break;default:Ub(this,this._t0,r=Bb(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Hb.prototype=Object.create(qb.prototype)).point=function(e,t){qb.prototype.point.call(this,t,e)},Wb.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Kb(e),a=Kb(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var aj={curveBasisClosed:function(e){return new Tb(e)},curveBasisOpen:function(e){return new Ib(e)},curveBasis:function(e){return new Mb(e)},curveBumpX:function(e){return new Db(e,!0)},curveBumpY:function(e){return new Db(e,!1)},curveLinearClosed:function(e){return new Rb(e)},curveLinear:Fb,curveMonotoneX:function(e){return new qb(e)},curveMonotoneY:function(e){return new Hb(e)},curveNatural:function(e){return new Vb(e)},curveStep:function(e){return new Yb(e,.5)},curveStepAfter:function(e){return new Yb(e,1)},curveStepBefore:function(e){return new Yb(e,0)}},sj=function(e){return e.x===+e.x&&e.y===+e.y},oj=function(e){return e.x},ij=function(e){return e.y},lj=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,s=void 0===a?[]:a,o=e.baseLine,i=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(Na()(e))return e;var r="curve".concat(co()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?aj[r]||Fb:aj["".concat(r).concat("vertical"===t?"Y":"X")]}(n,i),u=c?s.filter((function(e){return sj(e)})):s;if(Array.isArray(o)){var h=c?o.filter((function(e){return sj(e)})):o,f=u.map((function(e,t){return rj(rj({},e),{},{base:h[t]})}));return t="vertical"===i?Jb().y(ij).x1(oj).x0((function(e){return e.base.x})):Jb().x(oj).y1(ij).y0((function(e){return e.base.y})),t.defined(sj).curve(d),t(f)}return(t="vertical"===i&&ua(o)?Jb().y(ij).x1(oj).x0(o):ua(o)?Jb().x(oj).y1(ij).y0(o):Qb().x(oj).y(ij)).defined(sj).curve(d),t(u)},cj=function(e){var t=e.className,r=e.points,n=e.path,s=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?lj(e):n;return a.createElement("path",ej({},Xa(e,!1),Ta(e),{className:Jn("recharts-curve",t),d:o,ref:s}))};function dj(e){return dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dj(e)}var uj=["x","y","top","left","width","height","className"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hj.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=dj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var xj=function(e,t,r,n,a,s){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r)},gj=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,o=e.top,i=void 0===o?0:o,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fj(Object(r),!0).forEach((function(t){pj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:r,y:s,top:i,left:c,width:u,height:f},mj(e,uj));return ua(r)&&ua(s)&&ua(u)&&ua(f)&&ua(i)&&ua(c)?a.createElement("path",hj({},Xa(m,!0),{className:Jn("recharts-cross",p),d:xj(r,s,u,f,i,c)})):null};function yj(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle;return{points:[fg(t,r,n,a),fg(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function vj(e,t,r){var n,a,s,o;if("horizontal"===e)s=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return yj(t);var i=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=fg(i,l,c,u),f=fg(i,l,d,u);n=h.x,a=h.y,s=f.x,o=f.y}return[{x:n,y:a},{x:s,y:o}]}function bj(e){return bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bj(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(r),!0).forEach((function(t){Nj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=bj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kj(e){var t,r,n,s=e.element,o=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=s.props.cursor)&&void 0!==t?t:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!m||!i||!l||"ScatterChart"!==p&&"axis"!==o)return null;var x=cj;if("ScatterChart"===p)n=l,x=gj;else if("BarChart"===p)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,d,h),x=dc;else if("radial"===f){var g=yj(l),y=g.cx,v=g.cy,b=g.radius;n={cx:y,cy:v,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},x=vy}else n={points:vj(f,l,d)},x=cj;var j=wj(wj(wj(wj({stroke:"#ccc",pointerEvents:"none"},d),n),Xa(m,!1)),{},{payload:c,payloadIndex:u,className:Jn("recharts-tooltip-cursor",m.className)});return(0,a.isValidElement)(m)?(0,a.cloneElement)(m,j):(0,a.createElement)(x,j)}var Sj=["item"],Oj=["children","className","width","height","style","compact","title","desc"];function Cj(e){return Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cj(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(this,arguments)}function Aj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,i=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||Lj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ej(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uj(n.key),n)}}function Mj(e,t,r){return t=Ij(t),function(e,t){if(t&&("object"===Cj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tj()?Reflect.construct(t,r||[],Ij(e).constructor):t.apply(e,r))}function Tj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tj=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ij(e)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dj(e,t)}function Rj(e){return function(e){if(Array.isArray(e))return Fj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lj(e,t){if(e){if("string"===typeof e)return Fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fj(e,t):void 0}}function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zj(Object(r),!0).forEach((function(t){$j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $j(e,t,r){return(t=Uj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uj(e){var t=function(e,t){if("object"!=Cj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cj(t)?t:t+""}var qj={xAxis:["bottom","top"],yAxis:["left","right"]},Hj={width:"100%",height:"100%"},Wj={x:0,y:0};function Vj(e){return e}var Kj=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,s=(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(Rj(e),Rj(r)):e}),[]);return s.length>0?s:e&&e.length&&ua(n)&&ua(a)?e.slice(n,a+1):[]};function Yj(e){return"number"===e?[0,"auto"]:void 0}var Xj=function(e,t,r,n){var a=e.graphicalItems,s=e.tooltipAxis,o=Kj(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce((function(a,i){var l,c,d=null!==(l=i.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=ya(void 0===d?o:d,s.dataKey,n):c=d&&d[r]||o[r];return c?[].concat(Rj(a),[Bx(i,c)]):a}),[])},Gj=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,i=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var i=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,u=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(ca(d-c)!==ca(u-d)){var f=[];if(ca(u-d)===ca(i[1]-i[0])){h=u;var p=d+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=u+i[1]-i[0];f[0]=Math.min(d,(m+d)/2),f[1]=Math.max(d,(m+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=f[0]&&e<=f[1]){s=n[l].index;break}}else{var g=Math.min(c,u),y=Math.max(c,u);if(e>(g+d)/2&&e<=(y+d)/2){s=n[l].index;break}}}else for(var v=0;v<o;v++)if(0===v&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v>0&&v<o-1&&e>(r[v].coordinate+r[v-1].coordinate)/2&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v===o-1&&e>(r[v].coordinate+r[v-1].coordinate)/2){s=r[v].index;break}return s}(s,o,l,i);if(c>=0&&l){var d=l[c]&&l[c].value,u=Xj(e,t,c,d),h=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,o=n.radius;return Bj(Bj(Bj({},n),fg(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var i=a.coordinate,l=n.angle;return Bj(Bj(Bj({},n),fg(n.cx,n.cy,i,l)),{},{angle:l,radius:i})}return Wj}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},Qj=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=jx(c,a);return r.reduce((function(t,r){var f,p=void 0!==r.type.defaultProps?Bj(Bj({},r.type.defaultProps),r.props):r.props,m=p.type,x=p.dataKey,g=p.allowDataOverflow,y=p.allowDuplicatedCategory,v=p.scale,b=p.ticks,j=p.includeHidden,w=p[s];if(t[w])return t;var N,k,S,O=Kj(e.data,{graphicalItems:n.filter((function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===w})),dataStartIndex:i,dataEndIndex:l}),C=O.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&ua(n)&&ua(a))return!0}return!1})(p.domain,g,m)&&(N=Lx(p.domain,null,g),!h||"number"!==m&&"auto"===v||(S=gx(O,x,"category")));var _=Yj(m);if(!N||0===N.length){var A,P=null!==(A=p.domain)&&void 0!==A?A:_;if(x){if(N=gx(O,x,m),"category"===m&&h){var E=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);y&&E?(k=N,N=is()(0,C)):y||(N=zx(P,N,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Rj(e),[t])}),[]))}else if("category"===m)N=y?N.filter((function(e){return""!==e&&!ja()(e)})):zx(P,N,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||ja()(t)?e:[].concat(Rj(e),[t])}),[]);else if("number"===m){var M=function(e,t,r,n,a){var s=t.map((function(t){return vx(e,t,r,a,n)})).filter((function(e){return!ja()(e)}));return s&&s.length?s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(O,n.filter((function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)})),x,a,c);M&&(N=M)}!h||"number"!==m&&"auto"===v||(S=gx(O,x,"category"))}else N=h?is()(0,C):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===u?[0,1]:Ix(o[w].stackGroups,i,l):bx(O,n.filter((function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)})),m,c,!0);if("number"===m)N=jb(d,N,w,a,b),P&&(N=Lx(P,N,g));else if("category"===m&&P){var T=P;N.every((function(e){return T.indexOf(e)>=0}))&&(N=T)}}return Bj(Bj({},t),{},$j({},w,Bj(Bj({},p),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:_,isCategorical:h,layout:c})))}),{})},Jj=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,s=t.graphicalItems,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=Ha(c,a),h={};return u&&u.length?h=Qj(e,{axes:u,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:i,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,s=t.axisIdKey,o=t.stackGroups,i=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=Kj(e.data,{graphicalItems:r,dataStartIndex:i,dataEndIndex:l}),h=u.length,f=jx(c,a),p=-1;return r.reduce((function(e,t){var m,x=(void 0!==t.type.defaultProps?Bj(Bj({},t.type.defaultProps),t.props):t.props)[s],g=Yj("number");return e[x]?e:(p++,f?m=is()(0,h):o&&o[x]&&o[x].hasStack?(m=Ix(o[x].stackGroups,i,l),m=jb(d,m,x,a)):(m=Lx(g,bx(u,r.filter((function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===x&&!a})),"number",c),n.defaultProps.allowDataOverflow),m=jb(d,m,x,a)),Bj(Bj({},e),{},$j({},x,Bj(Bj({axisType:a},n.defaultProps),{},{hide:!0,orientation:oa()(qj,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:s,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:i,dataEndIndex:l})),h},Zj=function(e){var t=e.children,r=e.defaultShowTooltip,n=Wa(t,ag),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(s=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},ew=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tw=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,s=e.yAxisMap,o=void 0===s?{}:s,i=r.width,l=r.height,c=r.children,d=r.margin||{},u=Wa(c,ag),h=Wa(c,wi),f=Object.keys(o).reduce((function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:Bj(Bj({},e),{},$j({},n,e[n]+r.width))}),{left:d.left||0,right:d.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:Bj(Bj({},e),{},$j({},n,oa()(e,"".concat(n))+r.height))}),{top:d.top||0,bottom:d.bottom||0}),m=Bj(Bj({},p),f),x=m.bottom;u&&(m.bottom+=u.props.height||ag.defaultProps.height),h&&t&&(m=function(e,t,r,n){var a=r.children,s=r.width,o=r.margin,i=s-(o.left||0)-(o.right||0),l=cx({children:a,legendWidth:i});if(l){var c=n||{},d=c.width,u=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&ua(e[h]))return px(px({},e),{},mx({},h,e[h]+(d||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&ua(e[f]))return px(px({},e),{},mx({},f,e[f]+(u||0)))}return e}(m,0,r,t));var g=i-m.left-m.right,y=l-m.top-m.bottom;return Bj(Bj({brushBottom:x},m),{},{width:Math.max(g,0),height:Math.max(y,0)})},rw=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},nw=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,s=void 0===n?"axis":n,o=e.validateTooltipEventTypes,i=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,s=t.updateId,o=t.dataStartIndex,i=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=ew(d),m=p.numericAxisName,x=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Ba(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),y=[];return r.forEach((function(r,p){var v=Kj(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:i}),b=void 0!==r.type.defaultProps?Bj(Bj({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],k=b["".concat(x,"Id")],S=l.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||us(!1);var s=n[a];return Bj(Bj({},e),{},$j($j({},r.axisType,s),"".concat(r.axisType,"Ticks"),Nx(s)))}),{}),O=S[x],C=S["".concat(x,"Ticks")],_=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?px(px({},e.type.defaultProps),e.props):e.props).stackId;if(ha(n)){var a=t[n];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(r,n[N].stackGroups),A=Ba(r.type).indexOf("Bar")>=0,P=Fx(O,C),E=[],M=g&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var s={},o=Object.keys(a),i=0,l=o.length;i<l;i++)for(var c=a[o[i]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var f=c[d[u]],p=f.items,m=f.cateAxisId,x=p.filter((function(e){return Ba(e.type).indexOf("Bar")>=0}));if(x&&x.length){var g=x[0].type.defaultProps,y=void 0!==g?px(px({},g),x[0].props):x[0].props,v=y.barSize,b=y[m];s[b]||(s[b]=[]);var j=ja()(v)?t:v;s[b].push({item:x[0],stackList:x.slice(1),barSize:ja()(j)?void 0:ma(j,r,0)})}}return s}({barSize:c,stackGroups:n,totalSize:rw(S,x)});if(A){var T,I,D=ja()(w)?f:w,R=null!==(T=null!==(I=Fx(O,C,!0))&&void 0!==I?I:D)&&void 0!==T?T:0;E=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,o=e.maxBarSize,i=s.length;if(i<1)return null;var l,c=ma(t,n,0,!0),d=[];if(s[0].barSize===+s[0].barSize){var u=!1,h=n/i,f=s.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(i-1)*c)>=n&&(f-=(i-1)*c,c=0),f>=n&&h>0&&(u=!0,f=i*(h*=.9));var p={offset:((n-f)/2|0)-c,size:0};l=s.reduce((function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:u?h:t.barSize}},n=[].concat(ux(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:p})})),n}),d)}else{var m=ma(r,n,0,!0);n-2*m-(i-1)*c<=0&&(c=0);var x=(n-2*m-(i-1)*c)/i;x>1&&(x>>=0);var g=o===+o?Math.min(x,o):x;l=s.reduce((function(e,t,r){var n=[].concat(ux(e),[{item:t.item,position:{offset:m+(x+c)*r+(x-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),d)}return l}({barGap:u,barCategoryGap:h,bandSize:R!==P?R:P,sizeList:M[k],maxBarSize:D}),R!==P&&(E=E.map((function(e){return Bj(Bj({},e),{},{position:Bj(Bj({},e.position),{},{offset:e.position.offset-R/2})})})))}var L,F,z=r&&r.type&&r.type.getComposedData;z&&y.push({props:Bj(Bj({},z(Bj(Bj({},S),{},{displayedData:v,props:e,dataKey:j,item:r,bandSize:P,barPosition:E,offset:a,stackedData:_,layout:d,dataStartIndex:o,dataEndIndex:i}))),{},$j($j($j({key:r.key||"item-".concat(p)},m,S[m]),x,S[x]),"animationId",s)),childIndex:(L=r,F=e.children,qa(F).indexOf(L)),item:r})})),y},f=function(e,n){var a=e.props,s=e.dataStartIndex,o=e.dataEndIndex,i=e.updateId;if(!Va({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,x=ew(u),g=x.numericAxisName,y=x.cateAxisName,v=Ha(c,r),b=function(e,t,r,n,a,s){if(!e)return null;var o=(s?t.reverse():t).reduce((function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?px(px({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(s.hide)return e;var i=s[r],l=e[i]||{hasStack:!1,stackGroups:{}};if(ha(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[pa("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return px(px({},e),{},mx({},i,l))}),{});return Object.keys(o).reduce((function(t,s){var i=o[s];return i.hasStack&&(i.stackGroups=Object.keys(i.stackGroups).reduce((function(t,s){var o=i.stackGroups[s];return px(px({},t),{},mx({},s,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:Px(e,o.items,a)}))}),{})),px(px({},t),{},mx({},s,i))}),{})}(p,v,"".concat(g,"Id"),"".concat(y,"Id"),f,m),j=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return Bj(Bj({},e),{},$j({},r,Jj(a,Bj(Bj({},t),{},{graphicalItems:v,stackGroups:t.axisType===g&&b,dataStartIndex:s,dataEndIndex:o}))))}),{}),w=tw(Bj(Bj({},j),{},{props:a,graphicalItems:v}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(j).forEach((function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)}));var N=function(e){var t=xa(e),r=Nx(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:cs()(r,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:Fx(t,r)}}(j["".concat(y,"Map")]),k=h(a,Bj(Bj({},j),{},{dataStartIndex:s,dataEndIndex:o,updateId:i,graphicalItems:v,stackGroups:b,offset:w}));return Bj(Bj({formattedGraphicalItems:k,graphicalItems:v,offset:w,stackGroups:b},N),j)},p=function(e){function r(e){var n,s,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),$j(o=Mj(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$j(o,"accessibilityManager",new Ab),$j(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(Bj({legendBBox:e},f({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},Bj(Bj({},o.state),{},{legendBBox:e}))))}})),$j(o,"handleReceiveSyncEvent",(function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),$j(o,"handleBrushChange",(function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState((function(){return Bj({dataStartIndex:t,dataEndIndex:r},f({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}})),$j(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var r=Bj(Bj({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;Na()(n)&&n(r,e)}})),$j(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),r=t?Bj(Bj({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;Na()(n)&&n(r,e)})),$j(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),$j(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),$j(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),$j(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;Na()(r)&&r(t,e)})),$j(o,"handleOuterEvent",(function(e){var t,r=function(e){var t=e&&e.type;return t&&za[t]?za[t]:null}(e),n=oa()(o.props,"".concat(r));r&&Na()(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),$j(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var r=Bj(Bj({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;Na()(n)&&n(r,e)}})),$j(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;Na()(t)&&t(o.getMouseInfo(e),e)})),$j(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;Na()(t)&&t(o.getMouseInfo(e),e)})),$j(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),$j(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),$j(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),$j(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;Na()(t)&&t(o.getMouseInfo(e),e)})),$j(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;Na()(t)&&t(o.getMouseInfo(e),e)})),$j(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&Nb.emit(kb,o.props.syncId,e,o.eventEmitterSymbol)})),$j(o,"applySyncEvent",(function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,s=e.dataStartIndex,i=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Bj({dataStartIndex:s,dataEndIndex:i},f({props:o.props,dataStartIndex:s,dataEndIndex:i,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=o.state,h=u.offset,p=u.tooltipTicks;if(!h)return;if("function"===typeof n)d=n(p,e);else if("value"===n){d=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){d=m;break}}var x=Bj(Bj({},h),{},{x:h.left,y:h.top}),g=Math.min(l,x.x+x.width),y=Math.min(c,x.y+x.height),v=p[d]&&p[d].value,b=Xj(o.state,o.props.data,d),j=p[d]?{x:"horizontal"===r?p[d].coordinate:g,y:"horizontal"===r?y:p[d].coordinate}:Wj;o.setState(Bj(Bj({},e),{},{activeLabel:v,activeCoordinate:j,activePayload:b,activeTooltipIndex:d}))}else o.setState(e)})),$j(o,"renderCursor",(function(e){var r,n=o.state,s=n.isTooltipActive,i=n.activeCoordinate,l=n.activePayload,c=n.offset,d=n.activeTooltipIndex,u=n.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:s,p=o.props.layout,m=e.key||"_recharts-cursor";return a.createElement(kj,{key:m,activeCoordinate:i,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:u,tooltipEventType:h})})),$j(o,"renderPolarAxis",(function(e,t,r){var n=oa()(e,"type.axisType"),s=oa()(o.state,"".concat(n,"Map")),i=e.type.defaultProps,l=void 0!==i?Bj(Bj({},i),e.props):e.props,c=s&&s[l["".concat(n,"Id")]];return(0,a.cloneElement)(e,Bj(Bj({},c),{},{className:Jn(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:Nx(c,!0)}))})),$j(o,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,s=t.polarRadius,i=o.state,l=i.radiusAxisMap,c=i.angleAxisMap,d=xa(l),u=xa(c),h=u.cx,f=u.cy,p=u.innerRadius,m=u.outerRadius;return(0,a.cloneElement)(e,{polarAngles:Array.isArray(n)?n:Nx(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(s)?s:Nx(d,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),$j(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,r=t.children,n=t.width,s=t.height,i=o.props.margin||{},l=n-(i.left||0)-(i.right||0),d=cx({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,h=Pj(d,Sj);return(0,a.cloneElement)(u,Bj(Bj({},h),{},{chartWidth:n,chartHeight:s,margin:i,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),$j(o,"renderTooltip",(function(){var e,t=o.props,r=t.children,n=t.accessibilityLayer,s=Wa(r,io);if(!s)return null;var i=o.state,l=i.isTooltipActive,c=i.activeCoordinate,d=i.activePayload,u=i.activeLabel,h=i.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,a.cloneElement)(s,{viewBox:Bj(Bj({},h),{},{x:h.left,y:h.top}),active:f,label:u,payload:f?d:[],coordinate:c,accessibilityLayer:n})})),$j(o,"renderBrush",(function(e){var t=o.props,r=t.margin,n=t.data,s=o.state,i=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,d=s.updateId;return(0,a.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Sx(o.handleBrushChange,e.props.onChange),data:n,x:ua(e.props.x)?e.props.x:i.left,y:ua(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:ua(e.props.width)?e.props.width:i.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})})),$j(o,"renderReferenceElement",(function(e,t,r){if(!e)return null;var n=o.clipPathId,s=o.state,i=s.xAxisMap,l=s.yAxisMap,c=s.offset,d=e.type.defaultProps||{},u=e.props,h=u.xAxisId,f=void 0===h?d.xAxisId:h,p=u.yAxisId,m=void 0===p?d.yAxisId:p;return(0,a.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:i[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})})),$j(o,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,a=e.basePoint,s=e.childIndex,o=e.isRange,i=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Bj(Bj({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=Bj(Bj({index:s,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:yx(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Xa(d,!1)),Ta(d));return i.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(s))),a?i.push(r.renderActiveDot(d,Bj(Bj({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):o&&i.push(null),i})),$j(o,"renderGraphicChild",(function(e,t,r){var n=o.filterFormatItem(e,t,r);if(!n)return null;var s=o.getTooltipEventType(),i=o.state,l=i.isTooltipActive,c=i.tooltipAxis,d=i.activeTooltipIndex,u=i.activeLabel,h=Wa(o.props.children,io),f=n.props,p=f.points,m=f.isRange,x=f.baseLine,g=void 0!==n.item.type.defaultProps?Bj(Bj({},n.item.type.defaultProps),n.item.props):n.item.props,y=g.activeDot,v=g.hide,b=g.activeBar,j=g.activeShape,w=Boolean(!v&&l&&h&&(y||b||j)),N={};"axis"!==s&&h&&"click"===h.props.trigger?N={onClick:Sx(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(N={onMouseLeave:Sx(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Sx(o.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,a.cloneElement)(e,Bj(Bj({},n.props),N));if(w){if(!(d>=0)){var S,O=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,C=O.item,_=void 0===C?e:C,A=O.childIndex,P=Bj(Bj(Bj({},n.props),N),{},{activeIndex:A});return[(0,a.cloneElement)(_,P),null,null]}var E,M;if(c.dataKey&&!c.allowDuplicatedCategory){var T="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());E=ya(p,T,u),M=m&&x&&ya(x,T,u)}else E=null===p||void 0===p?void 0:p[d],M=m&&x&&x[d];if(j||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,a.cloneElement)(e,Bj(Bj(Bj({},n.props),N),{},{activeIndex:I})),null,null]}if(!ja()(E))return[k].concat(Rj(o.renderActivePoints({item:n,activePoint:E,basePoint:M,childIndex:d,isRange:m})))}return m?[k,null,null]:[k,null]})),$j(o,"renderCustomized",(function(e,t,r){return(0,a.cloneElement)(e,Bj(Bj({key:"recharts-customized-".concat(r)},o.props),o.state))})),$j(o,"renderMap",{CartesianGrid:{handler:Vj,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:Vj},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:Vj},YAxis:{handler:Vj},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(n=e.id)&&void 0!==n?n:pa("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=ea()(o.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}(r,e),n=r,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,s=Wa(t,io);if(s){var o=s.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var i=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=Xj(this.state,r,o,i),c=this.state.tooltipTicks[o].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(u=Bj(Bj({},u),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:i,activePayload:l,activeCoordinate:u};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){Ga([Wa(e.children,io)],[Wa(this.props.children,io)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Wa(this.props.children,io);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,i=this.inRange(s.chartX,s.chartY,o);if(!i)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&d){var u=xa(c).scale,h=xa(d).scale,f=u&&u.invert?u.invert(s.chartX):null,p=h&&h.invert?h.invert(s.chartY):null;return Bj(Bj({},s),{},{xValue:f,yValue:p})}var m=Gj(this.state,this.props.data,this.props.layout,i);return m?Bj(Bj({},s),m):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,s=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&s>=o.top&&s<=o.top+o.height?{x:a,y:s}:null}var i=this.state,l=i.angleAxisMap,c=i.radiusAxisMap;if(l&&c){var d=xa(l);return gg({x:a,y:s},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Wa(e,io),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Bj(Bj({},Ta(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){Nb.on(kb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Nb.removeListener(kb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,s=n.length;a<s;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===Ba(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,s=t.height,o=t.width;return a.createElement("defs",null,a.createElement("clipPath",{id:e},a.createElement("rect",{x:r,y:n,height:s,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=Aj(t,2),n=r[0],a=r[1];return Bj(Bj({},e),{},$j({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=Aj(t,2),n=r[0],a=r[1];return Bj(Bj({},e),{},$j({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,s=r.length;a<s;a++){var o=r[a],i=o.props,l=o.item,c=void 0!==l.type.defaultProps?Bj(Bj({},l.type.defaultProps),l.props):l.props,d=Ba(l.type);if("Bar"===d){var u=(i.data||[]).find((function(t){return lc(e,t)}));if(u)return{graphicalItem:o,payload:u}}else if("RadialBar"===d){var h=(i.data||[]).find((function(t){return gg(e,t)}));if(h)return{graphicalItem:o,payload:h}}else if(Ay(o,n)||Py(o,n)||Ey(o,n)){var f=Dy({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Bj(Bj({},o),{},{childIndex:p}),payload:Ey(o,n)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Va(this))return null;var t,r,n=this.props,s=n.children,o=n.className,i=n.width,l=n.height,c=n.style,d=n.compact,u=n.title,h=n.desc,f=Pj(n,Oj),p=Xa(f,!1);if(d)return a.createElement($v,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement(ms,_j({},p,{width:i,height:l,title:u,desc:h}),this.renderClipPath(),Ja(s,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return a.createElement($v,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement("div",_j({className:Jn("recharts-wrapper",o),style:Bj({position:"relative",cursor:"default",width:i,height:l},c)},m,{ref:function(t){e.container=t}}),a.createElement(ms,_j({},p,{width:i,height:l,title:u,desc:h,style:Hj}),this.renderClipPath(),Ja(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Ej(n.prototype,o),l&&Ej(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,l}(a.Component);$j(p,"displayName",t),$j(p,"defaultProps",Bj({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),$j(p,"getDerivedStateFromProps",(function(e,t){var r=e.dataKey,n=e.data,a=e.children,s=e.width,o=e.height,i=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var h=Zj(e);return Bj(Bj(Bj({},h),{},{updateId:0},f(Bj(Bj({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||s!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||l!==t.prevStackOffset||!Ca(c,t.prevMargin)){var p=Zj(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=Bj(Bj({},Gj(t,n,i)),{},{updateId:t.updateId+1}),g=Bj(Bj(Bj({},p),m),x);return Bj(Bj(Bj({},g),f(Bj({props:e},g),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:o,prevLayout:i,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ga(a,t.prevChildren)){var y,v,b,j,w=Wa(a,ag),N=w&&null!==(y=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:d,k=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:u,S=N!==d||k!==u,O=!ja()(n)&&!S?t.updateId:t.updateId+1;return Bj(Bj({updateId:O},f(Bj(Bj({props:e},t),{},{updateId:O,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:k})}return null})),$j(p,"renderActiveDot",(function(e,t,r){var n;return n=(0,a.isValidElement)(e)?(0,a.cloneElement)(e,t):Na()(e)?e(t):a.createElement(ki,t),a.createElement(vs,{className:"recharts-active-dot",key:r},n)}));var m=(0,a.forwardRef)((function(e,t){return a.createElement(p,_j({},e,{ref:t}))}));return m.displayName=p.displayName,m},aw=["type","layout","connectNulls","ref"],sw=["key"];function ow(e){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(e)}function iw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(r),!0).forEach((function(t){yw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uw(e){return function(e){if(Array.isArray(e))return hw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vw(n.key),n)}}function pw(e,t,r){return t=xw(t),function(e,t){if(t&&("object"===ow(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mw()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function mw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mw=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xw(e)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gw(e,t)}function yw(e,t,r){return(t=vw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vw(e){var t=function(e,t){if("object"!=ow(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ow(t)?t:t+""}var bw=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return yw(e=pw(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),yw(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),yw(e,"getStrokeDasharray",(function(r,n,a){var s=a.reduce((function(e,t){return e+t}));if(!s)return e.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/s),i=r%s,l=n-r,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>i){c=[].concat(uw(a.slice(0,d)),[i-u]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(uw(t.repeat(a,o)),uw(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),yw(e,"id",pa("recharts-line-")),yw(e,"pathRef",(function(t){e.mainCurve=t})),yw(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),yw(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=Ha(r.children,ax);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:xx(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(vs,d,l.map((function(e){return a.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,c=Xa(this.props,!1),d=Xa(o,!0),u=i.map((function(e,r){var n=dw(dw(dw({key:"dot-".concat(r),r:3},c),d),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:r,payload:e.payload});return t.renderDotItem(o,n)})),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(vs,lw({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls,c=(s.ref,iw(s,aw)),d=dw(dw(dw({},Xa(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:o,layout:i,connectNulls:l});return a.createElement(cj,lw({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,o=n.strokeDasharray,i=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=n.animateNewValues,f=n.width,p=n.height,m=this.state,x=m.prevPoints,g=m.totalLength;return a.createElement(Zl,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var a=n.t;if(x){var i=x.length/s.length,l=s.map((function(e,t){var r=Math.floor(t*i);if(x[r]){var n=x[r],s=ga(n.x,e.x),o=ga(n.y,e.y);return dw(dw({},e),{},{x:s(a),y:o(a)})}if(h){var l=ga(2*f,e.x),c=ga(p/2,e.y);return dw(dw({},e),{},{x:l(a),y:c(a)})}return dw(dw({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,t)}var c,d=ga(0,g)(a);if(o){var u="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(d,g,u)}else c=r.generateSimpleStrokeDasharray(g,d);return r.renderCurveStatically(s,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return a&&n&&n.length&&(!o&&i>0||!mm()(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,o=t.className,i=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(r||!s||!s.length)return null;var m=this.state.isAnimationFinished,x=1===s.length,g=Jn("recharts-line",o),y=i&&i.allowDataOverflow,v=l&&l.allowDataOverflow,b=y||v,j=ja()(p)?this.id:p,w=null!==(e=Xa(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,k=void 0===N?3:N,S=w.strokeWidth,O=void 0===S?2:S,C=(function(e){return e&&"object"===Fa(e)&&"clipDot"in e}(n)?n:{}).clipDot,_=void 0===C||C,A=2*k+O;return a.createElement(vs,{className:g},y||v?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:y?d:d-u/2,y:v?c:c-h/2,width:y?u:2*u,height:v?h:2*h})),!_&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:d-A/2,y:c-A/2,width:u+A,height:h+A}))):null,!x&&this.renderCurve(b,j),this.renderErrorBar(b,j),(x||n)&&this.renderDots(b,_,j),(!f||m)&&Gg.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(uw(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(uw(n),uw(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(Na()(e))r=e(t);else{var n=t.key,s=iw(t,sw),o=Jn("recharts-line-dot","boolean"!==typeof e?e.className:"");r=a.createElement(ki,lw({key:n},s,{className:o}))}return r}}],n&&fw(r.prototype,n),s&&fw(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function jw(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function ww(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),o=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function Nw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function kw(e){return kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(e)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sw(Object(r),!0).forEach((function(t){Cw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=kw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _w(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,i=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!n)return[];if(ua(l)||Vs.isSsr)return function(e,t){return jw(e,t+1)}(a,"number"===typeof l&&ua(l)?l:0);var h=[],f="top"===i||"bottom"===i?"width":"height",p=d&&"width"===f?Pc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=Na()(c)?c(e.value,n):e.value;return"width"===f?ww(Pc(a,{fontSize:t,letterSpacing:r}),p,u):Pc(a,{fontSize:t,letterSpacing:r})[f]},x=a.length>=2?ca(a[1].coordinate-a[0].coordinate):1,g=function(e,t,r){var n="width"===r,a=e.x,s=e.y,o=e.width,i=e.height;return 1===t?{start:n?a:s,end:n?a+o:s+i}:{start:n?a+o:s+i,end:n?a:s}}(s,x,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var s,o=(n||[]).slice(),i=t.start,l=t.end,c=0,d=1,u=i,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:jw(n,d)};var s,o=c,h=function(){return void 0===s&&(s=r(t,o)),s},f=t.coordinate,p=0===c||Nw(e,f,h,u,l);p||(c=0,u=i,d+=1),p&&(u=f+e*(h()/2+a),c+=d)};d<=o.length;)if(s=h())return s.v;return[]}(x,g,m,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,s){var o=(n||[]).slice(),i=o.length,l=t.start,c=t.end;if(s){var d=n[i-1],u=r(d,i-1),h=e*(d.coordinate+e*u/2-c);o[i-1]=d=Ow(Ow({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),Nw(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+a),o[i-1]=Ow(Ow({},d),{},{isShow:!0}))}for(var f=s?i-1:i,p=function(t){var n,s=o[t],i=function(){return void 0===n&&(n=r(s,t)),n};if(0===t){var d=e*(s.coordinate-e*i()/2-l);o[t]=s=Ow(Ow({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else o[t]=s=Ow(Ow({},s),{},{tickCoord:s.coordinate});Nw(e,s.tickCoord,i,l,c)&&(l=s.tickCoord+e*(i()/2+a),o[t]=Ow(Ow({},s),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(x,g,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,i=t.start,l=t.end,c=function(t){var n,c=s[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=Ow(Ow({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=Ow(Ow({},c),{},{tickCoord:c.coordinate});Nw(e,c.tickCoord,d,i,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=Ow(Ow({},c),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}(x,g,m,a,o),h.filter((function(e){return e.isShow})))}yw(bw,"displayName","Line"),yw(bw,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),yw(bw,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map((function(e,t){var l=xx(e,o);return"horizontal"===d?{x:Mx({axis:r,ticks:a,bandSize:i,entry:e,index:t}),y:ja()(l)?null:n.scale(l),value:l,payload:e}:{x:ja()(l)?null:r.scale(l),y:Mx({axis:n,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}}));return dw({points:u,layout:d},c)}));var Aw=["viewBox"],Pw=["viewBox"],Ew=["ticks"];function Mw(e){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iw(Object(r),!0).forEach((function(t){Uw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qw(n.key),n)}}function Fw(e,t,r){return t=Bw(t),function(e,t){if(t&&("object"===Mw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zw()?Reflect.construct(t,r||[],Bw(e).constructor):t.apply(e,r))}function zw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zw=function(){return!!e})()}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bw(e)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$w(e,t)}function Uw(e,t,r){return(t=qw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qw(e){var t=function(e,t){if("object"!=Mw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mw(t)?t:t+""}var Hw=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Fw(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}(t,e),r=t,n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=Rw(e,Aw),a=this.props,s=a.viewBox,o=Rw(a,Pw);return!Ca(r,s)||!Ca(n,o)||!Ca(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,s,o,i=this.props,l=i.x,c=i.y,d=i.width,u=i.height,h=i.orientation,f=i.tickSize,p=i.mirror,m=i.tickMargin,x=p?-1:1,g=e.tickSize||f,y=ua(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,o=(n=(a=c+ +!p*u)-x*g)-x*m,s=y;break;case"left":n=a=e.coordinate,s=(t=(r=l+ +!p*d)-x*g)-x*m,o=y;break;case"right":n=a=e.coordinate,s=(t=(r=l+ +p*d)+x*g)+x*m,o=y;break;default:t=r=e.coordinate,o=(n=(a=c+ +p*u)+x*g)+x*m,s=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:s,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,o=e.orientation,i=e.mirror,l=e.axisLine,c=Dw(Dw(Dw({},Xa(this.props,!1)),Xa(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!i||"bottom"===o&&i);c=Dw(Dw({},c),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var u=+("left"===o&&!i||"right"===o&&i);c=Dw(Dw({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+s})}return a.createElement("line",Tw({},c,{className:Jn("recharts-cartesian-axis-line",oa()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,n){var s=this,o=this.props,i=o.tickLine,l=o.stroke,c=o.tick,d=o.tickFormatter,u=o.unit,h=_w(Dw(Dw({},this.props),{},{ticks:e}),r,n),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Xa(this.props,!1),x=Xa(c,!1),g=Dw(Dw({},m),{},{fill:"none"},Xa(i,!1)),y=h.map((function(e,r){var n=s.getTickLineCoord(e),o=n.line,y=n.tick,v=Dw(Dw(Dw(Dw({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},x),y),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:d});return a.createElement(vs,Tw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Ia(s.props,e,r)),i&&a.createElement("line",Tw({},g,o,{className:Jn("recharts-cartesian-axis-tick-line",oa()(i,"className"))})),c&&t.renderTickItem(c,v,"".concat(Na()(d)?d(e.value,r):e.value).concat(u||"")))}));return a.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,s=t.height,o=t.ticksGenerator,i=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=Rw(l,Ew),u=c;return Na()(o)&&(u=c&&c.length>0?o(this.props):o(d)),n<=0||s<=0||!u||!u.length?null:a.createElement(vs,{className:Jn("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),Ag.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement(sd,Tw({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],n&&Lw(r.prototype,n),s&&Lw(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function Ww(e){return Ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ww(e)}function Vw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jw(n.key),n)}}function Kw(e,t,r){return t=Xw(t),function(e,t){if(t&&("object"===Ww(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yw()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function Yw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yw=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xw(e)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gw(e,t)}function Qw(e,t,r){return(t=Jw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jw(e){var t=function(e,t){if("object"!=Ww(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ww(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ww(t)?t:t+""}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function eN(e){var t=e.xAxisId,r=Hv(),n=Wv(),s=Uv(t);return null==s?null:a.createElement(Hw,Zw({},s,{className:Jn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return Nx(e,!0)}}))}Uw(Hw,"displayName","CartesianAxis"),Uw(Hw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kw(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(eN,this.props)}}])&&Vw(r.prototype,n),s&&Vw(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);function rN(e){return rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rN(e)}function nN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cN(n.key),n)}}function aN(e,t,r){return t=oN(t),function(e,t){if(t&&("object"===rN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sN()?Reflect.construct(t,r||[],oN(e).constructor):t.apply(e,r))}function sN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sN=function(){return!!e})()}function oN(e){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oN(e)}function iN(e,t){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iN(e,t)}function lN(e,t,r){return(t=cN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cN(e){var t=function(e,t){if("object"!=rN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rN(t)?t:t+""}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}Qw(tN,"displayName","XAxis"),Qw(tN,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var uN=function(e){var t=e.yAxisId,r=Hv(),n=Wv(),s=qv(t);return null==s?null:a.createElement(Hw,dN({},s,{className:Jn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return Nx(e,!0)}}))},hN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iN(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(uN,this.props)}}])&&nN(r.prototype,n),s&&nN(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.Component);lN(hN,"displayName","YAxis"),lN(hN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var fN=nw({chartName:"LineChart",GraphicalChild:bw,axisComponents:[{axisType:"xAxis",AxisComp:tN},{axisType:"yAxis",AxisComp:hN}],formatAxisMap:hv}),pN=["x1","y1","x2","y2","key"],mN=["offset"];function xN(e){return xN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xN(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(r),!0).forEach((function(t){vN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=xN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function jN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var wN=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,l=e.ry;return a.createElement("rect",{x:n,y:s,ry:l,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function NN(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(Na()(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,i=t.y2,l=t.key,c=jN(t,pN),d=Xa(c,!1),u=(d.offset,jN(d,mN));r=a.createElement("line",bN({},u,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function kN(e){var t=e.x,r=e.width,n=e.horizontal,s=void 0===n||n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map((function(n,a){var o=yN(yN({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return NN(s,o)}));return a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function SN(e){var t=e.y,r=e.height,n=e.vertical,s=void 0===n||n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map((function(n,a){var o=yN(yN({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return NN(s,o)}));return a.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function ON(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map((function(e){return Math.round(e+s-s)})).sort((function(e,t){return e-t}));s!==d[0]&&d.unshift(0);var u=d.map((function(e,l){var c=!d[l+1]?s+i-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return a.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:o,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function CN(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var h=u.map((function(e,t){var r=!u[t+1]?o+l-e:u[t+1]-e;if(r<=0)return null;var d=t%n.length;return a.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:r,height:c,stroke:"none",fill:n[d],fillOpacity:s,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _N=function(e,t){var r=e.xAxis,n=e.width,a=e.height,s=e.offset;return wx(_w(yN(yN(yN({},Hw.defaultProps),r),{},{ticks:Nx(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},AN=function(e,t){var r=e.yAxis,n=e.width,a=e.height,s=e.offset;return wx(_w(yN(yN(yN({},Hw.defaultProps),r),{},{ticks:Nx(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},PN={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EN(e){var t,r,n,s,o,i,l=Hv(),c=Wv(),d=(0,a.useContext)(Lv),u=yN(yN({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:PN.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:PN.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:PN.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:PN.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:PN.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:PN.verticalFill,x:ua(e.x)?e.x:d.left,y:ua(e.y)?e.y:d.top,width:ua(e.width)?e.width:d.width,height:ua(e.height)?e.height:d.height}),h=u.x,f=u.y,p=u.width,m=u.height,x=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,v=function(){var e=(0,a.useContext)(Iv);return xa(e)}(),b=function(){var e=(0,a.useContext)(Dv);return Ev()(e,(function(e){return Dg()(e.domain,Number.isFinite)}))||xa(e)}();if(!ua(p)||p<=0||!ua(m)||m<=0||!ua(h)||h!==+h||!ua(f)||f!==+f)return null;var j=u.verticalCoordinatesGenerator||_N,w=u.horizontalCoordinatesGenerator||AN,N=u.horizontalPoints,k=u.verticalPoints;if((!N||!N.length)&&Na()(w)){var S=g&&g.length,O=w({yAxis:b?yN(yN({},b),{},{ticks:S?g:b.ticks}):void 0,width:l,height:c,offset:d},!!S||x);va(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xN(O),"]")),Array.isArray(O)&&(N=O)}if((!k||!k.length)&&Na()(j)){var C=y&&y.length,_=j({xAxis:v?yN(yN({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:d},!!C||x);va(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xN(_),"]")),Array.isArray(_)&&(k=_)}return a.createElement("g",{className:"recharts-cartesian-grid"},a.createElement(wN,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),a.createElement(kN,bN({},u,{offset:d,horizontalPoints:N,xAxis:v,yAxis:b})),a.createElement(SN,bN({},u,{offset:d,verticalPoints:k,xAxis:v,yAxis:b})),a.createElement(ON,bN({},u,{horizontalPoints:N})),a.createElement(CN,bN({},u,{verticalPoints:k})))}EN.displayName="CartesianGrid";var MN=nw({chartName:"BarChart",GraphicalChild:sv,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tN},{axisType:"yAxis",AxisComp:hN}],formatAxisMap:hv}),TN=["points","className","baseLinePoints","connectNulls"];function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(this,arguments)}function DN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RN(e){return function(e){if(Array.isArray(e))return LN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FN=function(e){return e&&e.x===+e.x&&e.y===+e.y},zN=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){FN(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),FN(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(RN(e),RN(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},BN=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,s=e.connectNulls,o=DN(e,TN);if(!t||!t.length)return null;var i=Jn("recharts-polygon",r);if(n&&n.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,r){var n=zN(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(zN(t.reverse(),r).slice(1))}(t,n,s);return a.createElement("g",{className:i},a.createElement("path",IN({},Xa(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?a.createElement("path",IN({},Xa(o,!0),{fill:"none",d:zN(t,s)})):null,l?a.createElement("path",IN({},Xa(o,!0),{fill:"none",d:zN(n,s)})):null)}var d=zN(t,s);return a.createElement("path",IN({},Xa(o,!0),{fill:"Z"===d.slice(-1)?o.fill:"none",className:i,d:d}))};function $N(e){return $N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(e)}function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UN.apply(this,arguments)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qN(Object(r),!0).forEach((function(t){GN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QN(n.key),n)}}function VN(e,t,r){return t=YN(t),function(e,t){if(t&&("object"===$N(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KN()?Reflect.construct(t,r||[],YN(e).constructor):t.apply(e,r))}function KN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KN=function(){return!!e})()}function YN(e){return YN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YN(e)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XN(e,t)}function GN(e,t,r){return(t=QN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QN(e){var t=function(e,t){if("object"!=$N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$N(t)?t:t+""}var JN=Math.PI/180,ZN=1e-5,ek=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}(t,e),r=t,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,s=t.orientation,o=t.tickSize||8,i=fg(r,n,a,e.coordinate),l=fg(r,n,a+("inner"===s?-1:1)*o,e.coordinate);return{x1:i.x,y1:i.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*JN);return r>ZN?"outer"===t?"start":"end":r<-ZN?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,s=e.axisLine,o=e.axisLineType,i=HN(HN({},Xa(this.props,!1)),{},{fill:"none"},Xa(s,!1));if("circle"===o)return a.createElement(ki,UN({className:"recharts-polar-angle-axis-line"},i,{cx:t,cy:r,r:n}));var l=this.props.ticks.map((function(e){return fg(t,r,n,e.coordinate)}));return a.createElement(BN,UN({className:"recharts-polar-angle-axis-line"},i,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,s=r.tick,o=r.tickLine,i=r.tickFormatter,l=r.stroke,c=Xa(this.props,!1),d=Xa(s,!1),u=HN(HN({},c),{},{fill:"none"},Xa(o,!1)),h=n.map((function(r,n){var h=e.getTickLineCoord(r),f=HN(HN(HN({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:n,payload:r,x:h.x2,y:h.y2});return a.createElement(vs,UN({className:Jn("recharts-polar-angle-axis-tick",yg(s)),key:"tick-".concat(r.coordinate)},Ia(e.props,r,n)),o&&a.createElement("line",UN({className:"recharts-polar-angle-axis-tick-line"},u,h)),s&&t.renderTickItem(s,f,i?i(r.value,n):r.value))}));return a.createElement(vs,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:a.createElement(vs,{className:Jn("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}],s=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement(sd,UN({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],n&&WN(r.prototype,n),s&&WN(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);GN(ek,"displayName","PolarAngleAxis"),GN(ek,"axisType","angleAxis"),GN(ek,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tk=r(2794),rk=r.n(tk),nk=r(9364),ak=r.n(nk),sk=["cx","cy","angle","ticks","axisLine"],ok=["ticks","tick","angle","tickFormatter","stroke"];function ik(e){return ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ik(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ck(Object(r),!0).forEach((function(t){gk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yk(n.key),n)}}function fk(e,t,r){return t=mk(t),function(e,t){if(t&&("object"===ik(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pk()?Reflect.construct(t,r||[],mk(e).constructor):t.apply(e,r))}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pk=function(){return!!e})()}function mk(e){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mk(e)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xk(e,t)}function gk(e,t,r){return(t=yk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e){var t=function(e,t){if("object"!=ik(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ik(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ik(t)?t:t+""}var vk,bk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fk(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}(t,e),r=t,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,s=r.cy;return fg(a,s,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=rk()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:ak()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,s=e.ticks,o=e.axisLine,i=uk(e,sk),l=s.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=fg(t,r,l[0],n),d=fg(t,r,l[1],n),u=dk(dk(dk({},Xa(i,!1)),{},{fill:"none"},Xa(o,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return a.createElement("line",lk({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,s=r.tick,o=r.angle,i=r.tickFormatter,l=r.stroke,c=uk(r,ok),d=this.getTickTextAnchor(),u=Xa(c,!1),h=Xa(s,!1),f=n.map((function(r,n){var c=e.getTickValueCoord(r),f=dk(dk(dk(dk({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},h),{},{index:n},c),{},{payload:r});return a.createElement(vs,lk({className:Jn("recharts-polar-radius-axis-tick",yg(s)),key:"tick-".concat(r.coordinate)},Ia(e.props,r,n)),t.renderTickItem(s,f,i?i(r.value,n):r.value))}));return a.createElement(vs,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?a.createElement(vs,{className:Jn("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Ag.renderCallByParent(this.props,this.getViewBox())):null}}],s=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):Na()(e)?e(t):a.createElement(sd,lk({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],n&&hk(r.prototype,n),s&&hk(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);function jk(e){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(e)}function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nk(Object(r),!0).forEach((function(t){Pk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ek(n.key),n)}}function Ok(e,t,r){return t=_k(t),function(e,t){if(t&&("object"===jk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ck()?Reflect.construct(t,r||[],_k(e).constructor):t.apply(e,r))}function Ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ck=function(){return!!e})()}function _k(e){return _k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_k(e)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ak(e,t)}function Pk(e,t,r){return(t=Ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ek(e){var t=function(e,t){if("object"!=jk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jk(t)?t:t+""}gk(bk,"displayName","PolarRadiusAxis"),gk(bk,"axisType","radiusAxis"),gk(bk,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Mk=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pk(r=Ok(this,t,[e]),"pieRef",null),Pk(r,"sectorRefs",[]),Pk(r,"id",pa("recharts-pie-")),Pk(r,"handleAnimationEnd",(function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Na()(e)&&e()})),Pk(r,"handleAnimationStart",(function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Na()(e)&&e()})),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}(t,e),r=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);if(Na()(e))return e(t);var n=Jn("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return a.createElement(cj,wk({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);var n=r;if(Na()(e)&&(n=e(t),a.isValidElement(n)))return n;var s=Jn("recharts-pie-label-text","boolean"===typeof e||Na()(e)?"":e.className);return a.createElement(sd,wk({},t,{alignmentBaseline:"middle",className:s}),n)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,s=r.labelLine,o=r.dataKey,i=r.valueKey,l=Xa(this.props,!1),c=Xa(n,!1),d=Xa(s,!1),u=n&&n.offsetRadius||20,h=e.map((function(e,r){var h=(e.startAngle+e.endAngle)/2,f=fg(e.cx,e.cy,e.outerRadius+u,h),p=kk(kk(kk(kk({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=kk(kk(kk(kk({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[fg(e.cx,e.cy,e.outerRadius,h),f]}),x=o;return ja()(o)&&ja()(i)?x="value":ja()(o)&&(x=i),a.createElement(vs,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},s&&t.renderLabelLineItem(s,m,"line"),t.renderLabelItem(n,p,xx(e,x)))}));return a.createElement(vs,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,s=r.blendStroke,o=r.inactiveShape;return e.map((function(r,i){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(i),c=o&&t.hasActiveIndex()?o:null,d=l?n:c,u=kk(kk({},r),{},{stroke:s?r.fill:r.stroke,tabIndex:-1});return a.createElement(vs,wk({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Ia(t.props,r,i),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(i)}),a.createElement(_y,wk({option:d,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,s=t.animationBegin,o=t.animationDuration,i=t.animationEasing,l=t.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return a.createElement(Zl,{begin:s,duration:o,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var n=t.t,s=[],o=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=d&&d[t],a=t>0?oa()(e,"paddingAngle",0):0;if(r){var i=ga(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=kk(kk({},e),{},{startAngle:o+a,endAngle:o+i(n)+a});s.push(l),o=l.endAngle}else{var c=e.endAngle,u=e.startAngle,h=ga(0,c-u)(n),f=kk(kk({},e),{},{startAngle:o+a,endAngle:o+h+a});s.push(f),o=f.endAngle}})),a.createElement(vs,null,e.renderSectorsStatically(s))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&mm()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,s=t.className,o=t.label,i=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,h=this.state.isAnimationFinished;if(r||!n||!n.length||!ua(i)||!ua(l)||!ua(c)||!ua(d))return null;var f=Jn("recharts-pie",s);return a.createElement(vs,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(n),Ag.renderCallByParent(this.props,null,!1),(!u||h)&&Gg.renderCallByParent(this.props,n,!1))}}])&&Sk(r.prototype,n),s&&Sk(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,s}(a.PureComponent);vk=Mk,Pk(Mk,"displayName","Pie"),Pk(Mk,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Pk(Mk,"parseDeltaAngle",(function(e,t){return ca(t-e)*Math.min(Math.abs(t-e),360)})),Pk(Mk,"getRealPieData",(function(e){var t=e.data,r=e.children,n=Xa(e,!1),a=Ha(r,Rg);return t&&t.length?t.map((function(e,t){return kk(kk(kk({payload:e},n),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return kk(kk({},n),e.props)})):[]})),Pk(Mk,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=pg(a,s);return{cx:n+ma(e.cx,a,a/2),cy:r+ma(e.cy,s,s/2),innerRadius:ma(e.innerRadius,o,0),outerRadius:ma(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}})),Pk(Mk,"getComposedData",(function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?kk(kk({},t.type.defaultProps),t.props):t.props,a=vk.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,i=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),p=vk.parseCoordinateOfPie(n,r),m=vk.parseDeltaAngle(o,i),x=Math.abs(m),g=c;ja()(c)&&ja()(u)?(va(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):ja()(c)&&(va(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=u);var y,v,b=a.filter((function(e){return 0!==xx(e,g,0)})).length,j=x-b*f-(x>=360?b:b-1)*l,w=a.reduce((function(e,t){var r=xx(t,g,0);return e+(ua(r)?r:0)}),0);w>0&&(y=a.map((function(e,t){var r,n=xx(e,g,0),a=xx(e,d,t),i=(ua(n)?n:0)/w,c=(r=t?v.endAngle+ca(m)*l*(0!==n?1:0):o)+ca(m)*((0!==n?f:0)+i*j),u=(r+c)/2,x=(p.innerRadius+p.outerRadius)/2,y=[{name:a,value:n,payload:e,dataKey:g,type:h}],b=fg(p.cx,p.cy,x,u);return v=kk(kk(kk({percent:i,cornerRadius:s,name:a,tooltipPayload:y,midAngle:u,middleRadius:x,tooltipPosition:b},e),p),{},{value:xx(e,g),startAngle:r,endAngle:c,payload:e,paddingAngle:ca(m)*l})})));return kk(kk({},p),{},{sectors:y,data:a})}));var Tk=nw({chartName:"PieChart",GraphicalChild:Mk,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ek},{axisType:"radiusAxis",AxisComp:bk}],formatAxisMap:function(e,t,r,n,a){var s=e.width,o=e.height,i=e.startAngle,l=e.endAngle,c=ma(e.cx,s,s/2),d=ma(e.cy,o,o/2),u=pg(s,o,r),h=ma(e.innerRadius,u,0),f=ma(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,r){var s,o=t[r],u=o.domain,p=o.reversed;if(ja()(o.range))"angleAxis"===n?s=[i,l]:"radiusAxis"===n&&(s=[h,f]),p&&(s=[s[1],s[0]]);else{var m=cg(s=o.range,2);i=m[0],l=m[1]}var x=Ox(o,a),g=x.realScaleType,y=x.scale;y.domain(u).range(s),_x(y);var v=Ex(y,ig(ig({},o),{},{realScaleType:g})),b=ig(ig(ig({},o),v),{},{range:s,radius:f,realScaleType:g,scale:y,cx:c,cy:d,innerRadius:h,outerRadius:f,startAngle:i,endAngle:l});return ig(ig({},e),{},lg({},r,b))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ik=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)("sales"),[i,l]=(0,a.useState)("month"),[c,d]=(0,a.useState)({from:"",to:""}),[u,h]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),j=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#8dd1e1"],w=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),N=async()=>{try{t(!0),n(null);const r=localStorage.getItem("token");if(!r)return n("Authentication token not found. Please log in again."),dt.error("Authentication required"),void t(!1);let a,o;const l=new Date;"week"===i?(a=new Date(l),a.setDate(l.getDate()-7)):"month"===i?(a=new Date(l),a.setMonth(l.getMonth()-1)):"quarter"===i?(a=new Date(l),a.setMonth(l.getMonth()-3)):"year"===i?(a=new Date(l),a.setFullYear(l.getFullYear()-1)):"custom"===i&&c.from&&c.to&&(a=new Date(c.from),o=new Date(c.to)),o||(o=new Date(l));const d=a.toISOString().split("T")[0],u=o.toISOString().split("T")[0];try{let e;switch(s){case"sales":default:e=`http://localhost:8080/api/reports/sales?from=${d}&to=${u}`;break;case"products":e=`http://localhost:8080/api/reports/products?from=${d}&to=${u}`;break;case"categories":e=`http://localhost:8080/api/reports/categories?from=${d}&to=${u}`;break;case"franchises":e=`http://localhost:8080/api/reports/franchises?from=${d}&to=${u}`;break;case"inventory":e="http://localhost:8080/api/reports/inventory"}const n=await On.get(e,{headers:{Authorization:`Bearer ${r}`}});if(n.data.success){switch(s){case"sales":default:h(n.data.data);break;case"products":p(n.data.data);break;case"categories":x(n.data.data);break;case"franchises":y(n.data.data);break;case"inventory":b(n.data.data)}return void t(!1)}}catch(e){console.log("API endpoints not available, using mock data instead:",e)}if("sales"===s){const e=[];for(let t=0;t<30;t++){const r=new Date(l);r.setDate(l.getDate()-(29-t)),e.push({date:r.toISOString().split("T")[0],sales:Math.floor(1e4*Math.random())+1e3,orders:Math.floor(50*Math.random())+5})}h(e)}else if("products"===s){p([{name:"Product A",sales:4500,units:120},{name:"Product B",sales:3800,units:90},{name:"Product C",sales:3200,units:80},{name:"Product D",sales:2800,units:70},{name:"Product E",sales:2200,units:55}])}else if("categories"===s){x([{name:"Category 1",value:35},{name:"Category 2",value:25},{name:"Category 3",value:20},{name:"Category 4",value:15},{name:"Category 5",value:5}])}else if("franchises"===s){y([{name:"Franchise A",sales:12500,orders:320},{name:"Franchise B",sales:9800,orders:250},{name:"Franchise C",sales:8200,orders:210},{name:"Franchise D",sales:6800,orders:180},{name:"Franchise E",sales:5500,orders:140}])}else if("inventory"===s){b([{name:"Product A",stock:120,threshold:20,status:"In Stock"},{name:"Product B",stock:45,threshold:50,status:"Low Stock"},{name:"Product C",stock:80,threshold:30,status:"In Stock"},{name:"Product D",stock:15,threshold:25,status:"Low Stock"},{name:"Product E",stock:5,threshold:15,status:"Critical"}])}}catch(r){console.error("Report data error:",r),n("An error occurred while generating report data"),dt.error("Failed to load report data")}finally{t(!1)}};return(0,a.useEffect)((()=>{N()}),[s,i,c]),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Reports & Analytics"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,An.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,An.jsx)("option",{value:"quarter",children:"Last 3 Months"}),(0,An.jsx)("option",{value:"year",children:"Last Year"}),(0,An.jsx)("option",{value:"custom",children:"Custom Range"})]}),(0,An.jsx)("button",{onClick:()=>{t(!0),N()},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Refresh"})]})]}),"custom"===i&&(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"from-date",children:"From Date"}),(0,An.jsx)("input",{type:"date",id:"from-date",value:c.from,onChange:e=>d({...c,from:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"to-date",children:"To Date"}),(0,An.jsx)("input",{type:"date",id:"to-date",value:c.to,onChange:e=>d({...c,to:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),(0,An.jsx)("div",{className:"mb-6 border-b",children:(0,An.jsxs)("nav",{className:"flex space-x-8",children:[(0,An.jsx)("button",{onClick:()=>o("sales"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("sales"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Sales Overview"}),(0,An.jsx)("button",{onClick:()=>o("products"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("products"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Product Performance"}),(0,An.jsx)("button",{onClick:()=>o("categories"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("categories"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Category Analysis"}),(0,An.jsx)("button",{onClick:()=>o("franchises"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("franchises"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Franchise Performance"}),(0,An.jsx)("button",{onClick:()=>o("inventory"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("inventory"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Inventory Status"})]})}),e?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:r}),(0,An.jsx)("button",{onClick:()=>{t(!0),n(null),N()},className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:["sales"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Sales Overview"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-blue-500 mb-1",children:"Total Sales"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:w(u.reduce(((e,t)=>e+t.sales),0))})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-green-500 mb-1",children:"Total Orders"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-green-800",children:u.reduce(((e,t)=>e+t.orders),0)})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-purple-500 mb-1",children:"Average Order Value"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:w(u.reduce(((e,t)=>e+t.sales),0)/u.reduce(((e,t)=>e+t.orders),0)||0)})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-yellow-500 mb-1",children:"Conversion Rate"}),(0,An.jsxs)("p",{className:"text-2xl font-bold text-yellow-800",children:[Math.round(10*Math.random()+15),"%"]})]})]}),(0,An.jsxs)("div",{className:"mb-8",children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Sales Trend"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(fN,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"date"}),(0,An.jsx)(hN,{yAxisId:"left"}),(0,An.jsx)(hN,{yAxisId:"right",orientation:"right"}),(0,An.jsx)(io,{formatter:(e,t)=>"sales"===t?w(e):e}),(0,An.jsx)(wi,{}),(0,An.jsx)(bw,{yAxisId:"left",type:"monotone",dataKey:"sales",name:"Sales",stroke:"#8884d8",activeDot:{r:8}}),(0,An.jsx)(bw,{yAxisId:"right",type:"monotone",dataKey:"orders",name:"Orders",stroke:"#82ca9d"})]})})})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Sales by Day of Week"}),(0,An.jsx)("div",{className:"h-64",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:[{day:"Monday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Tuesday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Wednesday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Thursday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Friday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Saturday",sales:Math.floor(5e3*Math.random())+1e3},{day:"Sunday",sales:Math.floor(5e3*Math.random())+1e3}],margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"day"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{formatter:e=>w(e)}),(0,An.jsx)(sv,{dataKey:"sales",name:"Sales",fill:"#8884d8"})]})})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Payment Methods"}),(0,An.jsx)("div",{className:"h-64",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(Tk,{children:[(0,An.jsx)(Mk,{data:[{name:"Credit Card",value:65},{name:"PayPal",value:20},{name:"Bank Transfer",value:10},{name:"Other",value:5}],cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Credit Card",value:65},{name:"PayPal",value:20},{name:"Bank Transfer",value:10},{name:"Other",value:5}].map(((e,t)=>(0,An.jsx)(Rg,{fill:j[t%j.length]},`cell-${t}`)))}),(0,An.jsx)(io,{formatter:e=>`${e}%`}),(0,An.jsx)(wi,{})]})})})]})]})]}),"products"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Product Performance"}),(0,An.jsxs)("div",{className:"mb-8",children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Top Selling Products"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:f,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{type:"number"}),(0,An.jsx)(hN,{type:"category",dataKey:"name"}),(0,An.jsx)(io,{formatter:(e,t)=>"sales"===t?w(e):e}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"sales",name:"Sales",fill:"#8884d8"}),(0,An.jsx)(sv,{dataKey:"units",name:"Units Sold",fill:"#82ca9d"})]})})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Product Sales Details"}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units Sold"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Price"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(((e,t)=>(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.units})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-900",children:w(e.sales)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:w(e.sales/e.units)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm "+(Math.random()>.3?"text-green-600":"text-red-600"),children:[Math.random()>.3?"+":"-",Math.floor(30*Math.random())+1,"%"]})})]},t)))})]})})]})]}),"categories"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Category Analysis"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Sales by Category"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(Tk,{children:[(0,An.jsx)(Mk,{data:m,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:m.map(((e,t)=>(0,An.jsx)(Rg,{fill:j[t%j.length]},`cell-${t}`)))}),(0,An.jsx)(io,{formatter:e=>`${e}%`}),(0,An.jsx)(wi,{})]})})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Category Growth"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:m.map((e=>({...e,growth:Math.floor(40*Math.random())-10}))),margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"name"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"growth",name:"Growth %",fill:"#8884d8",children:m.map(((e,t)=>(0,An.jsx)(Rg,{fill:Math.floor(40*Math.random())-10>0?"#82ca9d":"#ff8042"},`cell-${t}`)))})]})})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Category Details"}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales %"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Order Value"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(((e,t)=>(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[e.value,"%"]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-900",children:w(Math.floor(1e4*Math.random())+1e3)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:Math.floor(20*Math.random())+5})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:w(Math.floor(100*Math.random())+50)})})]},t)))})]})})]})]}),"franchises"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Franchise Performance"}),(0,An.jsxs)("div",{className:"mb-8",children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Sales by Franchise"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"name"}),(0,An.jsx)(hN,{yAxisId:"left"}),(0,An.jsx)(hN,{yAxisId:"right",orientation:"right"}),(0,An.jsx)(io,{formatter:(e,t)=>"sales"===t?w(e):e}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{yAxisId:"left",dataKey:"sales",name:"Sales",fill:"#8884d8"}),(0,An.jsx)(sv,{yAxisId:"right",dataKey:"orders",name:"Orders",fill:"#82ca9d"})]})})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Franchise Details"}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Franchise"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Order Value"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(((e,t)=>(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:["New York","Los Angeles","Chicago","Houston","Phoenix"][t]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-900",children:w(e.sales)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.orders})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:w(e.sales/e.orders)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm "+(Math.random()>.3?"text-green-600":"text-red-600"),children:[Math.random()>.3?"+":"-",Math.floor(30*Math.random())+1,"%"]})})]},t)))})]})})]})]}),"inventory"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Inventory Status"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-blue-500 mb-1",children:"Total Products"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:v.length})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-green-500 mb-1",children:"In Stock"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-green-800",children:v.filter((e=>"In Stock"===e.status)).length})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-yellow-500 mb-1",children:"Low Stock"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-yellow-800",children:v.filter((e=>"Low Stock"===e.status)).length})]}),(0,An.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-red-500 mb-1",children:"Critical Stock"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-red-800",children:v.filter((e=>"Critical"===e.status)).length})]})]}),(0,An.jsxs)("div",{className:"mb-8",children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Stock Levels"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:v,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"name"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"stock",name:"Current Stock",fill:"#8884d8"}),(0,An.jsx)(sv,{dataKey:"threshold",name:"Low Stock Threshold",fill:"#82ca9d"})]})})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Inventory Details"}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Restocked"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(((e,t)=>(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[e.stock," units"]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:[e.threshold," units"]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("In Stock"===e.status?"bg-green-100 text-green-800":"Low Stock"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("div",{className:"text-sm text-gray-500",children:new Date(Date.now()-24*Math.floor(30*Math.random())*60*60*1e3).toLocaleDateString()})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"In Stock"!==e.status&&(0,An.jsx)("button",{className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"Reorder"})})]},t)))})]})})]})]})]})]})},Dk=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),s=(ee(),J()),o=JSON.parse(localStorage.getItem("user")),i=e=>s.pathname===e?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-700";return(0,An.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,An.jsxs)("div",{className:`bg-blue-900 text-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition duration-200 ease-in-out z-20`,children:[(0,An.jsxs)("div",{className:"flex items-center space-x-2 px-4",children:[(0,An.jsx)("span",{className:"text-2xl font-extrabold",children:"BlueMedix"}),(0,An.jsx)("span",{className:"px-2 py-1 bg-blue-800 rounded-lg text-xs",children:"Admin"})]}),(0,An.jsxs)("nav",{children:[(0,An.jsx)(Pe,{to:"/admin/dashboard",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/dashboard")}`,children:"Dashboard"}),(0,An.jsx)(Pe,{to:"/admin/users",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/users")}`,children:"User Management"}),(0,An.jsx)(Pe,{to:"/admin/managers",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/managers")}`,children:"Manager Management"}),(0,An.jsx)(Pe,{to:"/admin/franchises",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/franchises")}`,children:"Franchise Management"}),(0,An.jsx)(Pe,{to:"/admin/products",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/products")}`,children:"Product Management"}),(0,An.jsx)(Pe,{to:"/admin/categories",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/categories")}`,children:"Category Management"}),(0,An.jsx)(Pe,{to:"/admin/franchise-stock",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/franchise-stock")}`,children:"Franchise Stock"}),(0,An.jsx)(Pe,{to:"/admin/orders",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/orders")}`,children:"Order Management"}),(0,An.jsx)(Pe,{to:"/admin/reports",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/admin/reports")}`,children:"Reports"}),(0,An.jsx)("div",{className:"pt-4 mt-4 border-t border-blue-800",children:(0,An.jsxs)(Pe,{to:"/documentation",className:`block py-2.5 px-4 rounded transition duration-200 ${i("/documentation")} flex items-center`,children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"System Documentation"]})})]})]}),(0,An.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,An.jsxs)("header",{className:"bg-white shadow-md h-16 flex items-center justify-between px-6",children:[(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsx)("button",{onClick:()=>n(!r),className:"text-gray-500 focus:outline-none md:hidden",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsxs)("div",{className:"relative group",children:[(0,An.jsxs)("button",{className:"flex items-center space-x-2 focus:outline-none",children:[(0,An.jsx)("span",{className:"text-gray-700",children:null===o||void 0===o?void 0:o.name}),(0,An.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:(null===o||void 0===o?void 0:o.img_url)||"https://ui-avatars.com/api/?name="+encodeURIComponent((null===o||void 0===o?void 0:o.name)||"Admin"),alt:"Profile"})]}),(0,An.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[(0,An.jsx)(Pe,{to:"/admin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Your Profile"}),(0,An.jsx)(Pe,{to:"/admin/logout",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]}),(0,An.jsx)(Pe,{to:"/admin/logout",className:"ml-4 px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-sm rounded-md",children:"Logout"})]})]}),(0,An.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100",children:t})]})]})},Rk=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)({name:"",email:"",phone:"",img_url:""}),[i,l]=(0,a.useState)({oldpassword:"",newpassword:"",confirmPassword:""}),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("user"));if(!e)return void dt.error("User data not found");t(e),o({name:e.name||"",email:e.email||"",phone:e.phone||"",img_url:e.img_url||""}),d(e.img_url||"")}catch(e){console.error("Error fetching user data:",e),dt.error("Failed to load profile data")}finally{n(!1)}})()}),[]);const m=e=>{o({...s,[e.target.name]:e.target.value})},x=e=>{l({...i,[e.target.name]:e.target.value})};return r?(0,An.jsx)(Dk,{children:(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Admin Profile"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),(0,An.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),h(!0);try{const r=localStorage.getItem("token");if(!r||!e)return void dt.error("Authentication required");if((await On.patch(`http://localhost:8080/api/users/${e._id}`,{name:s.name,phone:s.phone,img_url:s.img_url},{headers:{Authorization:`Bearer ${r}`}})).data.success){const r={...e,name:s.name,phone:s.phone,img_url:s.img_url};localStorage.setItem("user",JSON.stringify(r)),t(r),dt.success("Profile updated successfully")}else dt.error("Failed to update profile")}catch(o){var n,a;console.error("Update profile error:",o),dt.error((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to update profile")}finally{h(!1)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,className:"w-full border border-gray-300 rounded px-3 py-2 bg-gray-100 focus:outline-none",disabled:!0}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"img_url",children:"Profile Image URL"}),(0,An.jsx)("input",{type:"text",id:"img_url",name:"img_url",value:s.img_url,onChange:e=>{const t=e.target.value;o({...s,img_url:t}),d(t)},placeholder:"Enter image URL",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid image URL for your profile picture"})]}),c&&(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Image Preview"}),(0,An.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border border-gray-300",children:(0,An.jsx)("img",{src:c,alt:"Profile Preview",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(s.name||"Admin")}})})]}),(0,An.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:u?"Updating...":"Update Profile"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Change Password"}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.newpassword===i.confirmPassword)if(i.newpassword.length<6)dt.error("Password must be at least 6 characters");else{p(!0);try{const e=localStorage.getItem("token");if(!e)return void dt.error("Authentication required");(await On.post("http://localhost:8080/api/users/change-password",{oldpassword:i.oldpassword,newpassword:i.newpassword},{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Password changed successfully"),l({oldpassword:"",newpassword:"",confirmPassword:""})):dt.error("Failed to change password")}catch(n){var t,r;console.error("Change password error:",n),dt.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to change password")}finally{p(!1)}}else dt.error("New passwords do not match")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"oldpassword",children:"Current Password"}),(0,An.jsx)("input",{type:"password",id:"oldpassword",name:"oldpassword",value:i.oldpassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"newpassword",children:"New Password"}),(0,An.jsx)("input",{type:"password",id:"newpassword",name:"newpassword",value:i.newpassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:"6"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,An.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsx)("button",{type:"submit",disabled:f,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",children:f?"Changing Password...":"Change Password"})]})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Role"}),(0,An.jsx)("p",{className:"font-medium",children:(null===e||void 0===e?void 0:e.role)||"Admin"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Status"}),(0,An.jsx)("p",{className:"font-medium",children:(null===e||void 0===e?void 0:e.Status)||"Active"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Created"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.updatedAt?new Date(e.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]})]})},Lk=()=>{const e=ee();return(0,a.useEffect)((()=>{(async()=>{try{await On.post("http://localhost:8080/api/auth/logout",{},{withCredentials:!0}),localStorage.removeItem("user"),localStorage.removeItem("token"),dt.success("Logged out successfully"),e("/login")}catch(t){console.error("Logout error:",t),dt.error("Failed to logout"),e("/admin/dashboard")}})()}),[e]),(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,An.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,An.jsx)("div",{className:"flex justify-center mb-6",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),(0,An.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Logging Out"}),(0,An.jsx)("p",{className:"text-center text-gray-600",children:"Please wait while we log you out..."})]})})},Fk=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)({totalOrders:0,pendingOrders:0,totalProducts:0,lowStockProducts:0});(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{try{const e=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user"));if(!r||!r.franchise)return dt.error("No franchise assigned to this manager"),void n(!1);const a=await On.get(`http://localhost:8080/api/franchises/${r.franchise}`,{headers:{Authorization:`Bearer ${e}`}});a.data.success&&(t(a.data.franchise),o({totalOrders:124,pendingOrders:18,totalProducts:256,lowStockProducts:12}))}catch(e){console.error("Error fetching manager data:",e),dt.error("Failed to load franchise data")}finally{n(!1)}};return r?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,An.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Welcome to ",e.name]}),(0,An.jsx)("p",{className:"text-gray-600",children:e.address&&"object"===typeof e.address?`${e.address.Street||""}, ${e.address.city||""}, ${e.address.state||""}, ${e.address.pincode||""}`:e.address||"No address available"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Total Orders"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:s.totalOrders}),(0,An.jsx)(Pe,{to:"/manager/orders",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View all orders"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Pending Orders"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:s.pendingOrders}),(0,An.jsx)(Pe,{to:"/manager/orders/pending",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View pending orders"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Total Products"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-green-600",children:s.totalProducts}),(0,An.jsx)(Pe,{to:"/manager/inventory",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View inventory"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Low Stock"}),(0,An.jsx)("p",{className:"text-3xl font-bold text-red-600",children:s.lowStockProducts}),(0,An.jsx)(Pe,{to:"/manager/inventory/low-stock",className:"text-blue-500 hover:underline mt-4 inline-block",children:"View low stock items"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsx)(Pe,{to:"/manager/orders/create",className:"block w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 text-center",children:"Create New Order"}),(0,An.jsx)(Pe,{to:"/manager/inventory/update",className:"block w-full py-2 px-4 bg-green-600 text-white rounded hover:bg-green-700 text-center",children:"Update Inventory"}),(0,An.jsx)(Pe,{to:"/manager/reports",className:"block w-full py-2 px-4 bg-purple-600 text-white rounded hover:bg-purple-700 text-center",children:"Generate Reports"}),(0,An.jsx)(Pe,{to:"/manager/profile",className:"block w-full py-2 px-4 bg-gray-600 text-white rounded hover:bg-gray-700 text-center",children:"Manage Profile"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Today, 10:30 AM"}),(0,An.jsx)("p",{className:"font-medium",children:"New order #12345 received"})]}),(0,An.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Today, 9:15 AM"}),(0,An.jsx)("p",{className:"font-medium",children:"Inventory updated for 5 products"})]}),(0,An.jsxs)("div",{className:"border-l-4 border-yellow-500 pl-4 py-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Yesterday, 4:45 PM"}),(0,An.jsx)("p",{className:"font-medium",children:'Order #12340 status changed to "Shipped"'})]}),(0,An.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4 py-2",children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Yesterday, 2:30 PM"}),(0,An.jsx)("p",{className:"font-medium",children:"Monthly sales report generated"})]})]})]})]})]}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,An.jsx)("strong",{className:"font-bold",children:"Error!"}),(0,An.jsx)("span",{className:"block sm:inline",children:" No franchise data available. Please contact an administrator."})]})})},zk=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),i=(ee(),J()),l=JSON.parse(localStorage.getItem("user")),c=e=>i.pathname===e?"bg-green-800 text-white":"text-green-100 hover:bg-green-700";return(0,An.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,An.jsxs)("div",{className:`bg-green-900 text-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition duration-200 ease-in-out z-20`,children:[(0,An.jsxs)("div",{className:"flex items-center space-x-2 px-4",children:[(0,An.jsx)("span",{className:"text-2xl font-extrabold",children:"BlueMedix"}),(0,An.jsx)("span",{className:"px-2 py-1 bg-green-800 rounded-lg text-xs",children:"Manager"})]}),(0,An.jsxs)("nav",{children:[(0,An.jsx)(Pe,{to:"/manager/dashboard",className:`block py-2.5 px-4 rounded transition duration-200 ${c("/manager/dashboard")}`,children:"Dashboard"}),(0,An.jsx)(Pe,{to:"/manager/orders",className:`block py-2.5 px-4 rounded transition duration-200 ${c("/manager/orders")}`,children:"Orders"}),(0,An.jsx)(Pe,{to:"/manager/inventory",className:`block py-2.5 px-4 rounded transition duration-200 ${c("/manager/inventory")}`,children:"Inventory"}),(0,An.jsx)(Pe,{to:"/manager/customers",className:`block py-2.5 px-4 rounded transition duration-200 ${c("/manager/customers")}`,children:"Customers"}),(0,An.jsx)(Pe,{to:"/manager/reports",className:`block py-2.5 px-4 rounded transition duration-200 ${c("/manager/reports")}`,children:"Reports"})]})]}),(0,An.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,An.jsxs)("header",{className:"bg-white shadow-md h-16 flex items-center justify-between px-6",children:[(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsx)("button",{onClick:()=>o(!s),className:"text-gray-500 focus:outline-none md:hidden",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsxs)("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 focus:outline-none",children:[(0,An.jsx)("span",{className:"text-gray-700",children:null===l||void 0===l?void 0:l.name}),(0,An.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:(null===l||void 0===l?void 0:l.img_url)||"https://ui-avatars.com/api/?name="+encodeURIComponent((null===l||void 0===l?void 0:l.name)||"Manager"),alt:"Profile"})]}),s&&(0,An.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[(0,An.jsx)(Pe,{to:"/manager/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Your Profile"}),(0,An.jsx)(Pe,{to:"/manager/logout",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]})})]}),(0,An.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100",children:t})]})]})},Bk=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)({name:"",email:"",phone:"",img_url:""}),[i,l]=(0,a.useState)({oldpassword:"",newpassword:"",confirmPassword:""}),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const r=JSON.parse(localStorage.getItem("user"));if(!r)return void dt.error("User data not found");if(t(r),o({name:r.name||"",email:r.email||"",phone:r.phone||"",img_url:r.img_url||""}),d(r.img_url||""),r.franchise)try{const e=localStorage.getItem("token"),t=await On.get(`http://localhost:8080/api/franchises/${r.franchise}`,{headers:{Authorization:`Bearer ${e}`}});t.data.success&&x(t.data.franchise)}catch(e){console.error("Error fetching franchise data:",e)}}catch(r){console.error("Error fetching user data:",r),dt.error("Failed to load profile data")}finally{n(!1)}})()}),[]);const g=e=>{o({...s,[e.target.name]:e.target.value})},y=e=>{l({...i,[e.target.name]:e.target.value})};return r?(0,An.jsx)(zk,{children:(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Your Profile"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),(0,An.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),h(!0);try{const r=localStorage.getItem("token");if(!r||!e)return void dt.error("Authentication required");if((await On.patch(`http://localhost:8080/api/users/${e._id}`,{name:s.name,phone:s.phone,img_url:s.img_url},{headers:{Authorization:`Bearer ${r}`}})).data.success){const r={...e,name:s.name,phone:s.phone,img_url:s.img_url};localStorage.setItem("user",JSON.stringify(r)),t(r),dt.success("Profile updated successfully")}else dt.error("Failed to update profile")}catch(o){var n,a;console.error("Update profile error:",o),dt.error((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to update profile")}finally{h(!1)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:g,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,className:"w-full border border-gray-300 rounded px-3 py-2 bg-gray-100 focus:outline-none",disabled:!0}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:g,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"img_url",children:"Profile Image URL"}),(0,An.jsx)("input",{type:"text",id:"img_url",name:"img_url",value:s.img_url,onChange:e=>{const t=e.target.value;o({...s,img_url:t}),d(t)},placeholder:"Enter image URL",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid image URL for your profile picture"})]}),c&&(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Image Preview"}),(0,An.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border border-gray-300",children:(0,An.jsx)("img",{src:c,alt:"Profile Preview",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(s.name||"User")}})})]}),(0,An.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:u?"Updating...":"Update Profile"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Change Password"}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.newpassword===i.confirmPassword)if(i.newpassword.length<6)dt.error("Password must be at least 6 characters");else{p(!0);try{const e=localStorage.getItem("token");if(!e)return void dt.error("Authentication required");(await On.post("http://localhost:8080/api/users/change-password",{oldpassword:i.oldpassword,newpassword:i.newpassword},{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Password changed successfully"),l({oldpassword:"",newpassword:"",confirmPassword:""})):dt.error("Failed to change password")}catch(n){var t,r;console.error("Change password error:",n),dt.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to change password")}finally{p(!1)}}else dt.error("New passwords do not match")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"oldpassword",children:"Current Password"}),(0,An.jsx)("input",{type:"password",id:"oldpassword",name:"oldpassword",value:i.oldpassword,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"newpassword",children:"New Password"}),(0,An.jsx)("input",{type:"password",id:"newpassword",name:"newpassword",value:i.newpassword,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:"6"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,An.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsx)("button",{type:"submit",disabled:f,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",children:f?"Changing Password...":"Change Password"})]})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Role"}),(0,An.jsx)("p",{className:"font-medium",children:"orderManager"===(null===e||void 0===e?void 0:e.role)?"Order Manager":(null===e||void 0===e?void 0:e.role)||"Manager"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Status"}),(0,An.jsx)("p",{className:"font-medium",children:(null===e||void 0===e?void 0:e.Status)||"Active"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Created"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.updatedAt?new Date(e.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),m&&(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Franchise Information"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Franchise Name"}),(0,An.jsx)("p",{className:"font-medium",children:m.name||"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Location"}),(0,An.jsx)("p",{className:"font-medium",children:m.address&&"object"===typeof m.address?`${m.address.Street||""}, ${m.address.city||""}, ${m.address.state||""}, ${m.address.pincode||""}`:m.address||"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Contact Number"}),(0,An.jsx)("p",{className:"font-medium",children:m.contactNumber||"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,An.jsx)("p",{className:"font-medium",children:m.email||"N/A"})]})]})]})]})},$k=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)(""),[m,x]=(0,a.useState)("all"),[g,y]=(0,a.useState)({from:"",to:""});(0,a.useEffect)((()=>{v()}),[i,c,m,g]);const v=async()=>{try{n(!0),o(null);const a=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user"));if(!a)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);if(!s||!s.franchise)return o("No franchise assigned to this manager."),dt.error("No franchise assigned"),void n(!1);let l=`http://localhost:8080/api/franchises/${s.franchise}/orders?page=${c}`;if("all"!==i&&(l+=`&status=${encodeURIComponent(i)}`),f.trim()&&(l+=`&search=${encodeURIComponent(f.trim())}`),"today"===m){const e=(new Date).toISOString().split("T")[0];l+=`&startDate=${e}&endDate=${e}`}else if("week"===m){const e=new Date,t=new Date(e);t.setDate(e.getDate()-7),l+=`&startDate=${t.toISOString().split("T")[0]}&endDate=${e.toISOString().split("T")[0]}`}else if("month"===m){const e=new Date,t=new Date(e);t.setMonth(e.getMonth()-1),l+=`&startDate=${t.toISOString().split("T")[0]}&endDate=${e.toISOString().split("T")[0]}`}else"custom"===m&&g.from&&g.to&&(l+=`&startDate=${g.from}&endDate=${g.to}`);console.log("Fetching orders from:",l);const u=await On.get(l,{headers:{Authorization:`Bearer ${a}`}});if(u.data&&u.data.success){var e;if(u.data.orders&&u.data.orders.length>0){console.log("First order structure:",u.data.orders[0]);const e=u.data.orders[0];console.log("Customer data in first order:",{user:e.user,user_id:e.user_id,customer:e.customer,customerId:e.customerId,userId:e.userId})}const r=(u.data.orders||[]).map((e=>{w(e);const t={...e};if(e.customer)t.user_id="object"===typeof e.customer?e.customer:{name:"string"===typeof e.customer?e.customer:"Unknown Customer",_id:"string"===typeof e.customer?e.customer:"unknown"};else if(e.user_id&&"string"===typeof e.user_id)t.user_id={name:"Customer #"+e.user_id.substring(0,8),_id:e.user_id};else if(e.user&&"object"===typeof e.user)t.user_id=e.user;else if(e.userId&&"object"===typeof e.userId)t.user_id=e.userId;else if(e.customerId||e.customerName){var r;t.user_id={name:e.customerName||"Customer #"+(null===(r=e.customerId)||void 0===r?void 0:r.substring(0,8))||0,_id:e.customerId||"unknown"}}return t}));t(r),h((null===(e=u.data.pagination)||void 0===e?void 0:e.pages)||1),0===r.length&&c>1&&d(1)}else{var r;o((null===(r=u.data)||void 0===r?void 0:r.message)||"Failed to fetch orders"),dt.error("Failed to fetch orders")}}catch(s){console.error("Fetch orders error:",s);let t="An error occurred while fetching orders";if(b(s))t="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(s.response){var a;const r=s.response.status,n=(null===(a=s.response.data)||void 0===a?void 0:a.message)||"";t=401===r?"Authentication failed. Please log in again.":403===r?"You do not have permission to access order data.":404===r?"Order data not found.":500===r?`Server error: ${n||"Internal server error"}`:`Error (${r}): ${n||t}`}else t=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;o(t),dt.error(t)}finally{n(!1)}},b=e=>"Network Error"===e.message||e.request&&!e.response||"ECONNABORTED"===e.code||e.response&&(0===e.response.status||502===e.response.status||503===e.response.status||504===e.response.status),j=(0,a.useCallback)((0,Fn.debounce)((e=>{console.log("Debounced search query:",e),d(1),v()}),500),[]);(0,a.useEffect)((()=>{""!==f.trim()&&j(f)}),[f,j]);const w=e=>null,N=e=>{e.preventDefault(),d(1),v(),console.log("Search submitted with query:",f)},k=async(e,r)=>{try{const a=localStorage.getItem("token");if(!a)return void dt.error("Authentication required to update order status");const s=await On.patch(`http://localhost:8080/api/orders/${e}/status`,{deliverystatus:r},{headers:{Authorization:`Bearer ${a}`}});var n;if(s.data&&s.data.success)dt.success(`Order status updated to ${r}`),t((t=>t.map((t=>t._id===e?{...t,deliverystatus:r}:t))));else dt.error((null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update order status")}catch(s){console.error("Update order status error:",s);let t="Failed to update order status";if(b(s))t="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(s.response){var a;const r=s.response.status,n=(null===(a=s.response.data)||void 0===a?void 0:a.message)||"";t=400===r?`Validation error: ${n||"Please check your input"}`:401===r?"Authentication failed. Please log in again.":403===r?"You do not have permission to update this order.":404===r?"Order not found. It may have been deleted.":500===r?`Server error: ${n||"Internal server error"}`:`Error (${r}): ${n||t}`}else t=s.request?"No response from server. Please check your network connection.":`Request error: ${s.message}`;dt.error(t)}},S=e=>e.user_id?"object"===typeof e.user_id?e.user_id.name||e.user_id.fullName:e.user_id:e.user?"object"===typeof e.user?e.user.name||e.user.fullName:e.user:e.customer?"object"===typeof e.customer?e.customer.name||e.customer.fullName:e.customer:e.customerName||e.userName||e.userId||e.customerId||null,O=e=>e.user_id&&"object"===typeof e.user_id?e.user_id.email:e.user&&"object"===typeof e.user?e.user.email:e.customer&&"object"===typeof e.customer?e.customer.email:e.customerEmail||e.userEmail||null,C=e=>e.user_id?"object"===typeof e.user_id?e.user_id._id:e.user_id:e.user?"object"===typeof e.user?e.user._id:e.user:e.customer?"object"===typeof e.customer?e.customer._id:e.customer:e.customerId||e.userId||null,_=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Management"}),(0,An.jsx)("button",{onClick:()=>v(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh order list",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>{d(1),v()},className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]}),(f||"all"!==m||"all"!==i)&&(0,An.jsxs)("button",{onClick:()=>{p(""),x("all"),y({from:"",to:""}),l("all"),d(1),v()},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Clear Filters"]})]})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("form",{onSubmit:N,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:f,onChange:e=>{const t=e.target.value;p(t),""===t&&(d(1),v())},onKeyDown:e=>"Enter"===e.key&&N(e),placeholder:"Search by order ID or customer name",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search orders"}),(0,An.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,An.jsx)("option",{value:"all",children:"All Time"}),(0,An.jsx)("option",{value:"today",children:"Today"}),(0,An.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,An.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,An.jsx)("option",{value:"custom",children:"Custom Range"})]})}),"custom"===m&&(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("input",{type:"date",value:g.from,onChange:e=>y({...g,from:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,An.jsx)("input",{type:"date",value:g.to,onChange:e=>y({...g,to:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})}),(0,An.jsx)("div",{className:"mb-6 border-b",children:(0,An.jsxs)("nav",{className:"flex space-x-8",children:[(0,An.jsx)("button",{onClick:()=>{l("all"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("all"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"All Orders"}),(0,An.jsx)("button",{onClick:()=>{l("pending"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("pending"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pending"}),(0,An.jsx)("button",{onClick:()=>{l("accepted"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("accepted"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Accepted"}),(0,An.jsx)("button",{onClick:()=>{l("dispatched"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("dispatched"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Dispatched"}),(0,An.jsx)("button",{onClick:()=>{l("delivered"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("delivered"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Delivered"}),(0,An.jsx)("button",{onClick:()=>{l("cancelled"),d(1)},className:"py-4 px-1 border-b-2 font-medium text-sm "+("cancelled"===i?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Cancelled"})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:s})]}),(0,An.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,An.jsxs)("button",{onClick:()=>v(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Try Again"]}),(0,An.jsx)("button",{onClick:()=>{p(""),x("all"),y({from:"",to:""}),l("all"),d(1)},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Reset Filters"})]})]}):0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No orders found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"all"===i?"There are no orders in your franchise yet.":`There are no ${i} orders.`})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{var t,r,n,a;return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[null,(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(e._id.length-8)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(a=e.createdAt,new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:C(e)?(0,An.jsx)(Pe,{to:`/manager/customers/${C(e)}`,className:"group",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,An.jsx)("img",{className:"h-8 w-8 rounded-full",src:(null===(t=e.user_id)||void 0===t?void 0:t.img_url)||(null===(r=e.user)||void 0===r?void 0:r.img_url)||(null===(n=e.customer)||void 0===n?void 0:n.img_url)||`https://ui-avatars.com/api/?name=${encodeURIComponent(S(e)||"User")}`,alt:S(e)||"User"})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-600",children:S(e)||"Unknown Customer"}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:O(e)||"No email available"}),(0,An.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"View Customer Profile"})]})]})}):(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,An.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs",children:"N/A"})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:S(e)||"Unknown Customer"}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:O(e)||"No email available"})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.product_id?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.product_id.image&&e.product_id.image.length>0?(0,An.jsx)("img",{src:e.product_id.image[0],alt:e.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsx)("div",{className:"ml-4",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product_id.name})})]}):(0,An.jsx)("span",{className:"text-gray-400",children:"Product unavailable"})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.totalAmount.toFixed(2)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("Paid"===e.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.paymentStatus})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)(Pe,{to:`/manager/orders/${e._id}`,className:"text-green-600 hover:text-green-900",children:"View"}),"delivered"!==e.deliverystatus&&"cancelled"!==e.deliverystatus&&(0,An.jsxs)("div",{className:"relative inline-block text-left",children:[(0,An.jsx)("div",{children:(0,An.jsx)("button",{type:"button",className:"text-green-600 hover:text-green-900 focus:outline-none",id:`status-menu-${e._id}`,"aria-expanded":"true","aria-haspopup":"true",onClick:()=>{const t=document.getElementById(`status-dropdown-${e._id}`);t&&t.classList.toggle("hidden")},children:"Update Status"})}),(0,An.jsx)("div",{id:`status-dropdown-${e._id}`,className:"hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",role:"menu","aria-orientation":"vertical","aria-labelledby":`status-menu-${e._id}`,tabIndex:"-1",children:(0,An.jsxs)("div",{className:"py-1",role:"none",children:["accepted"!==e.deliverystatus&&(0,An.jsx)("button",{onClick:()=>k(e._id,"accepted"),className:"text-gray-700 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",tabIndex:"-1",children:"Accept Order"}),("accepted"===e.deliverystatus||"pending"===e.deliverystatus)&&(0,An.jsx)("button",{onClick:()=>k(e._id,"dispatched"),className:"text-gray-700 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",tabIndex:"-1",children:"Mark as Dispatched"}),"dispatched"===e.deliverystatus&&(0,An.jsx)("button",{onClick:()=>k(e._id,"delivered"),className:"text-gray-700 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",tabIndex:"-1",children:"Mark as Delivered"}),"cancelled"!==e.deliverystatus&&(0,An.jsx)("button",{onClick:()=>k(e._id,"cancelled"),className:"text-red-700 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",tabIndex:"-1",children:"Cancel Order"})]})})]})]})})]},e._id)}))})]})}),u>1&&(0,An.jsx)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:c})," of ",(0,An.jsx)("span",{className:"font-medium",children:u})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>d((e=>Math.max(e-1,1))),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===c?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(u).keys()].map((e=>{const t=e+1;return 1===t||t===u||t>=c-1&&t<=c+1?(0,An.jsx)("button",{onClick:()=>d(t),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(c===t?"z-10 bg-green-50 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t},t):2===t||t===u-1?(0,An.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},t):null})),(0,An.jsxs)("button",{onClick:()=>d((e=>Math.min(e+1,u))),disabled:c===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(c===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})})]})]})},Uk=()=>{var e,t,r,n,s,o,i,l,c,d,u,h,f;const{orderId:p}=te(),m=ee(),[x,g]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[b,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{v(!0);const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!e)return j("Authentication required. Please log in."),dt.error("Authentication required"),void v(!1);if(!t||!t.franchise)return j("No franchise assigned to this manager."),dt.error("No franchise assigned"),void v(!1);console.log("Fetching order details for ID:",p);const r=await On.get(`http://localhost:8080/api/orders/${p}`,{headers:{Authorization:`Bearer ${e}`}});r.data.success?(g(r.data.order),console.log("Order details loaded:",r.data.order)):(j("Failed to fetch order details"),dt.error("Failed to fetch order details"))}catch(b){var e,t,r;console.error("Fetch order details error:",b),console.error("Error response:",null===(e=b.response)||void 0===e?void 0:e.data),403===(null===(t=b.response)||void 0===t?void 0:t.status)?(j("You are not authorized to view this order"),dt.error("Access denied")):404===(null===(r=b.response)||void 0===r?void 0:r.status)?(j("Order not found"),dt.error("Order not found")):(j("An error occurred while fetching order details"),dt.error("Failed to load order details"))}finally{v(!1)}})()}),[p]);const k=async e=>{try{N(!0);const r=localStorage.getItem("token");if(!r)return dt.error("Authentication required to update order status"),void N(!1);const n=await On.patch(`http://localhost:8080/api/orders/${p}/status`,{deliverystatus:e},{headers:{Authorization:`Bearer ${r}`}});var t;if(n.data.success)dt.success(`Order status updated to ${e}`),g({...x,deliverystatus:e});else dt.error((null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to update order status")}catch(b){console.error("Update order status error:",b),dt.error("Failed to update order status")}finally{N(!1)}},S=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return y?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):b?(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:b})]}),(0,An.jsxs)("button",{onClick:()=>m("/manager/orders"),className:"mt-4 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Orders"]})]})}):x?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,An.jsxs)(Pe,{to:"/manager/orders",className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Orders"]}),(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 ml-4",children:"Order Details"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,An.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,An.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Order #",x.order_id||x._id.substring(0,8)]}),(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Placed on ",S(x.createdAt)]})]}),(0,An.jsxs)("div",{className:"flex items-center mt-2 sm:mt-0",children:[(0,An.jsx)("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(x.deliverystatus)}`,children:x.deliverystatus.charAt(0).toUpperCase()+x.deliverystatus.slice(1)}),"delivered"!==x.deliverystatus&&"cancelled"!==x.deliverystatus&&(0,An.jsx)("div",{className:"ml-4",children:(0,An.jsxs)("select",{className:"border border-gray-300 rounded text-sm py-1 px-2 focus:outline-none focus:ring-2 focus:ring-green-500",onChange:e=>{e.target.value&&(k(e.target.value),e.target.value="")},defaultValue:"",disabled:w,children:[(0,An.jsx)("option",{value:"",children:"Update Status"}),"pending"!==x.deliverystatus&&(0,An.jsx)("option",{value:"pending",children:"Pending"}),"accepted"!==x.deliverystatus&&(0,An.jsx)("option",{value:"accepted",children:"Accepted"}),"dispatched"!==x.deliverystatus&&(0,An.jsx)("option",{value:"dispatched",children:"Dispatched"}),"delivered"!==x.deliverystatus&&(0,An.jsx)("option",{value:"delivered",children:"Delivered"}),"cancelled"!==x.deliverystatus&&(0,An.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]})]})}),(0,An.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Customer Information"}),(0,An.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,An.jsx)("p",{className:"font-medium",children:(null===(e=x.user)||void 0===e?void 0:e.name)||"N/A"}),(0,An.jsx)("p",{className:"text-gray-600",children:(null===(t=x.user)||void 0===t?void 0:t.email)||"N/A"}),(0,An.jsx)("p",{className:"text-gray-600",children:(null===(r=x.user)||void 0===r?void 0:r.phone)||"N/A"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Shipping Address"}),(0,An.jsx)("div",{className:"bg-gray-50 p-4 rounded",children:x.deliveryAddress?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("p",{className:"font-medium",children:x.deliveryAddress.name||"N/A"}),(0,An.jsxs)("p",{className:"text-gray-600",children:[x.deliveryAddress.Street||"N/A",", ",x.deliveryAddress.city||"N/A"]}),(0,An.jsxs)("p",{className:"text-gray-600",children:[x.deliveryAddress.state||"N/A",", ",x.deliveryAddress.pincode||"N/A"]}),(0,An.jsx)("p",{className:"text-gray-600",children:x.deliveryAddress.phone||"N/A"})]}):(0,An.jsx)("p",{className:"text-gray-600",children:"No address information available"})})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Payment Information"}),(0,An.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,An.jsxs)("p",{className:"font-medium",children:["Payment Status:",(0,An.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full "+("Paid"===x.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:x.paymentStatus})]}),(0,An.jsxs)("p",{className:"text-gray-600 mt-2",children:["Payment Method: ",x.paymentMethod||"Cash on Delivery"]})]})]})]}),(0,An.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:null!==(n=x.product_id)&&void 0!==n&&n.image&&x.product_id.image.length>0?(0,An.jsx)("img",{src:x.product_id.image[0],alt:x.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center text-gray-500",children:"No img"})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(s=x.product_id)||void 0===s?void 0:s.name)||"Unknown Product"}),(0,An.jsx)("div",{className:"text-sm text-gray-500",children:(null===(o=x.product_details)||void 0===o?void 0:o.description)||""})]})]})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(i=x.product_id)||void 0===i||null===(l=i.price)||void 0===l?void 0:l.toFixed(2))||(null===(c=x.subtotalAmount)||void 0===c?void 0:c.toFixed(2))||"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1"}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(null===(d=x.subtotalAmount)||void 0===d?void 0:d.toFixed(2))||"0.00"]})]})}),(0,An.jsxs)("tfoot",{className:"bg-gray-50",children:[(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{colSpan:"3",className:"px-6 py-4 text-sm text-right font-medium",children:"Subtotal"}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(null===(u=x.subtotalAmount)||void 0===u?void 0:u.toFixed(2))||"0.00"]})]}),(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{colSpan:"3",className:"px-6 py-4 text-sm text-right font-medium",children:"Delivery Charge"}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(null===(h=x.deliveryCharge)||void 0===h?void 0:h.toFixed(2))||"0.00"]})]}),(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{colSpan:"3",className:"px-6 py-4 text-sm text-right font-medium",children:"Total"}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["$",(null===(f=x.totalAmount)||void 0===f?void 0:f.toFixed(2))||"0.00"]})]})]})]})})]}),(0,An.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Timeline"}),(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,An.jsxs)("div",{className:"space-y-6 relative",children:[(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-500 flex items-center justify-center z-10",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Order Placed"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:S(x.createdAt)})]})]}),"pending"!==x.deliverystatus&&(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${"cancelled"===x.deliverystatus?"bg-red-500":"bg-blue-500"} flex items-center justify-center z-10`,children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"cancelled"===x.deliverystatus?"Order Cancelled":"Order Accepted"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:x.statusUpdatedAt?S(x.statusUpdatedAt):"Date not available"})]})]}),("dispatched"===x.deliverystatus||"delivered"===x.deliverystatus)&&(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center z-10",children:(0,An.jsxs)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),(0,An.jsx)("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2.05a2.5 2.5 0 014.9 0H19a1 1 0 001-1v-4a1 1 0 00-1-1h-8a1 1 0 00-.8.4L8.4 8H5V5a1 1 0 00-1-1H3z"})]})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Order Dispatched"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:x.dispatchDate?S(x.dispatchDate):"Date not available"})]})]}),"delivered"===x.deliverystatus&&(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-500 flex items-center justify-center z-10",children:(0,An.jsx)("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Order Delivered"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:x.deliveryDate?S(x.deliveryDate):"Date not available"})]})]})]})]})]}),(0,An.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-between",children:[(0,An.jsxs)(Pe,{to:"/manager/orders",className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Orders"]}),"delivered"!==x.deliverystatus&&"cancelled"!==x.deliverystatus&&(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>k("dispatched"),className:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded flex items-center",disabled:w||"dispatched"===x.deliverystatus,children:[(0,An.jsxs)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),(0,An.jsx)("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2.05a2.5 2.5 0 014.9 0H19a1 1 0 001-1v-4a1 1 0 00-1-1h-8a1 1 0 00-.8.4L8.4 8H5V5a1 1 0 00-1-1H3z"})]}),"Mark as Dispatched"]}),(0,An.jsxs)("button",{onClick:()=>k("delivered"),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",disabled:w,children:[(0,An.jsx)("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Mark as Delivered"]})]})]})]})]}):(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,An.jsx)("p",{className:"text-gray-500",children:"Order not found."}),(0,An.jsx)("button",{onClick:()=>m("/manager/orders"),className:"mt-4 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded",children:"Return to Orders"})]})})};var qk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hk=a.createContext&&a.createContext(qk),Wk=["attr","size","title"];function Vk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yk(Object(r),!0).forEach((function(t){Gk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e){return e&&e.map(((e,t)=>a.createElement(e.tag,Xk({key:t},e.attr),Qk(e.child))))}function Jk(e){return t=>a.createElement(Zk,Kk({attr:Xk({},e.attr)},t),Qk(e.child))}function Zk(e){var t=t=>{var r,{attr:n,size:s,title:o}=e,i=Vk(e,Wk),l=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",Kk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:r,style:Xk(Xk({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==Hk?a.createElement(Hk.Consumer,null,(e=>t(e))):t(qk)}function eS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function tS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function rS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function nS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function aS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function sS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function oS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function iS(e){return Jk({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const lS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)(1),[m,x]=(0,a.useState)("name"),[g,y]=(0,a.useState)("asc");(0,a.useEffect)((()=>{(async()=>{try{await v()}catch(s){await j()}})()}),[u,c,m,g]);const v=async()=>{try{n(!0),o(null);const s=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user"));if(!s)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);if(!f||!f.franchise)return o("No franchise assigned to this manager."),dt.error("No franchise assigned"),void n(!1);let x=`http://localhost:8080/api/franchises/${f.franchise}/customers?page=${u}`;c.trim()&&(x+=`&search=${encodeURIComponent(c.trim())}`),x+=`&sortBy=${m}&sortOrder=${g}`,console.log("Fetching customers from:",x);try{const e=await On.get(x,{headers:{Authorization:`Bearer ${s}`}});var r;if(e.data&&e.data.success)return t(e.data.customers||[]),p((null===(r=e.data.pagination)||void 0===r?void 0:r.pages)||1),e.data.customers&&0===e.data.customers.length&&u>1&&h(1),void n(!1)}catch(l){console.log("Franchise-specific endpoint failed:",l),l.response&&403===l.response.status?console.log("Permission denied (403), automatically trying orders fallback"):console.log("Franchise-specific endpoint failed for a reason other than permissions, trying general users endpoint")}if(console.log("Franchise-specific endpoint failed, trying to get customers from orders"),await j(),0===e.length)try{const e=`http://localhost:8080/api/users?role=user&page=${u}`;console.log("No customers found from orders, trying users endpoint:",e);const r=await On.get(e,{headers:{Authorization:`Bearer ${s}`}});if(r.data&&r.data.success){var a;console.log("Fallback users data:",r.data);const e=r.data.users||[];t(e),p((null===(a=r.data.pagination)||void 0===a?void 0:a.pages)||1)}else{var i;o((null===(i=r.data)||void 0===i?void 0:i.message)||"Failed to fetch customers"),dt.error("Failed to fetch customers")}}catch(d){console.error("Error fetching users:",d),console.log("Permission denied for direct customer access, automatically trying orders fallback"),o(null),await j()}}catch(s){console.error("Fetch customers error:",s),b(s,"An error occurred while fetching customers")}finally{n(!1)}},b=(e,t)=>{let r=t;if(e.response){var n;const t=e.response.status,a=(null===(n=e.response.data)||void 0===n?void 0:n.message)||"";if(401===t)r="Authentication failed. Please log in again.";else{if(403===t)return j(),void o(null);r=404===t?"Customer data not found.":500===t?`Server error: ${a||"Internal server error"}`:`Error (${t}): ${a||r}`}}else r=e.request?"No response from server. Please check your network connection.":`Request error: ${e.message}`;o(r),dt.error(r)},j=async()=>{try{const e=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user"));if(!e||!r||!r.franchise)return;const a=`http://localhost:8080/api/franchises/${r.franchise}/orders?limit=100`;console.log("Fetching customers from orders:",a);const s=await On.get(a,{headers:{Authorization:`Bearer ${e}`}});if(s.data&&s.data.success&&s.data.orders){const e=new Map;s.data.orders.forEach((t=>{let r=null,n=null;if(t.user_id?(r="object"===typeof t.user_id?t.user_id._id:t.user_id,n="object"===typeof t.user_id?t.user_id:{_id:t.user_id}):t.user?(r="object"===typeof t.user?t.user._id:t.user,n="object"===typeof t.user?t.user:{_id:t.user}):t.customer&&(r="object"===typeof t.customer?t.customer._id:t.customer,n="object"===typeof t.customer?t.customer:{_id:t.customer}),r&&!e.has(r)){const a={_id:r,name:n.name||`Customer #${r.substring(0,8)}`,email:n.email||"Email not available",createdAt:n.createdAt||t.createdAt,orderCount:1};e.set(r,a)}else if(r&&e.has(r)){const t=e.get(r);t.orderCount=(t.orderCount||0)+1,e.set(r,t)}}));const r=Array.from(e.values());console.log(`Extracted ${r.length} unique customers from orders`),r.sort(((e,t)=>{if("name"===m)return"asc"===g?e.name.localeCompare(t.name):t.name.localeCompare(e.name);if("email"===m)return"asc"===g?(e.email||"").localeCompare(t.email||""):(t.email||"").localeCompare(e.email||"");if("createdAt"===m){const r=new Date(e.createdAt||0),n=new Date(t.createdAt||0);return"asc"===g?r-n:n-r}return 0})),t(r),p(1),o(null),l(!0),n(!1)}}catch(s){console.error("Error fetching customers from orders:",s),o("Could not retrieve customer information. Please try again later."),dt.error("Failed to load customer data"),n(!1)}},w=e=>{m===e?y("asc"===g?"desc":"asc"):(x(e),y("asc")),h(1)};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("div",{className:"mb-6",children:(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),(0,An.jsxs)("button",{onClick:()=>v(),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]})]})}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h(1)},className:"flex",children:[(0,An.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Search by name or email",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,An.jsxs)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-r flex items-center",children:[(0,An.jsx)(sS,{className:"mr-2"}),"Search"]})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:s})]}),(0,An.jsxs)("div",{className:"flex space-x-4",children:[(0,An.jsxs)("button",{onClick:()=>v(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Try Again"]}),(0,An.jsxs)("button",{onClick:()=>j(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Show Customers from Orders"]})]})]}):0===e.length?(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6 text-center",children:(0,An.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,An.jsx)(iS,{className:"text-gray-400 text-5xl mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No customers found"}),(0,An.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c?`No results for "${c}"`:"There are no customers in your franchise yet."}),c&&(0,An.jsx)("button",{onClick:()=>d(""),className:"mt-4 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Clear search"})]})}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("name"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Customer","name"===m&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===g?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("email"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Email","email"===m&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===g?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("createdAt"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Joined","createdAt"===m&&(0,An.jsx)("span",{className:"ml-1",children:"asc"===g?"\u2191":"\u2193"})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,An.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.img_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random`,alt:e.name})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.phone&&(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(rS,{className:"text-gray-400 mr-2"}),e.email]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.createdAt,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(oS,{className:"text-gray-400 mr-2"}),e.orderCount||0]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/manager/customers/${e._id}`,className:"text-green-600 hover:text-green-900",children:"View Details"})})]},e._id);var t}))})]})}),f>1&&(0,An.jsx)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:(0,An.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,An.jsx)("span",{className:"font-medium",children:u})," of ",(0,An.jsx)("span",{className:"font-medium",children:f})]})}),(0,An.jsx)("div",{children:(0,An.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,An.jsxs)("button",{onClick:()=>h((e=>Math.max(e-1,1))),disabled:1===u,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium "+(1===u?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Previous"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(f).keys()].map((e=>(0,An.jsx)("button",{onClick:()=>h(e+1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium "+(u===e+1?"z-10 bg-green-50 border-green-500 text-green-600":"text-gray-500 hover:bg-gray-50"),children:e+1},e+1))),(0,An.jsxs)("button",{onClick:()=>h((e=>Math.min(e+1,f))),disabled:u===f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium "+(u===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,An.jsx)("span",{className:"sr-only",children:"Next"}),(0,An.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})})]})]})},cS=()=>{const{customerId:e}=te(),t=ee(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1);(0,a.useEffect)((()=>{f(),p()}),[e]);const f=async()=>{try{l(!0);const s=localStorage.getItem("token"),o=JSON.parse(localStorage.getItem("user"));if(!s||!o||!o.franchise)return dt.error("Authentication required"),void t("/manager/login");console.log("Fetching customer details for ID:",e);try{const t=await On.get(`http://localhost:8080/api/users/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(t.data&&t.data.success)return console.log("Customer data from API:",t.data.user),n(t.data.user),void l(!1)}catch(r){console.error("Error fetching from users endpoint:",r)}try{const t=await On.get(`http://localhost:8080/api/franchises/${o.franchise}/customers/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(t.data&&t.data.success)return console.log("Customer data from franchise API:",t.data.customer),n(t.data.customer),void l(!1)}catch(a){console.error("Error fetching from franchise customers endpoint:",a)}console.log("Both user endpoints failed, trying to get customer from orders"),await x(),d("Customer information could not be found"),dt.error("Failed to fetch customer details")}catch(c){console.error("Fetch customer error:",c),m(c,"Failed to fetch customer details")}finally{l(!1)}},p=async()=>{try{const t=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user"));if(!t||!r||!r.franchise)return;const n=await On.get(`http://localhost:8080/api/franchises/${r.franchise}/orders?customer=${e}`,{headers:{Authorization:`Bearer ${t}`}});n.data&&n.data.success&&o(n.data.orders||[])}catch(c){console.error("Fetch customer orders error:",c)}},m=(e,r)=>{let n=r,a=!0;if(e.response){var s;const r=e.response.status,o=(null===(s=e.response.data)||void 0===s?void 0:s.message)||"";if(401===r)n="Authentication failed. Please log in again.",t("/manager/login");else{if(403===r)return n="Direct access to customer data is restricted. Showing limited customer information.",a=!1,void x();n=404===r?"Customer not found.":500===r?`Server error: ${o||"Internal server error"}`:`Error (${r}): ${o||n}`}}else n=e.request?"No response from server. Please check your network connection.":`Request error: ${e.message}`;d(n),a?dt.error(n):dt.info(n)},x=async()=>{try{const t=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user"));if(!t||!r||!r.franchise)return;const a=`http://localhost:8080/api/franchises/${r.franchise}/orders?customer=${e}&limit=10`;console.log("Fetching customer from orders:",a);const s=await On.get(a,{headers:{Authorization:`Bearer ${t}`}});if(s.data&&s.data.success&&s.data.orders&&s.data.orders.length>0){const t=s.data.orders[0];let r=null;if(t.user_id&&"object"===typeof t.user_id?r=t.user_id:t.user&&"object"===typeof t.user?r=t.user:t.customer&&"object"===typeof t.customer&&(r=t.customer),r){const a={_id:e,name:r.name||`Customer #${e.substring(0,8)}`,email:r.email||"Email not available",phone:r.phone||null,address:r.address||null,createdAt:r.createdAt||t.createdAt,orderCount:s.data.orders.length};console.log("Created customer object from orders:",a),n(a),o(s.data.orders),l(!1),d(null),h(!0)}else n({_id:e,name:`Customer #${e.substring(0,8)}`,email:"Email not available",createdAt:t.createdAt,orderCount:s.data.orders.length}),o(s.data.orders),l(!1),d(null),h(!0)}else d("No orders found for this customer"),l(!1)}catch(c){console.error("Error fetching customer from orders:",c),d("Could not retrieve customer information from orders"),l(!1)}},g=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)(Pe,{to:"/manager/orders",className:"inline-flex items-center text-green-600 hover:text-green-800",children:[(0,An.jsx)(eS,{className:"mr-2"}),"Back to Orders"]}),(0,An.jsx)(Pe,{to:"/manager/customers",className:"inline-flex items-center text-green-600 hover:text-green-800",children:"View All Customers"})]}),u&&(0,An.jsx)("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4",role:"alert",children:(0,An.jsxs)("div",{className:"flex",children:[(0,An.jsx)("div",{className:"py-1",children:(0,An.jsx)("svg",{className:"h-6 w-6 text-blue-500 mr-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"font-bold",children:"Limited Customer Data Access"}),(0,An.jsx)("p",{className:"text-sm",children:"Direct access to customer data is restricted. Showing limited customer information extracted from orders."})]})]})})]}),i?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):c?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:c})]}),(0,An.jsx)("button",{onClick:()=>t("/manager/orders"),className:"mt-4 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded",children:"Return to Orders"})]}):r?(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"bg-green-600 p-4 text-white",children:(0,An.jsx)("h2",{className:"text-xl font-bold",children:"Customer Profile"})}),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("div",{className:"flex justify-center mb-6",children:(0,An.jsx)("div",{className:"h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:r.img_url?(0,An.jsx)("img",{src:r.img_url,alt:r.name||"Customer",className:"h-full w-full object-cover"}):(0,An.jsx)("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name||"Customer")}&size=96&background=random`,alt:r.name||"Customer",className:"h-full w-full object-cover"})})}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(iS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,An.jsx)("p",{className:"font-medium",children:r.name||"Name not available"})]})]}),(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(rS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,An.jsx)("p",{className:"font-medium",children:r.email||"Email not available"})]})]}),r.phone&&(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(aS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,An.jsx)("p",{className:"font-medium",children:r.phone})]})]}),r.address&&(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(nS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,An.jsx)("p",{className:"font-medium",children:r.address})]})]}),r.createdAt?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(tS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,An.jsx)("p",{className:"font-medium",children:(v=r.createdAt,new Date(v).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))})]})]}):(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(tS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,An.jsx)("p",{className:"font-medium",children:"Date not available"})]})]}),(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(oS,{className:"text-gray-500 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,An.jsx)("p",{className:"font-medium",children:s.length})]})]})]})]})]}),(0,An.jsx)("div",{className:"lg:col-span-2",children:(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"bg-green-600 p-4 text-white",children:(0,An.jsx)("h2",{className:"text-xl font-bold",children:"Order History"})}),s.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(e._id.length-8)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(e.createdAt)}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.product_id?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.product_id.image&&e.product_id.image.length>0?(0,An.jsx)("img",{src:e.product_id.image[0],alt:e.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center text-gray-500",children:"No img"})}),(0,An.jsx)("div",{className:"ml-4",children:(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product_id.name})})]}):(0,An.jsx)("span",{className:"text-gray-400",children:"Product unavailable"})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.totalAmount.toFixed(2)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/manager/orders/${e._id}`,className:"text-green-600 hover:text-green-900",children:"View"})})]},e._id)))})]})}):(0,An.jsx)("div",{className:"p-6 text-center text-gray-500",children:(0,An.jsx)("p",{children:"No orders found for this customer."})})]})})]}):(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 text-center",children:[(0,An.jsx)("p",{className:"text-gray-500",children:"Customer not found."}),(0,An.jsx)("button",{onClick:()=>t("/manager/orders"),className:"mt-4 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded",children:"Return to Orders"})]})]});var v},dS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(1),[f,p]=(0,a.useState)("all"),[m,x]=(0,a.useState)([]),[g,y]=(0,a.useState)("name"),[v,b]=(0,a.useState)("asc"),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)({quantity:0,lowStockThreshold:0}),[S,O]=(0,a.useState)("list"),[C,_]=(0,a.useState)(!1);(0,a.useEffect)((()=>{E(),A()}),[]),(0,a.useEffect)((()=>{P()}),[f,i,c,g,v]);const A=async()=>{try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!e||!t||!t.franchise)return;const r=await On.get(`http://localhost:8080/api/franchise-stock/franchise/${t.franchise}?limit=1`,{headers:{Authorization:`Bearer ${e}`}});if(r.data&&r.data.success){if(0===(r.data.stockItems||[]).length){const t=await On.get("http://localhost:8080/api/products?limit=1",{headers:{Authorization:`Bearer ${e}`}});t.data&&t.data.success&&(t.data.products&&t.data.products.length>0?(_(!0),console.log("Products exist in system but none assigned to this franchise")):(_(!0),console.log("No products available in the system")))}else _(!1),console.log("Products are assigned to this franchise")}const n=await On.get("http://localhost:8080/api/categories",{headers:{Authorization:`Bearer ${e}`}});if(n.data&&n.data.success){const e=n.data.categories||[];console.log("Initial categories check:",e.length,"categories found")}}catch(s){console.error("Error checking product availability:",s)}},P=async()=>{try{n(!0),o(null);const r=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user"));if(!r)return o("Authentication token not found. Please log in again."),dt.error("Authentication required"),void n(!1);if(!a||!a.franchise)return o("No franchise assigned to this manager."),dt.error("No franchise assigned"),void n(!1);let l=`http://localhost:8080/api/franchise-stock/franchise/${a.franchise}`;const u=[];i.trim()&&u.push(`search=${encodeURIComponent(i.trim())}`),"all"!==f&&u.push(`category=${encodeURIComponent(f)}`),g&&(u.push(`sortBy=${encodeURIComponent(g)}`),u.push(`sortOrder=${encodeURIComponent(v)}`)),u.push(`page=${c}`),u.push("limit=20"),u.length>0&&(l+=`?${u.join("&")}`),console.log("Fetching inventory with URL:",l);const p=await On.get(l,{headers:{Authorization:`Bearer ${r}`}});if(p.data&&p.data.success){const e=p.data.stockItems||[];if(0===e.length&&!i&&"all"===f){try{const e=await On.get("http://localhost:8080/api/products?limit=1",{headers:{Authorization:`Bearer ${r}`}});e.data&&e.data.success&&(e.data.products&&e.data.products.length>0?(_(!0),t([]),h(1),console.log("Products exist in system but none assigned to this franchise")):(_(!0),t([]),h(1),console.log("No products in the system at all")))}catch(s){console.error("Error checking product availability:",s),_(!0),t([]),h(1)}return}_(!1);const n=await Promise.all(e.map((async e=>{let t=e.product.category;if(t&&"string"===typeof t)try{const e=await On.get(`http://localhost:8080/api/categories/${t}`,{headers:{Authorization:`Bearer ${r}`}});e.data&&e.data.success&&(t=e.data.category)}catch(s){console.error("Error fetching category details:",s)}return{_id:e.product._id,name:e.product.name,price:e.product.price,image:e.product.image,category:t,quantity:e.quantity,lowStockThreshold:e.product.lowStockThreshold||5,stockId:e._id,lastUpdated:e.lastUpdated}})));t(n),p.data.totalPages?h(p.data.totalPages):h(Math.ceil(n.length/20)),console.log("Loaded products:",n.length),console.log("Category filter:",f);const a=n.map((e=>{var t;return null===(t=e.category)||void 0===t?void 0:t._id})).filter(Boolean);console.log("Product category IDs:",a),0===n.length&&c>1&&d(1)}else{var e;o((null===(e=p.data)||void 0===e?void 0:e.message)||"Failed to fetch inventory"),dt.error("Failed to fetch inventory")}}catch(s){console.error("Fetch inventory error:",s),M(s,"An error occurred while fetching inventory")}finally{n(!1)}},E=async()=>{try{const t=localStorage.getItem("token");if(!t)return;const r=await On.get("http://localhost:8080/api/categories",{headers:{Authorization:`Bearer ${t}`}});if(r.data&&r.data.success){const n=r.data.categories||[];x(n),console.log("Fetched categories:",n);try{const e=await On.get("http://localhost:8080/api/categories/stats/products-count",{headers:{Authorization:`Bearer ${t}`}});e.data&&e.data.success&&console.log("Category product counts:",e.data.categoriesWithCount)}catch(e){console.error("Error fetching category stats:",e)}}}catch(s){console.error("Fetch categories error:",s)}},M=(e,t)=>{let r=t;if(T(e))r="Network error: Unable to connect to the server. Please check your internet connection and try again.";else if(e.response){var n;const t=e.response.status,a=(null===(n=e.response.data)||void 0===n?void 0:n.message)||"";r=401===t?"Authentication failed. Please log in again.":403===t?"You do not have permission to access inventory data.":404===t?"Inventory data not found.":500===t?`Server error: ${a||"Internal server error"}`:`Error (${t}): ${a||r}`}else r=e.request?"No response from server. Please check your network connection.":`Request error: ${e.message}`;o(r),dt.error(r)},T=e=>"Network Error"===e.message||e.request&&!e.response||"ECONNABORTED"===e.code||e.response&&(0===e.response.status||502===e.response.status||503===e.response.status||504===e.response.status),I=()=>{const t=JSON.parse(JSON.stringify(e)),r={};m.forEach((e=>{r[e._id]={categoryInfo:e,products:[]}})),r.uncategorized={categoryInfo:{_id:"uncategorized",name:"Uncategorized"},products:[]},t.forEach((e=>{console.log("Processing product:",e.name,"Category:",e.category),e.category&&e.category._id?r[e.category._id]?r[e.category._id].products.push(e):(console.log("Category not found in groupedProducts:",e.category._id),r[e.category._id]={categoryInfo:{_id:e.category._id,name:e.category.name||"Unknown Category"},products:[e]}):r.uncategorized.products.push(e)})),console.log("Grouped products:",r);const n=Object.values(r).filter((e=>e.products.length>0)).sort(((e,t)=>e.categoryInfo.name.localeCompare(t.categoryInfo.name)));return console.log("Categorized products:",n),n},D=e=>{e.preventDefault(),d(1)},R=e=>{g===e?b("asc"===v?"desc":"asc"):(y(e),b("asc")),d(1)},L=()=>{l(""),p("all"),y("name"),b("asc"),d(1)},F=e=>{w(e._id),k({quantity:e.quantity||0,lowStockThreshold:e.lowStockThreshold||5})},z=()=>{w(null),k({quantity:0,lowStockThreshold:0})},B=e=>{const{name:t,value:r}=e.target;k({...N,[t]:parseInt(r,10)||0})},$=async r=>{try{const a=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user"));if(!a||!s||!s.franchise)return void dt.error("Authentication required");const o=e.find((e=>e._id===r));if(!o)return void dt.error("Product not found");const i=N.quantity-o.quantity,l=i>=0,c={quantity:Math.abs(i),isAddition:l},d=await On.put(`http://localhost:8080/api/franchise-stock/franchise/${s.franchise}/product/${r}`,c,{headers:{Authorization:`Bearer ${a}`}});var n;if(d.data&&d.data.success)dt.success("Inventory updated successfully"),t((e=>e.map((e=>e._id===r?{...e,quantity:N.quantity,lowStockThreshold:N.lowStockThreshold,lastUpdated:(new Date).toISOString()}:e)))),z();else dt.error((null===(n=d.data)||void 0===n?void 0:n.message)||"Failed to update inventory")}catch(s){console.error("Update inventory error:",s),M(s,"Failed to update inventory")}},U=e=>e.quantity&&0!==e.quantity?e.quantity<=e.lowStockThreshold?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800",q=e=>e.quantity&&0!==e.quantity?e.quantity<=e.lowStockThreshold?"Low Stock":"In Stock":"Out of Stock";return(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Inventory Management"}),(0,An.jsx)("button",{onClick:()=>P(),className:"ml-4 bg-gray-200 hover:bg-gray-300 text-gray-700 p-2 rounded-full",title:"Refresh inventory",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("div",{className:"mr-4 flex items-center bg-gray-100 rounded-lg p-1",children:[(0,An.jsxs)("button",{onClick:()=>O("list"),className:"px-3 py-1 rounded-md text-sm "+("list"===S?"bg-white shadow-sm text-green-700":"text-gray-600 hover:text-gray-800"),children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline-block mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"List View"]}),(0,An.jsxs)("button",{onClick:()=>O("category"),className:"px-3 py-1 rounded-md text-sm "+("category"===S?"bg-white shadow-sm text-green-700":"text-gray-600 hover:text-gray-800"),children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline-block mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),"Category View"]})]}),(0,An.jsxs)("button",{onClick:()=>P(),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]}),(i||"all"!==f||"name"!==g||"asc"!==v)&&(0,An.jsxs)("button",{onClick:L,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Clear Filters"]})]})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsx)("div",{children:(0,An.jsxs)("form",{onSubmit:D,className:"flex",children:[(0,An.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&D(e),placeholder:"Search by product name or SKU",className:"flex-1 border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,An.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-r",children:"Search"})]})}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("select",{value:f,onChange:e=>{p(e.target.value),d(1),console.log("Category filter changed to:",e.target.value)},className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,An.jsx)("option",{value:"all",children:"All Categories"}),m.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,An.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[m.length," categories available"]})]})]})}),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:s})]}),(0,An.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,An.jsxs)("button",{onClick:()=>P(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,An.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Try Again"]}),(0,An.jsx)("button",{onClick:L,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Reset Filters"})]})]}):0===e.length?(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:C?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No Products Available"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"No products have been assigned to your franchise inventory by the administrator."}),(0,An.jsxs)("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 text-blue-700",children:[(0,An.jsx)("p",{className:"font-bold",children:"What to do next:"}),(0,An.jsxs)("ul",{className:"list-disc list-inside mt-2 text-left",children:[(0,An.jsx)("li",{children:"Contact your administrator to request product assignments"}),(0,An.jsx)("li",{children:"The admin needs to add products to the system and assign them to your franchise"}),(0,An.jsx)("li",{children:"Once products are assigned, they will appear in your inventory"}),(0,An.jsx)("li",{children:"You can then manage stock levels for your franchise"})]})]}),(0,An.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700",children:[(0,An.jsx)("p",{className:"font-bold",children:"Important:"}),(0,An.jsx)("p",{className:"mt-1",children:"Your inventory will remain empty until the administrator assigns products to your franchise. You cannot add products directly - this must be done by an administrator."})]}),(0,An.jsxs)("button",{onClick:()=>P(),className:"mt-6 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded inline-flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Check Again"]})]}):(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No products found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"all"!==f?"There are no products in this category.":i?`No products match "${i}"`:"There are no products in your franchise inventory yet."})]})}):"list"===S?(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>R("name"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Product","name"===g&&(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-4 w-4 "+("asc"===v?"":"transform rotate-180"),viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>R("price"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Price","price"===g&&(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-4 w-4 "+("asc"===v?"":"transform rotate-180"),viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>R("quantity"),children:(0,An.jsxs)("div",{className:"flex items-center",children:["Quantity","quantity"===g&&(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-4 w-4 "+("asc"===v?"":"transform rotate-180"),viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Low Stock Threshold"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku||"N/A"]})]})]})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category?e.category.name:"Uncategorized"}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.price?e.price.toFixed(2):"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j===e._id?(0,An.jsx)("input",{type:"number",name:"quantity",min:"0",value:N.quantity,onChange:B,className:"w-20 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-green-500"}):e.quantity||0}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U(e)}`,children:q(e)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j===e._id?(0,An.jsx)("input",{type:"number",name:"lowStockThreshold",min:"1",value:N.lowStockThreshold,onChange:B,className:"w-20 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-green-500"}):e.lowStockThreshold||5}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:j===e._id?(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{onClick:()=>$(e._id),className:"text-green-600 hover:text-green-900",children:"Save"}),(0,An.jsx)("button",{onClick:z,className:"text-red-600 hover:text-red-900",children:"Cancel"})]}):(0,An.jsx)("button",{onClick:()=>F(e),className:"text-green-600 hover:text-green-900",children:"Update"})})]},e._id)))})]})})}):(0,An.jsx)("div",{className:"space-y-8",children:0===I().length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No categorized products found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"There are no products with categories in your inventory."})]}):I().map((e=>(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsxs)("div",{className:"bg-green-700 text-white px-6 py-3 flex justify-between items-center",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold",children:e.categoryInfo.name}),(0,An.jsxs)("span",{className:"bg-white text-green-700 text-xs font-bold px-2 py-1 rounded-full",children:[e.products.length," ",1===e.products.length?"Product":"Products"]})]}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Low Stock Threshold"}),(0,An.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.products.map((e=>(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,An.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku||"N/A"]})]})]})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.price?e.price.toFixed(2):"0.00"]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j===e._id?(0,An.jsx)("input",{type:"number",name:"quantity",min:"0",value:N.quantity,onChange:B,className:"w-20 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-green-500"}):e.quantity||0}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U(e)}`,children:q(e)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j===e._id?(0,An.jsx)("input",{type:"number",name:"lowStockThreshold",min:"1",value:N.lowStockThreshold,onChange:B,className:"w-20 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-green-500"}):e.lowStockThreshold||5}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:j===e._id?(0,An.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,An.jsx)("button",{onClick:()=>$(e._id),className:"text-green-600 hover:text-green-900",children:"Save"}),(0,An.jsx)("button",{onClick:z,className:"text-red-600 hover:text-red-900",children:"Cancel"})]}):(0,An.jsx)("button",{onClick:()=>F(e),className:"text-green-600 hover:text-green-900",children:"Update"})})]},e._id)))})]})})]},e.categoryInfo._id)))}),(0,An.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:(0,An.jsxs)("p",{className:"text-sm text-gray-700 text-center",children:["Showing ",e.length," items"]})})]})},uS=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)("sales"),[i,l]=(0,a.useState)("week"),[c,d]=(0,a.useState)({from:"",to:""}),[u,h]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),v=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#8dd1e1"],b=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),j=(0,a.useCallback)((async()=>{try{t(!0),n(null);const r=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user"));if(!r)return n("Authentication token not found. Please log in again."),dt.error("Authentication required"),void t(!1);if(!a||!a.franchise)return n("No franchise assigned to this manager."),dt.error("No franchise assigned"),void t(!1);let o,l;const d=new Date;"week"===i?(o=new Date(d),o.setDate(d.getDate()-7)):"month"===i?(o=new Date(d),o.setMonth(d.getMonth()-1)):"quarter"===i?(o=new Date(d),o.setMonth(d.getMonth()-3)):"year"===i?(o=new Date(d),o.setFullYear(d.getFullYear()-1)):"custom"===i&&c.from&&c.to&&(o=new Date(c.from),l=new Date(c.to)),l||(l=new Date(d));const u=o.toISOString().split("T")[0],f=l.toISOString().split("T")[0];try{let e;switch(s){case"sales":default:e=`http://localhost:8080/api/franchises/${a.franchise}/reports/sales?from=${u}&to=${f}`;break;case"products":e=`http://localhost:8080/api/franchises/${a.franchise}/reports/products?from=${u}&to=${f}`;break;case"categories":e=`http://localhost:8080/api/franchises/${a.franchise}/reports/categories?from=${u}&to=${f}`;break;case"inventory":e=`http://localhost:8080/api/franchises/${a.franchise}/reports/inventory`}const n=await On.get(e,{headers:{Authorization:`Bearer ${r}`}});if(n.data.success){switch(s){case"sales":default:h(n.data.data);break;case"products":p(n.data.data);break;case"categories":x(n.data.data);break;case"inventory":y(n.data.data)}return void t(!1)}}catch(e){console.log("API endpoints not available, using mock data instead:",e)}if("sales"===s){const e=[];for(let t=0;t<30;t++){const r=new Date(d);r.setDate(d.getDate()-(29-t)),e.push({date:r.toISOString().split("T")[0],revenue:Math.floor(5e3*Math.random())+1e3,orders:Math.floor(20*Math.random())+5})}h(e)}else if("products"===s){const e=[{name:"Aspirin",sales:Math.floor(1e3*Math.random())+500},{name:"Ibuprofen",sales:Math.floor(1e3*Math.random())+500},{name:"Paracetamol",sales:Math.floor(1e3*Math.random())+500},{name:"Vitamin C",sales:Math.floor(1e3*Math.random())+500},{name:"Vitamin D",sales:Math.floor(1e3*Math.random())+500},{name:"Zinc Supplement",sales:Math.floor(1e3*Math.random())+500},{name:"Cough Syrup",sales:Math.floor(1e3*Math.random())+500},{name:"Allergy Relief",sales:Math.floor(1e3*Math.random())+500}];p(e)}else if("categories"===s){const e=[{name:"Pain Relief",value:Math.floor(5e3*Math.random())+2e3},{name:"Vitamins",value:Math.floor(5e3*Math.random())+2e3},{name:"Cold & Flu",value:Math.floor(5e3*Math.random())+2e3},{name:"Digestive Health",value:Math.floor(5e3*Math.random())+2e3},{name:"First Aid",value:Math.floor(5e3*Math.random())+2e3}];x(e)}else if("inventory"===s){const e=[{name:"Aspirin",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Ibuprofen",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Paracetamol",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Vitamin C",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Vitamin D",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Zinc Supplement",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Cough Syrup",inStock:Math.floor(100*Math.random())+50,lowStock:20},{name:"Allergy Relief",inStock:Math.floor(100*Math.random())+50,lowStock:20}];y(e)}}catch(r){console.error("Report data error:",r),n("An error occurred while generating report data"),dt.error("Failed to load report data")}finally{t(!1)}}),[s,i,c]);return(0,a.useEffect)((()=>{j()}),[j]),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Franchise Reports"}),(0,An.jsxs)("button",{onClick:()=>j(),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]})]}),(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg mb-6",children:[(0,An.jsxs)("div",{className:"flex border-b",children:[(0,An.jsx)("button",{className:"px-4 py-2 text-sm font-medium "+("sales"===s?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"),onClick:()=>o("sales"),children:"Sales"}),(0,An.jsx)("button",{className:"px-4 py-2 text-sm font-medium "+("products"===s?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"),onClick:()=>o("products"),children:"Products"}),(0,An.jsx)("button",{className:"px-4 py-2 text-sm font-medium "+("categories"===s?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"),onClick:()=>o("categories"),children:"Categories"}),(0,An.jsx)("button",{className:"px-4 py-2 text-sm font-medium "+("inventory"===s?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"),onClick:()=>o("inventory"),children:"Inventory"})]}),"inventory"!==s&&(0,An.jsx)("div",{className:"p-4 border-b",children:(0,An.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,An.jsx)("div",{className:"font-medium text-sm text-gray-700",children:"Date Range:"}),(0,An.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,An.jsx)("button",{className:"px-3 py-1 text-xs rounded-full "+("week"===i?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>l("week"),children:"Last 7 Days"}),(0,An.jsx)("button",{className:"px-3 py-1 text-xs rounded-full "+("month"===i?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>l("month"),children:"Last 30 Days"}),(0,An.jsx)("button",{className:"px-3 py-1 text-xs rounded-full "+("quarter"===i?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>l("quarter"),children:"Last 90 Days"}),(0,An.jsx)("button",{className:"px-3 py-1 text-xs rounded-full "+("year"===i?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>l("year"),children:"Last Year"}),(0,An.jsx)("button",{className:"px-3 py-1 text-xs rounded-full "+("custom"===i?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>l("custom"),children:"Custom"})]}),"custom"===i&&(0,An.jsxs)("div",{className:"flex flex-wrap gap-2 items-center mt-2 w-full",children:[(0,An.jsxs)("div",{className:"flex items-center gap-2",children:[(0,An.jsx)("label",{className:"text-sm text-gray-700",children:"From:"}),(0,An.jsx)("input",{type:"date",value:c.from,onChange:e=>d({...c,from:e.target.value}),className:"border rounded px-2 py-1 text-sm"})]}),(0,An.jsxs)("div",{className:"flex items-center gap-2",children:[(0,An.jsx)("label",{className:"text-sm text-gray-700",children:"To:"}),(0,An.jsx)("input",{type:"date",value:c.to,onChange:e=>d({...c,to:e.target.value}),className:"border rounded px-2 py-1 text-sm"})]}),(0,An.jsx)("button",{onClick:()=>j(),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",disabled:!c.from||!c.to,children:"Apply"})]})]})}),(0,An.jsx)("div",{className:"p-4",children:e?(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):r?(0,An.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[(0,An.jsx)("p",{className:"font-bold",children:"Error"}),(0,An.jsx)("p",{children:r})]}):(0,An.jsxs)("div",{children:["sales"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Sales Overview"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,An.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,An.jsx)("p",{className:"text-2xl font-bold",children:b(u.reduce(((e,t)=>e+t.revenue),0))})]}),(0,An.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,An.jsx)("p",{className:"text-2xl font-bold",children:u.reduce(((e,t)=>e+t.orders),0)})]}),(0,An.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Average Order Value"}),(0,An.jsx)("p",{className:"text-2xl font-bold",children:b(u.reduce(((e,t)=>e+t.revenue),0)/u.reduce(((e,t)=>e+t.orders),0)||0)})]})]}),(0,An.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[(0,An.jsx)("h3",{className:"text-md font-semibold mb-4",children:"Revenue Trend"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(fN,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"date"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{formatter:e=>b(e)}),(0,An.jsx)(wi,{}),(0,An.jsx)(bw,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",activeDot:{r:8},name:"Revenue"})]})})})]}),(0,An.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,An.jsx)("h3",{className:"text-md font-semibold mb-4",children:"Order Count"}),(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"date"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"orders",fill:"#82ca9d",name:"Orders"})]})})})]})]}),"products"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Top Products"}),(0,An.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:f,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{type:"number"}),(0,An.jsx)(hN,{dataKey:"name",type:"category"}),(0,An.jsx)(io,{}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"sales",fill:"#8884d8",name:"Sales"})]})})})}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(((e,t)=>{const r=f.reduce(((e,t)=>e+t.sales),0),n=(e.sales/r*100).toFixed(1);return(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sales}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n,"%"]})]},t)}))})]})})]}),"categories"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Sales by Category"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(Tk,{children:[(0,An.jsx)(Mk,{data:m,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:m.map(((e,t)=>(0,An.jsx)(Rg,{fill:v[t%v.length]},`cell-${t}`)))}),(0,An.jsx)(io,{formatter:e=>b(e)}),(0,An.jsx)(wi,{})]})})})}),(0,An.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(((e,t)=>{const r=m.reduce(((e,t)=>e+t.value),0),n=(e.value/r*100).toFixed(1);return(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.value)}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n,"%"]})]},t)}))})]})})})]})]}),"inventory"===s&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Inventory Status"}),(0,An.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,An.jsx)("div",{className:"h-80",children:(0,An.jsx)(ss,{width:"100%",height:"100%",children:(0,An.jsxs)(MN,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[(0,An.jsx)(EN,{strokeDasharray:"3 3"}),(0,An.jsx)(tN,{dataKey:"name"}),(0,An.jsx)(hN,{}),(0,An.jsx)(io,{}),(0,An.jsx)(wi,{}),(0,An.jsx)(sv,{dataKey:"inStock",fill:"#82ca9d",name:"In Stock"}),(0,An.jsx)(sv,{dataKey:"lowStock",fill:"#ffc658",name:"Low Stock Threshold"})]})})})}),(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"In Stock"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Low Stock Threshold"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(((e,t)=>{let r="bg-green-100 text-green-800",n="Good";return e.inStock<=0?(r="bg-red-100 text-red-800",n="Out of Stock"):e.inStock<=e.lowStock&&(r="bg-yellow-100 text-yellow-800",n="Low Stock"),(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.inStock}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lowStock}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r}`,children:n})})]},t)}))})]})})]})]})})]})]})},hS=()=>{const e=ee();return(0,a.useEffect)((()=>{(async()=>{try{await On.post("http://localhost:8080/api/auth/logout",{},{withCredentials:!0}),localStorage.removeItem("user"),localStorage.removeItem("token"),dt.success("Logged out successfully"),e("/login")}catch(t){console.error("Logout error:",t),dt.error("Failed to logout"),e("/manager/dashboard")}})()}),[e]),(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,An.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,An.jsx)("div",{className:"flex justify-center mb-6",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}),(0,An.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Logging Out"}),(0,An.jsx)("p",{className:"text-center text-gray-600",children:"Please wait while we log you out..."})]})})},fS=()=>{const[e,t]=(0,a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",address:""}),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{try{const r=localStorage.getItem("token"),n=await On.get("http://localhost:8080/api/auth/me",{headers:{Authorization:`Bearer ${r}`}});t(n.data.user);try{const e=await On.get("http://localhost:8080/api/orders/my-orders",{headers:{Authorization:`Bearer ${r}`}});o(e.data.orders||[])}catch(e){console.log("No orders found or endpoint not available yet"),o([])}}catch(r){console.error("Error fetching user data:",r),dt.error("Failed to load user data")}finally{n(!1)}})()}),[]),r?(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("h1",{className:"text-3xl font-bold mb-8",children:["Welcome, ",e.name?e.name.split(" ")[0]:"User","!"]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 md:col-span-1",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Profile"}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-gray-600 text-sm",children:"Name"}),(0,An.jsx)("p",{className:"font-medium",children:e.name||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-gray-600 text-sm",children:"Email"}),(0,An.jsx)("p",{className:"font-medium",children:e.email||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-gray-600 text-sm",children:"Phone"}),(0,An.jsx)("p",{className:"font-medium",children:e.phone||"Not provided"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-gray-600 text-sm",children:"Addresses"}),(0,An.jsx)("p",{className:"font-medium",children:e.address_info&&e.address_info.length>0?`${e.address_info.length} saved address(es)`:"No addresses saved"}),(0,An.jsx)(Pe,{to:"/addresses",className:"text-sm text-blue-500 hover:underline",children:"Manage addresses"})]})]}),(0,An.jsx)(Pe,{to:"/user/profile",className:"mt-4 inline-block text-blue-500 hover:underline",children:"Edit Profile"})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 md:col-span-2",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,An.jsx)(Pe,{to:"/products",className:"block py-3 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 text-center",children:"Browse Products"}),(0,An.jsx)(Pe,{to:"/cart",className:"block py-3 px-4 bg-green-600 text-white rounded hover:bg-green-700 text-center",children:"View Cart"}),(0,An.jsx)(Pe,{to:"/orders",className:"block py-3 px-4 bg-purple-600 text-white rounded hover:bg-purple-700 text-center",children:"My Orders"}),(0,An.jsx)(Pe,{to:"/addresses",className:"block py-3 px-4 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-center",children:"Manage Addresses"})]})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold",children:"Recent Orders"}),(0,An.jsx)(Pe,{to:"/user/orders",className:"text-blue-500 hover:underline",children:"View All"})]}),s.length>0?(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.slice(0,5).map(((e,t)=>(0,An.jsxs)("tr",{children:[(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e._id?e._id.substring(0,8):"N/A"}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("completed"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-blue-100 text-blue-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.total?`$${e.total.toFixed(2)}`:"N/A"}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e._id?(0,An.jsx)(Pe,{to:`/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}):(0,An.jsx)("span",{className:"text-gray-400",children:"View"})})]},e._id||t)))})]})}):(0,An.jsxs)("div",{className:"text-center py-8",children:[(0,An.jsx)("p",{className:"text-gray-500 mb-4",children:"You haven't placed any orders yet."}),(0,An.jsx)(Pe,{to:"/products",className:"inline-block py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Browse Products"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Announcements"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"p-4 border-l-4 border-blue-500 bg-blue-50",children:[(0,An.jsx)("h3",{className:"font-medium text-blue-800",children:"New Products Available"}),(0,An.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Check out our new medical supplies that just arrived!"})]}),(0,An.jsxs)("div",{className:"p-4 border-l-4 border-green-500 bg-green-50",children:[(0,An.jsx)("h3",{className:"font-medium text-green-800",children:"Free Shipping"}),(0,An.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"Free shipping on all orders over $100 this month."})]}),(0,An.jsxs)("div",{className:"p-4 border-l-4 border-yellow-500 bg-yellow-50",children:[(0,An.jsx)("h3",{className:"font-medium text-yellow-800",children:"Holiday Schedule"}),(0,An.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Please note our adjusted hours during the upcoming holidays."})]})]})]})]})]})},pS=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(0),c=ee(),d=J(),u=()=>JSON.parse(localStorage.getItem("user")),h=u();return(0,a.useEffect)((()=>{d.hash&&setTimeout((()=>{Cn(d.hash.substring(1))}),100)}),[d]),(0,a.useEffect)((()=>{var e;const t=u();l((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0);const r=()=>{var e;const t=u();l((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0)};window.addEventListener("storage",r);const n=setInterval((()=>{var e;const t=u();l((null===t||void 0===t||null===(e=t.shopping_cart)||void 0===e?void 0:e.length)||0)}),1e3);return()=>{window.removeEventListener("storage",r),clearInterval(n)}}),[]),(0,An.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,An.jsx)("header",{className:"bg-white shadow",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsx)(Pe,{to:"/",className:"text-2xl font-bold text-blue-600",children:"BlueMedix"})}),(0,An.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,An.jsx)(Pe,{to:"/products",className:"text-gray-600 hover:text-blue-600",children:"Products"}),(0,An.jsx)(Pe,{to:"/categories",className:"text-gray-600 hover:text-blue-600",children:"Categories"}),(0,An.jsx)("a",{href:"#about-us",className:"text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),_n("#about-us",c,d.pathname)},children:"About Us"}),(0,An.jsx)("a",{href:"#contact",className:"text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),_n("#contact",c,d.pathname)},children:"Contact"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)(Pe,{to:"/cart",className:"text-gray-600 hover:text-blue-600 relative",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,An.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:i})]}),(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsxs)("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 focus:outline-none",children:[(0,An.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:(null===h||void 0===h?void 0:h.img_url)||"https://ui-avatars.com/api/?name="+encodeURIComponent((null===h||void 0===h?void 0:h.name)||"User"),alt:"Profile"}),(0,An.jsx)("span",{className:"hidden md:block text-gray-700",children:null===h||void 0===h?void 0:h.name})]}),s&&(0,An.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[(0,An.jsx)(Pe,{to:"/user/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Your Profile"}),(0,An.jsx)(Pe,{to:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Your Orders"}),(0,An.jsx)(Pe,{to:"/user/logout",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Sign out"})]})]}),(0,An.jsx)("button",{onClick:()=>n(!r),className:"md:hidden text-gray-600 focus:outline-none",children:(0,An.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),r&&(0,An.jsxs)("nav",{className:"md:hidden py-4 border-t",children:[(0,An.jsx)(Pe,{to:"/products",className:"block py-2 text-gray-600 hover:text-blue-600",onClick:()=>n(!1),children:"Products"}),(0,An.jsx)(Pe,{to:"/categories",className:"block py-2 text-gray-600 hover:text-blue-600",onClick:()=>n(!1),children:"Categories"}),(0,An.jsx)("a",{href:"#about-us",className:"block py-2 text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),n(!1),_n("#about-us",c,d.pathname)},children:"About Us"}),(0,An.jsx)("a",{href:"#contact",className:"block py-2 text-gray-600 hover:text-blue-600 cursor-pointer",onClick:e=>{e.preventDefault(),n(!1),_n("#contact",c,d.pathname)},children:"Contact"})]})]})}),(0,An.jsx)("main",{className:"flex-1 bg-gray-50",children:t}),(0,An.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,An.jsxs)("div",{className:"container mx-auto px-4",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"BlueMedix"}),(0,An.jsx)("p",{className:"text-gray-400",children:"Your trusted partner for medical supplies and equipment."})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,An.jsxs)("ul",{className:"space-y-2",children:[(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/products",className:"text-gray-400 hover:text-white",children:"Products"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/categories",className:"text-gray-400 hover:text-white",children:"Categories"})}),(0,An.jsx)("li",{children:(0,An.jsx)("a",{href:"#about-us",className:"text-gray-400 hover:text-white cursor-pointer",onClick:e=>{e.preventDefault(),_n("#about-us",c,d.pathname)},children:"About Us"})}),(0,An.jsx)("li",{children:(0,An.jsx)("a",{href:"#contact",className:"text-gray-400 hover:text-white cursor-pointer",onClick:e=>{e.preventDefault(),_n("#contact",c,d.pathname)},children:"Contact"})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Customer Service"}),(0,An.jsxs)("ul",{className:"space-y-2",children:[(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/faq",className:"text-gray-400 hover:text-white",children:"FAQ"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/shipping",className:"text-gray-400 hover:text-white",children:"Shipping Policy"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/returns",className:"text-gray-400 hover:text-white",children:"Returns & Refunds"})}),(0,An.jsx)("li",{children:(0,An.jsx)(Pe,{to:"/privacy",className:"text-gray-400 hover:text-white",children:"Privacy Policy"})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),(0,An.jsxs)("address",{className:"text-gray-400 not-italic",children:[(0,An.jsx)("p",{children:"123 Medical Plaza"}),(0,An.jsx)("p",{children:"New Delhi, India"}),(0,An.jsx)("p",{className:"mt-2",children:"Email: info@bluemedix.com"}),(0,An.jsx)("p",{children:"Phone: +91 123 456 7890"})]})]})]}),(0,An.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:(0,An.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," BlueMedix. All rights reserved."]})})]})})]})},mS=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)({name:"",email:"",phone:"",img_url:""}),[i,l]=(0,a.useState)({oldpassword:"",newpassword:"",confirmPassword:""}),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("user"));if(!e)return void dt.error("User data not found");t(e),o({name:e.name||"",email:e.email||"",phone:e.phone||"",img_url:e.img_url||""}),d(e.img_url||"")}catch(e){console.error("Error fetching user data:",e),dt.error("Failed to load profile data")}finally{n(!1)}})()}),[]);const m=e=>{o({...s,[e.target.name]:e.target.value})},x=e=>{l({...i,[e.target.name]:e.target.value})};return r?(0,An.jsx)(pS,{children:(0,An.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Your Profile"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),(0,An.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),h(!0);try{const r=localStorage.getItem("token");if(!r||!e)return void dt.error("Authentication required");if((await On.patch(`http://localhost:8080/api/users/${e._id}`,{name:s.name,phone:s.phone,img_url:s.img_url},{headers:{Authorization:`Bearer ${r}`}})).data.success){const r={...e,name:s.name,phone:s.phone,img_url:s.img_url};localStorage.setItem("user",JSON.stringify(r)),t(r),dt.success("Profile updated successfully")}else dt.error("Failed to update profile")}catch(o){var n,a;console.error("Update profile error:",o),dt.error((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to update profile")}finally{h(!1)}},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,An.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email Address"}),(0,An.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,className:"w-full border border-gray-300 rounded px-3 py-2 bg-gray-100 focus:outline-none",disabled:!0}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phone",children:"Phone Number"}),(0,An.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:m,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"img_url",children:"Profile Image URL"}),(0,An.jsx)("input",{type:"text",id:"img_url",name:"img_url",value:s.img_url,onChange:e=>{const t=e.target.value;o({...s,img_url:t}),d(t)},placeholder:"Enter image URL",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid image URL for your profile picture"})]}),c&&(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Image Preview"}),(0,An.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border border-gray-300",children:(0,An.jsx)("img",{src:c,alt:"Profile Preview",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(s.name||"User")}})})]}),(0,An.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:u?"Updating...":"Update Profile"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Change Password"}),(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.newpassword===i.confirmPassword)if(i.newpassword.length<6)dt.error("Password must be at least 6 characters");else{p(!0);try{const e=localStorage.getItem("token");if(!e)return void dt.error("Authentication required");(await On.post("http://localhost:8080/api/users/change-password",{oldpassword:i.oldpassword,newpassword:i.newpassword},{headers:{Authorization:`Bearer ${e}`}})).data.success?(dt.success("Password changed successfully"),l({oldpassword:"",newpassword:"",confirmPassword:""})):dt.error("Failed to change password")}catch(n){var t,r;console.error("Change password error:",n),dt.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to change password")}finally{p(!1)}}else dt.error("New passwords do not match")},children:[(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"oldpassword",children:"Current Password"}),(0,An.jsx)("input",{type:"password",id:"oldpassword",name:"oldpassword",value:i.oldpassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"newpassword",children:"New Password"}),(0,An.jsx)("input",{type:"password",id:"newpassword",name:"newpassword",value:i.newpassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:"6"}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,An.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:x,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,An.jsx)("button",{type:"submit",disabled:f,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",children:f?"Changing Password...":"Change Password"})]})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Role"}),(0,An.jsx)("p",{className:"font-medium",children:"user"===(null===e||void 0===e?void 0:e.role)?"Customer":(null===e||void 0===e?void 0:e.role)||"User"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Status"}),(0,An.jsx)("p",{className:"font-medium",children:(null===e||void 0===e?void 0:e.Status)||"Active"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Account Created"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,An.jsx)("p",{className:"font-medium",children:null!==e&&void 0!==e&&e.updatedAt?new Date(e.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]})]})},xS=()=>{var e;const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({total:0,page:1,limit:12,pages:1}),[h,f]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[b,j]=(0,a.useState)("createdAt"),[w,N]=(0,a.useState)("desc"),k=J(),S=ee();(0,a.useEffect)((()=>{const e=new URLSearchParams(k.search);f(e.get("category")||""),m(e.get("minPrice")||""),g(e.get("maxPrice")||""),v(e.get("search")||""),j(e.get("sortBy")||"createdAt"),N(e.get("sortOrder")||"desc"),u((t=>({...t,page:parseInt(e.get("page")||"1",10)})))}),[k.search]),(0,a.useEffect)((()=>{(async()=>{try{i(!0);const e=new URLSearchParams;let t;h&&e.append("category",h),p&&e.append("minPrice",p),x&&e.append("maxPrice",x),y&&e.append("search",y),b&&e.append("sortBy",b),w&&e.append("sortOrder",w),e.append("page",d.page),e.append("limit",d.limit),console.log("Fetching products with params:",e.toString()),console.log("Selected category:",h),h?(t=await On.get(`http://localhost:8080/api/products/category/${h}`),t.data.success&&(t.data.pagination={total:t.data.products.length,page:1,limit:t.data.products.length,pages:1})):t=await On.get(`http://localhost:8080/api/products?${e.toString()}`),t.data.success?(r(t.data.products),t.data.pagination&&u(t.data.pagination),h&&t.data.category?document.title=`${t.data.category} Products - BlueMedix`:document.title="All Products - BlueMedix"):(c("Failed to fetch products"),dt.error("Failed to fetch products"))}catch(l){console.error("Fetch products error:",l),c("An error occurred while fetching products"),dt.error("Failed to load products")}finally{i(!1)}})()}),[h,p,x,y,b,w,d.page,d.limit]),(0,a.useEffect)((()=>{(async()=>{try{const e=await On.get("http://localhost:8080/api/categories");e.data.success&&s(e.data.categories)}catch(l){console.error("Fetch categories error:",l)}})()}),[]);const O=()=>{f(""),m(""),g(""),v(""),j("createdAt"),N("desc"),S("/products")},C=e=>{if(e<1||e>d.pages)return;const t=new URLSearchParams(k.search);t.set("page",e),S(`/products?${t.toString()}`)};return o&&1===d.page?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Products"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):l&&0===t.length?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Products"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:l}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold",children:h&&n.find((e=>e._id===h))?`${n.find((e=>e._id===h)).name} Products`:"All Products"}),h&&(0,An.jsxs)("div",{className:"mt-2 md:mt-0",children:[(0,An.jsxs)(Pe,{to:"/categories",className:"text-blue-600 hover:underline mr-4",children:[(0,An.jsx)("span",{className:"inline-block mr-1",children:"\u2190"})," Back to All Categories"]}),(0,An.jsx)("button",{onClick:O,className:"text-blue-600 hover:underline",children:"Show All Products"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4",children:[(0,An.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Search"}),(0,An.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Search products...",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Category"}),(0,An.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:`w-full border ${h?"border-blue-500 bg-blue-50":"border-gray-300"} rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,An.jsx)("option",{value:"",children:"All Categories"}),n.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]}),h&&(0,An.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Showing products in ",(null===(e=n.find((e=>e._id===h)))||void 0===e?void 0:e.name)||"selected category"]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Price Range"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value),placeholder:"Min",className:"w-1/2 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,An.jsx)("input",{type:"number",value:x,onChange:e=>g(e.target.value),placeholder:"Max",className:"w-1/2 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Sort By"}),(0,An.jsxs)("select",{value:`${b}-${w}`,onChange:e=>{const[t,r]=e.target.value.split("-");j(t),N(r)},className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,An.jsx)("option",{value:"createdAt-asc",children:"Oldest First"}),(0,An.jsx)("option",{value:"price-asc",children:"Price: Low to High"}),(0,An.jsx)("option",{value:"price-desc",children:"Price: High to Low"}),(0,An.jsx)("option",{value:"name-asc",children:"Name: A to Z"}),(0,An.jsx)("option",{value:"name-desc",children:"Name: Z to A"})]})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>{const e=new URLSearchParams;h&&e.append("category",h),p&&e.append("minPrice",p),x&&e.append("maxPrice",x),y&&e.append("search",y),b&&e.append("sortBy",b),w&&e.append("sortOrder",w),e.append("page",1),S(`/products?${e.toString()}`)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Apply Filters"}),(0,An.jsx)("button",{onClick:O,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded",children:"Reset"})]})]})}),(0,An.jsxs)("div",{className:"lg:col-span-3",children:[o&&(0,An.jsx)("div",{className:"flex justify-center items-center h-20 mb-4",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),0===t.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No products found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Try adjusting your filters or search criteria."}),(0,An.jsx)("button",{onClick:O,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Clear Filters"})]}):(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e=>(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,className:"block",children:(0,An.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"w-full h-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.discount>0&&(0,An.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:[e.discount,"% OFF"]})]})}),(0,An.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,children:(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-800 hover:text-blue-600 line-clamp-2 h-14",children:e.name})}),(0,An.jsxs)("div",{className:"flex items-center mt-1",children:[(0,An.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:["$",(e.price*(1-e.discount/100)).toFixed(2)]}),e.discount>0&&(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",e.price.toFixed(2)]})]}),e.category&&(0,An.jsx)("div",{className:"mt-1",children:(0,An.jsxs)("span",{className:"text-sm text-gray-500",children:["Category: ",e.category.name]})}),(0,An.jsxs)("div",{className:"mt-auto pt-4 flex justify-between items-center",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"}),(0,An.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");if(!t)return dt.info("Please login to add items to cart"),localStorage.setItem("pendingCartItem",e),void S("/login?redirect=/products");if((await On.post("http://localhost:8080/api/cart/add",{productId:e,quantity:1},{headers:{Authorization:`Bearer ${t}`}})).data.success){dt.success("Item added to cart");const t=JSON.parse(localStorage.getItem("user"));t&&(t.shopping_cart||(t.shopping_cart=[]),t.shopping_cart.includes(e)||(t.shopping_cart.push(e),localStorage.setItem("user",JSON.stringify(t))),window.dispatchEvent(new Event("storage")))}else dt.error("Failed to add item to cart")}catch(l){var t,r;console.error("Add to cart error:",l),dt.error((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to add item to cart")}})(e._id),className:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded text-sm",children:"Add to Cart"})]})]})]},e._id)))}),d.pages>1&&(0,An.jsx)("div",{className:"mt-8 flex justify-center",children:(0,An.jsxs)("nav",{className:"flex items-center space-x-2",children:[(0,An.jsx)("button",{onClick:()=>C(d.page-1),disabled:1===d.page,className:"px-3 py-1 rounded "+(1===d.page?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Previous"}),[...Array(d.pages)].map(((e,t)=>(0,An.jsx)("button",{onClick:()=>C(t+1),className:"px-3 py-1 rounded "+(d.page===t+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:t+1},t))),(0,An.jsx)("button",{onClick:()=>C(d.page+1),disabled:d.page===d.pages,className:"px-3 py-1 rounded "+(d.page===d.pages?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Next"})]})})]})]})]})]})},gS=()=>{const{productId:e}=te(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(0),[h,f]=(0,a.useState)([]),[p,m]=(0,a.useState)(""),[x,g]=(0,a.useState)([]),y=ee();(0,a.useEffect)((()=>{(async()=>{try{s(!0);const t=await On.get(`http://localhost:8080/api/products/${e}`);t.data.success?(r(t.data.product),u(0)):(i("Failed to fetch product details"),dt.error("Failed to fetch product details"))}catch(o){console.error("Fetch product details error:",o),i("An error occurred while fetching product details"),dt.error("Failed to load product details")}finally{s(!1)}})(),(async()=>{try{const e=await On.get("http://localhost:8080/api/franchises");e.data.success&&g(e.data.franchises)}catch(o){console.error("Fetch franchises error:",o)}})()}),[e]),(0,a.useEffect)((()=>{(async()=>{if(t&&t.category)try{const r=await On.get(`http://localhost:8080/api/products?category=${t.category._id}&limit=4`);if(r.data.success){const t=r.data.products.filter((t=>t._id!==e));f(t.slice(0,3))}}catch(o){console.error("Fetch related products error:",o)}})()}),[t,e]);const v=e=>{const t=l+e;t>=1&&c(t)};if(n)return(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})});if(o||!t)return(0,An.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:o||"Product not found"}),(0,An.jsx)("button",{onClick:()=>y("/products"),className:"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded",children:"Back to Products"})]})});const b=t.price*(1-t.discount/100);return(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("nav",{className:"mb-6",children:(0,An.jsxs)("ol",{className:"flex text-sm text-gray-600",children:[(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)(Pe,{to:"/",className:"hover:text-blue-600",children:"Home"}),(0,An.jsx)("svg",{className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)(Pe,{to:"/products",className:"hover:text-blue-600",children:"Products"}),(0,An.jsx)("svg",{className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),t.category&&(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)(Pe,{to:`/products?category=${t.category._id}`,className:"hover:text-blue-600",children:t.category.name}),(0,An.jsx)("svg",{className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),(0,An.jsx)("li",{className:"text-gray-800 font-medium truncate",children:t.name})]})}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("div",{className:"bg-gray-100 rounded-lg overflow-hidden h-80 mb-4",children:t.image&&t.image.length>0?(0,An.jsx)("img",{src:t.image[d],alt:t.name,className:"w-full h-full object-contain"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),t.image&&t.image.length>1&&(0,An.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:t.image.map(((e,r)=>(0,An.jsx)("button",{onClick:()=>u(r),className:"flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 "+(d===r?"border-blue-500":"border-transparent"),children:(0,An.jsx)("img",{src:e,alt:`${t.name} thumbnail ${r+1}`,className:"w-full h-full object-cover"})},r)))})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.name}),t.category&&(0,An.jsx)("div",{className:"mb-4",children:(0,An.jsx)(Pe,{to:`/products?category=${t.category._id}`,className:"text-sm text-blue-600 hover:text-blue-800",children:t.category.name})}),(0,An.jsxs)("div",{className:"flex items-center mb-4",children:[(0,An.jsxs)("span",{className:"text-2xl font-bold text-gray-800",children:["$",b.toFixed(2)]}),t.discount>0&&(0,An.jsxs)(An.Fragment,{children:[(0,An.jsxs)("span",{className:"ml-2 text-lg text-gray-500 line-through",children:["$",t.price.toFixed(2)]}),(0,An.jsxs)("span",{className:"ml-2 bg-red-100 text-red-800 text-sm font-medium px-2 py-0.5 rounded",children:[t.discount,"% OFF"]})]})]}),(0,An.jsx)("div",{className:"mb-6",children:(0,An.jsx)("p",{className:"text-gray-600",children:t.description})}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsxs)("p",{className:"text-sm text-gray-600",children:["Availability:",(0,An.jsx)("span",{className:"ml-1 font-medium "+(t.warehouseStock>0?"text-green-600":"text-red-600"),children:t.warehouseStock>0?"In Stock":"Out of Stock"})]}),t.manufacturer&&(0,An.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Manufacturer: ",(0,An.jsx)("span",{className:"font-medium",children:t.manufacturer})]})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Select Franchise (Optional)"}),(0,An.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),x.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mr-4",children:"Quantity:"}),(0,An.jsxs)("div",{className:"flex items-center border rounded",children:[(0,An.jsx)("button",{onClick:()=>v(-1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",disabled:l<=1,children:"-"}),(0,An.jsx)("span",{className:"px-3 py-1 border-x",children:l}),(0,An.jsx)("button",{onClick:()=>v(1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:"+"})]})]}),(0,An.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");if(!e)return dt.error("Please login to add items to cart"),void y("/login");(await On.post("http://localhost:8080/api/cart/add",{productId:t._id,quantity:l,franchiseId:p||void 0},{headers:{Authorization:`Bearer ${e}`}})).data.success?dt.success("Item added to cart"):dt.error("Failed to add item to cart")}catch(o){console.error("Add to cart error:",o),dt.error("Failed to add item to cart")}},disabled:t.warehouseStock<=0,className:"w-full py-3 px-4 rounded font-medium "+(t.warehouseStock>0?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 cursor-not-allowed text-gray-500"),children:t.warehouseStock>0?"Add to Cart":"Out of Stock"})]})]})}),h.length>0&&(0,An.jsxs)("div",{className:"mt-12",children:[(0,An.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Related Products"}),(0,An.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:h.map((e=>(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,children:(0,An.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[e.image&&e.image.length>0?(0,An.jsx)("img",{src:e.image[0],alt:e.name,className:"w-full h-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.discount>0&&(0,An.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:[e.discount,"% OFF"]})]})}),(0,An.jsxs)("div",{className:"p-4",children:[(0,An.jsx)(Pe,{to:`/products/${e._id}`,children:(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-800 hover:text-blue-600",children:e.name})}),(0,An.jsxs)("div",{className:"flex items-center mt-1",children:[(0,An.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:["$",(e.price*(1-e.discount/100)).toFixed(2)]}),e.discount>0&&(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",e.price.toFixed(2)]})]})]})]},e._id)))})]})]})},yS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=await On.get("http://localhost:8080/api/categories");e.data.success?t(e.data.categories):(o("Failed to fetch categories"),dt.error("Failed to fetch categories"))}catch(s){console.error("Fetch categories error:",s),o("An error occurred while fetching categories"),dt.error("Failed to load categories")}finally{n(!1)}})()}),[]),r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Categories"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):s?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Categories"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Categories"}),0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No categories found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"There are no product categories available at the moment."})]}):(0,An.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map((e=>(0,An.jsxs)(Pe,{to:`/products?category=${e._id}`,className:"bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,An.jsx)("div",{className:"h-48 bg-gray-200 relative",children:e.image?(0,An.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"p-4",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]})]},e._id)))})]})},vS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)([]),[f,p]=(0,a.useState)(""),[m,x]=(0,a.useState)([]),[g,y]=(0,a.useState)(0),[v,b]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),N=ee();(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=localStorage.getItem("token"),r=await On.get("http://localhost:8080/api/cart",{headers:{Authorization:`Bearer ${e}`}});r.data.success?(t(r.data.cartItems),l(r.data.totalPrice)):(o("Failed to fetch cart items"),dt.error("Failed to fetch cart items"))}catch(s){console.error("Fetch cart error:",s),o("An error occurred while fetching your cart"),dt.error("Failed to load cart")}finally{n(!1)}})(),(async()=>{try{const e=await On.get("http://localhost:8080/api/franchises/public");e.data.success&&h(e.data.franchises)}catch(s){console.error("Fetch franchises error:",s),dt.error("Failed to load franchises")}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await On.get("http://localhost:8080/api/addresses",{headers:{Authorization:`Bearer ${e}`}});t.data.success&&(x(t.data.addresses),t.data.addresses&&t.data.addresses.length>0?(p(t.data.addresses[0]._id),w(t.data.addresses[0])):dt.info("Please add a delivery address to continue with checkout"))}catch(s){console.error("Fetch addresses error:",s),dt.error("Failed to load delivery addresses")}})()}),[]),(0,a.useEffect)((()=>{v&&j?v.address.pincode===j.pincode?y(0):y(2):y(0)}),[v,j]),(0,a.useEffect)((()=>{if(f&&m.length>0){const e=m.find((e=>e._id===f));w(e)}else w(null)}),[f,m]),(0,a.useEffect)((()=>{if(c&&u.length>0){const e=u.find((e=>e._id===c));b(e)}else b(null)}),[c,u]);const k=async(e,r)=>{if(!(r<1))try{const n=localStorage.getItem("token");if((await On.put(`http://localhost:8080/api/cart/item/${e}`,{quantity:r},{headers:{Authorization:`Bearer ${n}`}})).data.success){t((t=>t.map((t=>t._id===e?{...t,quantity:r}:t))));const a=await On.get("http://localhost:8080/api/cart",{headers:{Authorization:`Bearer ${n}`}});l(a.data.totalPrice);JSON.parse(localStorage.getItem("user"))&&window.dispatchEvent(new Event("storage")),dt.success("Cart updated")}else dt.error("Failed to update cart")}catch(s){console.error("Update cart error:",s),dt.error("Failed to update cart")}},S=async()=>{try{const e=localStorage.getItem("token");if((await On.delete("http://localhost:8080/api/cart/clear",{headers:{Authorization:`Bearer ${e}`}})).data.success){t([]),l(0);const e=JSON.parse(localStorage.getItem("user"));e&&(e.shopping_cart=[],localStorage.setItem("user",JSON.stringify(e))),window.dispatchEvent(new Event("cartUpdated")),dt.success("Cart cleared")}else dt.error("Failed to clear cart")}catch(s){console.error("Clear cart error:",s),dt.error("Failed to clear cart")}};return r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):s?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]}):0===e.length?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"Your cart is empty"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Looks like you haven't added any products to your cart yet."}),(0,An.jsx)(Pe,{to:"/products",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Browse Products"})]})]}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,An.jsx)("div",{className:"lg:col-span-2",children:(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"p-4 border-b",children:(0,An.jsxs)("h2",{className:"text-lg font-semibold",children:["Cart Items (",e.length,")"]})}),(0,An.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((r=>(0,An.jsx)("li",{className:"p-4",children:(0,An.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden",children:(0,An.jsx)("img",{src:r.productid.image[0]||"https://via.placeholder.com/80",alt:r.productid.name,className:"w-full h-full object-cover"})}),(0,An.jsxs)("div",{className:"flex-1 ml-0 sm:ml-4 mt-2 sm:mt-0",children:[(0,An.jsx)("h3",{className:"text-base font-medium",children:r.productid.name}),(0,An.jsxs)("div",{className:"flex items-center mt-1",children:[(0,An.jsxs)("span",{className:"text-gray-600",children:["$",(r.productid.price*(1-r.productid.discount/100)).toFixed(2)]}),r.productid.discount>0&&(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",r.productid.price.toFixed(2)]}),r.productid.discount>0&&(0,An.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:[r.productid.discount,"% off"]})]}),r.franchise&&(0,An.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Franchise: ",r.franchise.name]})]}),(0,An.jsxs)("div",{className:"flex items-center mt-4 sm:mt-0",children:[(0,An.jsxs)("div",{className:"flex items-center border rounded",children:[(0,An.jsx)("button",{onClick:()=>k(r._id,r.quantity-1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:"-"}),(0,An.jsx)("span",{className:"px-3 py-1 border-x",children:r.quantity}),(0,An.jsx)("button",{onClick:()=>k(r._id,r.quantity+1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:"+"})]}),(0,An.jsx)("button",{onClick:()=>(async r=>{try{const n=localStorage.getItem("token");if((await On.delete(`http://localhost:8080/api/cart/item/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data.success){t((e=>e.filter((e=>e._id!==r))));const a=await On.get("http://localhost:8080/api/cart",{headers:{Authorization:`Bearer ${n}`}});l(a.data.totalPrice);const s=JSON.parse(localStorage.getItem("user"));s&&s.shopping_cart&&(s.shopping_cart=s.shopping_cart.filter((t=>{var n,a;return t!==(null===(n=e.find((e=>e._id===r)))||void 0===n||null===(a=n.productid)||void 0===a?void 0:a._id)})),localStorage.setItem("user",JSON.stringify(s)),window.dispatchEvent(new Event("storage"))),dt.success("Item removed from cart")}else dt.error("Failed to remove item")}catch(s){console.error("Remove item error:",s),dt.error("Failed to remove item")}})(r._id),className:"ml-4 text-red-500 hover:text-red-700",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},r._id)))}),(0,An.jsx)("div",{className:"p-4 border-t",children:(0,An.jsx)("button",{onClick:S,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Clear Cart"})})]})}),(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"p-4 border-b",children:(0,An.jsx)("h2",{className:"text-lg font-semibold",children:"Order Summary"})}),(0,An.jsxs)("div",{className:"p-4",children:[(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,An.jsxs)("span",{className:"font-medium",children:["$",i.toFixed(2)]})]}),(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,An.jsxs)("span",{className:"font-medium",children:[g>0?(0,An.jsxs)("span",{className:"text-orange-600",children:["$",g.toFixed(2)]}):(0,An.jsx)("span",{className:"text-green-600",children:"Free"}),v&&j&&(0,An.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:v.address.pincode===j.pincode?"Same pincode - Free delivery":"Different pincode - $2 delivery charge"})]})]}),(0,An.jsx)("div",{className:"border-t my-4"}),(0,An.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,An.jsx)("span",{className:"text-lg font-semibold",children:"Total"}),(0,An.jsxs)("span",{className:"text-lg font-semibold",children:["$",(i+g).toFixed(2)]})]}),(0,An.jsxs)("div",{className:"mb-4",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Select Franchise"}),(0,An.jsxs)("select",{name:"franchise",value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select a franchise"}),u.map((e=>(0,An.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Delivery Address"}),m.length>0?(0,An.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,An.jsx)("option",{value:"",children:"Select an address"}),m.map((e=>(0,An.jsxs)("option",{value:e._id,children:[e.Street,", ",e.city,", ",e.state,", ",e.pincode]},e._id)))]}):(0,An.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-3 rounded mb-3",children:(0,An.jsx)("p",{children:"You don't have any saved addresses. Please add one to continue."})}),(0,An.jsx)("div",{className:"mt-2",children:(0,An.jsx)(Pe,{to:"/addresses/add",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add a new address"})})]}),(0,An.jsx)("button",{onClick:async()=>{if(c)if(f)if(0!==e.length)try{const t=localStorage.getItem("token");for(const r of e){const e=r.productid.price*(1-r.productid.discount/100)*r.quantity,n={product_id:r.productid._id,deliveryAddress:f,franchise:c,subtotalAmount:e,totalAmount:e+g,deliveryCharge:g},a=await On.post("http://localhost:8080/api/orders",n,{headers:{Authorization:`Bearer ${t}`}});if(a.data.outOfStock)return void dt.warning(a.data.message||"This product is out of stock at the selected franchise. Please try ordering from another franchise.")}await S(),dt.success("Order placed successfully"),N("/orders")}catch(s){console.error("Checkout error:",s),s.response&&s.response.data&&s.response.data.outOfStock?dt.warning(s.response.data.message||"This product is out of stock at the selected franchise. Please try ordering from another franchise."):dt.error("Failed to place order")}else dt.error("Your cart is empty");else 0===m.length?(dt.error("Please add a delivery address before checkout"),window.confirm("Would you like to add a new address now?")&&N("/addresses/add")):dt.error("Please select a delivery address");else{dt.error("Please select a franchise for delivery");const e=document.querySelector('select[name="franchise"]');e&&e.scrollIntoView({behavior:"smooth"})}},className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded font-medium",children:"Proceed to Checkout"})]})]})})]})]})},bS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)("all");(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=localStorage.getItem("token"),r=await On.get("http://localhost:8080/api/orders/my-orders",{headers:{Authorization:`Bearer ${e}`}});r.data.success?t(r.data.orders):(o("Failed to fetch orders"),dt.error("Failed to fetch orders"))}catch(s){console.error("Fetch orders error:",s),o("An error occurred while fetching your orders"),dt.error("Failed to load orders")}finally{n(!1)}})()}),[]);const c=e.filter((e=>"all"===i||("pending"===i?"pending"===e.deliverystatus:"processing"===i?["accepted","processing","shipped"].includes(e.deliverystatus):"completed"===i?"delivered"===e.deliverystatus:"cancelled"!==i||"cancelled"===e.deliverystatus))),d=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Orders"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):s?(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Orders"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]}):(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Orders"}),(0,An.jsx)("div",{className:"mb-6 border-b",children:(0,An.jsxs)("nav",{className:"flex space-x-8",children:[(0,An.jsx)("button",{onClick:()=>l("all"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("all"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"All Orders"}),(0,An.jsx)("button",{onClick:()=>l("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("pending"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pending"}),(0,An.jsx)("button",{onClick:()=>l("processing"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("processing"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Processing"}),(0,An.jsx)("button",{onClick:()=>l("completed"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("completed"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Completed"}),(0,An.jsx)("button",{onClick:()=>l("cancelled"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("cancelled"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Cancelled"})]})}),0===c.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No orders found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"all"===i?"You haven't placed any orders yet.":`You don't have any ${i} orders.`}),(0,An.jsx)(Pe,{to:"/products",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Browse Products"})]}):(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,An.jsx)("div",{className:"overflow-x-auto",children:(0,An.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,An.jsx)("thead",{className:"bg-gray-50",children:(0,An.jsxs)("tr",{children:[(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,An.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,An.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e=>{return(0,An.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(e._id.length-8)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.createdAt,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.product_id?(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.product_id.image&&e.product_id.image.length>0?(0,An.jsx)("img",{src:e.product_id.image[0],alt:e.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product_id.name}),e.franchise&&(0,An.jsx)("div",{className:"text-sm text-gray-500",children:e.franchise.name})]})]}):(0,An.jsx)("span",{className:"text-gray-400",children:"Product unavailable"})}),(0,An.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.totalAmount.toFixed(2)]}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d(e.deliverystatus)}`,children:e.deliverystatus.charAt(0).toUpperCase()+e.deliverystatus.slice(1)})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,An.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("Paid"===e.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.paymentStatus})}),(0,An.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,An.jsx)(Pe,{to:`/orders/${e._id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e._id);var t}))})]})})})]})},jS=()=>{const{orderId:e}=te(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{s(!0);const t=localStorage.getItem("token"),n=localStorage.getItem("user");if(!t)return i("Authentication required. Please log in."),dt.error("Authentication required"),void s(!1);if(n)try{const e=JSON.parse(n);c(e.role),console.log("User role:",e.role)}catch($S){console.error("Error parsing user data:",$S)}console.log("Fetching order details for ID:",e);const a=await On.get(`http://localhost:8080/api/orders/${e}`,{headers:{Authorization:`Bearer ${t}`}});a.data.success?(r(a.data.order),console.log("Order details loaded:",a.data.order)):(i("Failed to fetch order details"),dt.error("Failed to fetch order details"))}catch(o){var t,n,a;console.error("Fetch order details error:",o),console.error("Error response:",null===(t=o.response)||void 0===t?void 0:t.data),403===(null===(n=o.response)||void 0===n?void 0:n.status)?(i("You are not authorized to view this order"),dt.error("Access denied")):404===(null===(a=o.response)||void 0===a?void 0:a.status)?(i("Order not found"),dt.error("Order not found")):(i("An error occurred while fetching order details"),dt.error("Failed to load order details"))}finally{s(!1)}})()}),[e]);const d=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(n)return(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Order Details"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]});if(o||!t)return(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Order Details"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:o||"Order not found"}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]});return(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold",children:"Order Details"}),(0,An.jsxs)(Pe,{to:(()=>{const e=window.location.pathname;return e.includes("/manager/orders/")?"/manager/orders":e.includes("/admin/orders/")?"/admin/orders":"/orders"})(),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Orders"]})]}),(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-6",children:[(0,An.jsxs)("div",{className:"p-4 border-b",children:[(0,An.jsxs)("h2",{className:"text-lg font-semibold",children:["Order #",t.order_id]}),(0,An.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Placed on ",d(t.createdAt)]})]}),(0,An.jsxs)("div",{className:"p-4",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Order Status"}),(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.deliverystatus)}`,children:t.deliverystatus.charAt(0).toUpperCase()+t.deliverystatus.slice(1)}),("admin"===l||"orderManager"===l)&&"delivered"!==t.deliverystatus&&"cancelled"!==t.deliverystatus&&(0,An.jsx)("div",{className:"ml-4",children:(0,An.jsxs)("select",{className:"border border-gray-300 rounded text-sm py-1 px-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:t=>{t.target.value&&((async t=>{try{const a=localStorage.getItem("token");if(!a)return void dt.error("Authentication required to update order status");const s=await On.patch(`http://localhost:8080/api/orders/${e}/status`,{deliverystatus:t},{headers:{Authorization:`Bearer ${a}`}});var n;s.data&&s.data.success?(dt.success(`Order status updated to ${t}`),r((e=>({...e,deliverystatus:t})))):dt.error((null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update order status")}catch(o){var a,s;console.error("Update order status error:",o),dt.error("Failed to update order status: "+((null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||o.message))}})(t.target.value),t.target.value="")},defaultValue:"",children:[(0,An.jsx)("option",{value:"",children:"Update Status"}),"pending"!==t.deliverystatus&&(0,An.jsx)("option",{value:"pending",children:"Pending"}),"accepted"!==t.deliverystatus&&(0,An.jsx)("option",{value:"accepted",children:"Accepted"}),"dispatched"!==t.deliverystatus&&(0,An.jsx)("option",{value:"dispatched",children:"Dispatched"}),"delivered"!==t.deliverystatus&&(0,An.jsx)("option",{value:"delivered",children:"Delivered"}),"cancelled"!==t.deliverystatus&&(0,An.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Payment Status"}),(0,An.jsx)("div",{className:"flex items-center",children:(0,An.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("Paid"===t.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.paymentStatus||"Pending"})})]})]}),(0,An.jsx)("div",{className:"border-t my-4"}),(0,An.jsxs)("div",{className:"mb-6",children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Product"}),t.product_id?(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)("div",{className:"flex-shrink-0 h-16 w-16 bg-gray-100 rounded overflow-hidden",children:t.product_id.image&&t.product_id.image.length>0?(0,An.jsx)("img",{src:t.product_id.image[0],alt:t.product_id.name,className:"h-full w-full object-cover"}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("h4",{className:"text-base font-medium",children:t.product_id.name}),(0,An.jsxs)("p",{className:"text-gray-600 mt-1",children:["$",t.product_id.price.toFixed(2)]})]})]}):(0,An.jsx)("p",{className:"text-gray-600",children:"Product information not available"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Delivery Address"}),t.deliveryAddress?(0,An.jsxs)("div",{className:"text-gray-700",children:[(0,An.jsx)("p",{children:t.deliveryAddress.Street}),(0,An.jsxs)("p",{children:[t.deliveryAddress.city,", ",t.deliveryAddress.state]}),(0,An.jsxs)("p",{children:[t.deliveryAddress.pincode,", ",t.deliveryAddress.country]}),(0,An.jsxs)("p",{className:"mt-1",children:["Phone: ",t.deliveryAddress.phone_number]})]}):(0,An.jsx)("p",{className:"text-gray-600",children:"Address information not available"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Franchise"}),t.franchise?(0,An.jsxs)("div",{className:"text-gray-700",children:[(0,An.jsx)("p",{className:"font-medium",children:t.franchise.name}),t.franchise.address&&(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("p",{children:t.franchise.address.street}),(0,An.jsxs)("p",{children:[t.franchise.address.city,", ",t.franchise.address.state]}),(0,An.jsxs)("p",{children:[t.franchise.address.pincode,", ",t.franchise.address.country]})]}),t.franchise.contactNumber&&(0,An.jsxs)("p",{className:"mt-1",children:["Contact: ",t.franchise.contactNumber]})]}):(0,An.jsx)("p",{className:"text-gray-600",children:"Franchise information not available"})]})]}),(0,An.jsx)("div",{className:"border-t my-4"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Order Summary"}),(0,An.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,An.jsxs)("span",{className:"font-medium",children:["$",t.subtotalAmount.toFixed(2)]})]}),(0,An.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,An.jsxs)("span",{className:"font-medium",children:[t.deliveryCharge>0?`Rs ${t.deliveryCharge.toFixed(2)}`:(0,An.jsx)("span",{className:"text-green-600",children:"Free"}),t.deliveryAddress&&t.franchise&&t.franchise.address&&(0,An.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:t.deliveryAddress.pincode===t.franchise.address.pincode?"Same pincode delivery - no charge":"Different pincode delivery - Rs 40 charge"})]})]}),(0,An.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,An.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,An.jsx)("span",{children:"Total"}),(0,An.jsxs)("span",{children:["$",t.totalAmount.toFixed(2)]})]})]})]})]})]}),(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"p-4 border-b",children:(0,An.jsx)("h2",{className:"text-lg font-semibold",children:"Order Timeline"})}),(0,An.jsx)("div",{className:"p-4",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,An.jsxs)("div",{className:"relative pl-10 pb-8",children:[(0,An.jsx)("div",{className:"absolute left-0 top-0 bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})})}),(0,An.jsx)("h3",{className:"text-base font-medium",children:"Order Placed"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:d(t.createdAt)})]}),"pending"!==t.deliverystatus&&(0,An.jsxs)("div",{className:"relative pl-10 pb-8",children:[(0,An.jsx)("div",{className:"absolute left-0 top-0 bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,An.jsx)("h3",{className:"text-base font-medium",children:"Order Accepted"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Your order has been accepted by the franchise"})]}),("dispatched"===t.deliverystatus||"delivered"===t.deliverystatus)&&(0,An.jsxs)("div",{className:"relative pl-10 pb-8",children:[(0,An.jsx)("div",{className:"absolute left-0 top-0 bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center",children:(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,An.jsx)("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),(0,An.jsx)("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})}),(0,An.jsx)("h3",{className:"text-base font-medium",children:"Order Dispatched"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Your order is on its way"})]}),"delivered"===t.deliverystatus&&(0,An.jsxs)("div",{className:"relative pl-10",children:[(0,An.jsx)("div",{className:"absolute left-0 top-0 bg-green-500 rounded-full h-8 w-8 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),(0,An.jsx)("h3",{className:"text-base font-medium",children:"Order Delivered"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Your order has been delivered successfully"})]}),"cancelled"===t.deliverystatus&&(0,An.jsxs)("div",{className:"relative pl-10",children:[(0,An.jsx)("div",{className:"absolute left-0 top-0 bg-red-500 rounded-full h-8 w-8 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,An.jsx)("h3",{className:"text-base font-medium",children:"Order Cancelled"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Your order has been cancelled"})]})]})})]})]})},wS=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null);(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{n(!0),o(null);const e=localStorage.getItem("token");if(!e)return o("You must be logged in to view addresses"),void n(!1);const r=await On.get("http://localhost:8080/api/addresses",{headers:{Authorization:`Bearer ${e}`}});r.data.success?t(r.data.addresses||[]):(o("Failed to fetch addresses"),dt.error("Failed to load addresses"))}catch(s){console.error("Fetch addresses error:",s),o("An error occurred while fetching your addresses"),dt.error("Failed to load addresses")}finally{n(!1)}};return r?(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Addresses"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})}):s?(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Your Addresses"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:s}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]})}):(0,An.jsxs)(pS,{children:[(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold",children:"Your Addresses"}),(0,An.jsxs)(Pe,{to:"/addresses/add",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add New Address"]})]}),0===e.length?(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,An.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,An.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"No addresses found"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"You haven't added any delivery addresses yet."}),(0,An.jsx)(Pe,{to:"/addresses/add",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:"Add Your First Address"})]}):(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>(0,An.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"p-4 border-b",children:(0,An.jsx)("h2",{className:"text-lg font-semibold",children:"Delivery Address"})}),(0,An.jsxs)("div",{className:"p-4",children:[(0,An.jsx)("p",{className:"text-gray-700",children:e.Street}),(0,An.jsxs)("p",{className:"text-gray-700",children:[e.city,", ",e.state]}),(0,An.jsxs)("p",{className:"text-gray-700",children:[e.pincode,", ",e.country]}),(0,An.jsxs)("p",{className:"text-gray-700 mt-2",children:["Phone: ",e.phone_number]}),(0,An.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,An.jsxs)(Pe,{to:`/addresses/edit/${e._id}`,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),(0,An.jsxs)("button",{onClick:()=>(e=>{d(e),l(!0)})(e),className:"text-red-600 hover:text-red-800 flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,An.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]})]},e._id)))})]}),i&&(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Deletion"}),(0,An.jsx)("p",{className:"text-gray-700 mb-6",children:"Are you sure you want to delete this address? This action cannot be undone."}),(0,An.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,An.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,An.jsx)("button",{onClick:async()=>{if(c)try{const e=localStorage.getItem("token");(await On.delete(`http://localhost:8080/api/addresses/${c._id}`,{headers:{Authorization:`Bearer ${e}`}})).data.success?(t((e=>e.filter((e=>e._id!==c._id)))),dt.success("Address deleted successfully")):dt.error("Failed to delete address")}catch(s){console.error("Delete address error:",s),dt.error("Failed to delete address")}finally{l(!1),d(null)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})},NS=e=>{let{onSuccess:t,initialData:r=null,isEdit:n=!1}=e;const[s,o]=(0,a.useState)({Street:(null===r||void 0===r?void 0:r.Street)||"",city:(null===r||void 0===r?void 0:r.city)||"",state:(null===r||void 0===r?void 0:r.state)||"",pincode:(null===r||void 0===r?void 0:r.pincode)||"",country:(null===r||void 0===r?void 0:r.country)||"India",phone_number:(null===r||void 0===r?void 0:r.phone_number)||""}),[i,l]=(0,a.useState)(!1),c=e=>{const{name:t,value:r}=e.target;o((e=>({...e,[t]:r})))};return(0,An.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.Street&&s.city&&s.state&&s.pincode&&s.country&&s.phone_number)if(/^\d{10}$/.test(s.phone_number))if(/^\d{6}$/.test(s.pincode))try{l(!0);const e=localStorage.getItem("token");if(!e)return void dt.error("You must be logged in to manage addresses");let a;n&&null!==r&&void 0!==r&&r._id?(a=await On.put(`http://localhost:8080/api/addresses/${r._id}`,s,{headers:{Authorization:`Bearer ${e}`}}),a.data.success&&dt.success("Address updated successfully")):(a=await On.post("http://localhost:8080/api/addresses",s,{headers:{Authorization:`Bearer ${e}`}}),a.data.success&&(dt.success("Address added successfully"),o({Street:"",city:"",state:"",pincode:"",country:"India",phone_number:""}))),t&&"function"===typeof t&&t(a.data.address)}catch(c){var a,i;console.error("Address form error:",c),dt.error((null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Failed to save address")}finally{l(!1)}else dt.error("Please enter a valid 6-digit pincode");else dt.error("Please enter a valid 10-digit phone number");else dt.error("Please fill in all fields")},className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"Street",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),(0,An.jsx)("input",{type:"text",id:"Street",name:"Street",value:s.Street,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your street address",required:!0})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,An.jsx)("input",{type:"text",id:"city",name:"city",value:s.city,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your city",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),(0,An.jsx)("input",{type:"text",id:"state",name:"state",value:s.state,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your state",required:!0})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700",children:"Pincode"}),(0,An.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:s.pincode,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter 6-digit pincode",maxLength:"6",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,An.jsx)("input",{type:"text",id:"country",name:"country",value:s.country,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your country",required:!0})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,An.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",value:s.phone_number,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter 10-digit phone number",maxLength:"10",required:!0})]}),(0,An.jsx)("div",{className:"pt-4",children:(0,An.jsx)("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+(i?"opacity-70 cursor-not-allowed":""),children:i?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,An.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,An.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):n?"Update Address":"Add Address"})})]})},kS=()=>{const e=ee();return(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold",children:"Add New Address"}),(0,An.jsx)(Pe,{to:"/addresses",className:"text-blue-600 hover:text-blue-800",children:"Back to Addresses"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,An.jsx)(NS,{onSuccess:()=>{e("/addresses")}})})]})})},SS=()=>{const{addressId:e}=te(),t=ee(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null);(0,a.useEffect)((()=>{c()}),[e]);const c=async()=>{try{o(!0),l(null);const t=localStorage.getItem("token");if(!t)return l("You must be logged in to edit addresses"),void o(!1);const r=await On.get(`http://localhost:8080/api/addresses/${e}`,{headers:{Authorization:`Bearer ${t}`}});r.data.success?n(r.data.address):(l("Failed to fetch address"),dt.error("Failed to load address"))}catch(i){console.error("Fetch address error:",i),l("An error occurred while fetching the address"),dt.error("Failed to load address")}finally{o(!1)}};return s?(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Address"}),(0,An.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})}):i?(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Address"}),(0,An.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:i}),(0,An.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",children:"Try Again"})]})]})}):r?(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold",children:"Edit Address"}),(0,An.jsx)(Pe,{to:"/addresses",className:"text-blue-600 hover:text-blue-800",children:"Back to Addresses"})]}),(0,An.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,An.jsx)(NS,{initialData:r,isEdit:!0,onSuccess:()=>{t("/addresses")}})})]})}):(0,An.jsx)(pS,{children:(0,An.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,An.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Address"}),(0,An.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:[(0,An.jsx)("p",{children:"Address not found. It may have been deleted."}),(0,An.jsx)(Pe,{to:"/addresses",className:"mt-2 inline-block bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded",children:"Back to Addresses"})]})]})})},OS=()=>{const e=ee();return(0,a.useEffect)((()=>{(async()=>{try{await On.post("http://localhost:8080/api/auth/logout",{},{withCredentials:!0}),localStorage.removeItem("user"),localStorage.removeItem("token"),e("/login")}catch(t){console.error("Logout error:",t),dt.error("Failed to logout"),e("/user/dashboard")}})()}),[e]),(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,An.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,An.jsx)("div",{className:"flex justify-center mb-6",children:(0,An.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),(0,An.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Logging Out"}),(0,An.jsx)("p",{className:"text-center text-gray-600",children:"Please wait while we log you out..."})]})})},CS=()=>(0,An.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-lg max-w-6xl mx-auto",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-blue-800",children:"BlueMedix System Workflow Diagram"}),(0,An.jsxs)("div",{className:"mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"System Overview"}),(0,An.jsx)("p",{className:"text-gray-700 mb-4",children:"This diagram illustrates the complete workflow of the BlueMedix system, from user interaction through the frontend to backend processing and database operations. The system supports three user roles: regular users, order managers, and administrators, each with specific permissions and access to different parts of the application."})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"User Authentication Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"User visits login page"}),(0,An.jsx)("li",{children:"Enters email and password"}),(0,An.jsx)("li",{children:"Clicks login button"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Form validation"}),(0,An.jsx)("li",{children:"API request to /api/auth/login"}),(0,An.jsx)("li",{children:"Stores JWT token in localStorage"}),(0,An.jsx)("li",{children:"Redirects based on user role"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Validates credentials"}),(0,An.jsx)("li",{children:"Generates JWT token"}),(0,An.jsx)("li",{children:"Sets HTTP-only cookie"}),(0,An.jsx)("li",{children:"Returns user data and token"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"User Registration Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"User visits registration page"}),(0,An.jsx)("li",{children:"Enters personal details"}),(0,An.jsx)("li",{children:"Submits registration form"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Form validation"}),(0,An.jsx)("li",{children:"API request to /api/auth/register"}),(0,An.jsx)("li",{children:"Stores user data and token"}),(0,An.jsx)("li",{children:"Redirects to dashboard"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Validates user data"}),(0,An.jsx)("li",{children:"Creates user record"}),(0,An.jsx)("li",{children:"Creates address record if provided"}),(0,An.jsx)("li",{children:"Returns user data and token"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Product Browsing & Shopping Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Browse products by category"}),(0,An.jsx)("li",{children:"View product details"}),(0,An.jsx)("li",{children:"Add products to cart"}),(0,An.jsx)("li",{children:"Proceed to checkout"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Fetch products from API"}),(0,An.jsx)("li",{children:"Update cart state"}),(0,An.jsx)("li",{children:"Calculate totals"}),(0,An.jsx)("li",{children:"Submit order to API"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Query products from database"}),(0,An.jsx)("li",{children:"Update cart items"}),(0,An.jsx)("li",{children:"Process order creation"}),(0,An.jsx)("li",{children:"Update inventory"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Order Management Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Manager Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"View pending orders"}),(0,An.jsx)("li",{children:"Update order status"}),(0,An.jsx)("li",{children:"Process shipments"}),(0,An.jsx)("li",{children:"Handle returns"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Fetch orders from API"}),(0,An.jsx)("li",{children:"Display order details"}),(0,An.jsx)("li",{children:"Submit status updates"}),(0,An.jsx)("li",{children:"Generate reports"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Query orders from database"}),(0,An.jsx)("li",{children:"Update order status"}),(0,An.jsx)("li",{children:"Process inventory changes"}),(0,An.jsx)("li",{children:"Notify customers"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Admin Management Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Admin Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Manage users and managers"}),(0,An.jsx)("li",{children:"Manage products"}),(0,An.jsx)("li",{children:"Manage franchises"}),(0,An.jsx)("li",{children:"View reports"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Admin dashboard interface"}),(0,An.jsx)("li",{children:"CRUD operations via API"}),(0,An.jsx)("li",{children:"Data visualization"}),(0,An.jsx)("li",{children:"Access control enforcement"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Admin-only API endpoints"}),(0,An.jsx)("li",{children:"Database operations"}),(0,An.jsx)("li",{children:"System configuration"}),(0,An.jsx)("li",{children:"Data aggregation for reports"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Logout Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"User clicks logout"}),(0,An.jsx)("li",{children:"Confirmation dialog (optional)"}),(0,An.jsx)("li",{children:"Redirect to login page"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"API request to /api/auth/logout"}),(0,An.jsx)("li",{children:"Clear localStorage"}),(0,An.jsx)("li",{children:"Clear application state"}),(0,An.jsx)("li",{children:"Redirect to login page"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Clear HTTP-only cookie"}),(0,An.jsx)("li",{children:"Invalidate token (if implemented)"}),(0,An.jsx)("li",{children:"Return success response"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Password Reset Flow"}),(0,An.jsx)("div",{className:"flex flex-col space-y-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-blue-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Interaction"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"User visits forgot password page"}),(0,An.jsx)("li",{children:"Enters email address"}),(0,An.jsx)("li",{children:"Receives OTP"}),(0,An.jsx)("li",{children:"Enters OTP and new password"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-green-100 rounded-lg mr-4",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Frontend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Form validation"}),(0,An.jsx)("li",{children:"API request to forgot password"}),(0,An.jsx)("li",{children:"API request to reset password"}),(0,An.jsx)("li",{children:"Redirect to login page"})]})]}),(0,An.jsxs)("div",{className:"w-1/3 p-3 bg-purple-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Backend Processing"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,An.jsx)("li",{children:"Generate OTP"}),(0,An.jsx)("li",{children:"Store OTP with expiry"}),(0,An.jsx)("li",{children:"Verify OTP validity"}),(0,An.jsx)("li",{children:"Update user password"})]})]})]})})]}),(0,An.jsxs)("div",{className:"border-2 border-gray-200 p-6 rounded-lg bg-gray-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"Database Schema Overview"}),(0,An.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"User Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores user accounts, credentials, and profile information"})]}),(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Product Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores product details, pricing, and inventory information"})]}),(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Order Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores order details, status, and history"})]}),(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Cart Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores user shopping cart items"})]}),(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Address Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores user shipping and billing addresses"})]}),(0,An.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,An.jsx)("h3",{className:"font-bold",children:"Franchise Collection"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Stores franchise information and relationships"})]})]})]}),(0,An.jsx)("div",{className:"mt-10 text-center text-gray-500 text-sm",children:(0,An.jsx)("p",{children:"BlueMedix System Workflow Diagram - Created for development and documentation purposes"})})]}),_S=()=>(0,An.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,An.jsxs)("div",{className:"container mx-auto",children:[(0,An.jsxs)("div",{className:"mb-8 text-center",children:[(0,An.jsx)("h1",{className:"text-4xl font-bold text-blue-900",children:"BlueMedix System Workflow"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"A comprehensive visualization of the system flow from user interaction to backend processing"})]}),(0,An.jsx)(CS,{}),(0,An.jsx)("div",{className:"mt-8 text-center",children:(0,An.jsx)("p",{className:"text-gray-600",children:"This diagram illustrates the complete workflow of the BlueMedix application, showing how user interactions flow through the system."})})]})}),AS=()=>(0,An.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-lg max-w-6xl mx-auto",children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-blue-800",children:"BlueMedix System Architecture"}),(0,An.jsxs)("div",{className:"mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"System Overview"}),(0,An.jsx)("p",{className:"text-gray-700 mb-4",children:"This block diagram illustrates the high-level architecture of the BlueMedix system, showing the main components and their interactions. The system follows a modern client-server architecture with a React frontend, Node.js/Express backend, and MongoDB database."})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700 text-center",children:"System Architecture Block Diagram"}),(0,An.jsxs)("div",{className:"flex flex-col items-center",children:[(0,An.jsx)("div",{className:"w-full mb-8",children:(0,An.jsxs)("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Client Layer"}),(0,An.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,An.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"User Interface"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"React Components, Tailwind CSS"})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"State Management"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"React Context, Local Storage"})]}),(0,An.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"API Integration"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Axios, Fetch API"})]})]})]})}),(0,An.jsx)("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] border-t-yellow-300 border-r-[20px] border-r-transparent mb-8"}),(0,An.jsx)("div",{className:"w-full mb-8",children:(0,An.jsxs)("div",{className:"bg-green-100 border-2 border-green-300 rounded-lg p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-bold mb-2",children:"API Gateway Layer"}),(0,An.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,An.jsxs)("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Authentication"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"JWT, Cookies, Middleware"})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Request Handling"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Express.js, CORS, Validation"})]}),(0,An.jsxs)("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Response Formatting"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"JSON, Error Handling"})]})]})]})}),(0,An.jsx)("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] border-t-green-300 border-r-[20px] border-r-transparent mb-8"}),(0,An.jsx)("div",{className:"w-full mb-8",children:(0,An.jsxs)("div",{className:"bg-blue-100 border-2 border-blue-300 rounded-lg p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Business Logic Layer"}),(0,An.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[(0,An.jsxs)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"User Management"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Authentication, Authorization"})]}),(0,An.jsxs)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Product Management"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Inventory, Pricing"})]}),(0,An.jsxs)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Order Processing"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Cart, Checkout, Fulfillment"})]}),(0,An.jsxs)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Franchise Management"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Locations, Managers"})]})]})]})}),(0,An.jsx)("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] border-t-blue-300 border-r-[20px] border-r-transparent mb-8"}),(0,An.jsx)("div",{className:"w-full mb-8",children:(0,An.jsxs)("div",{className:"bg-purple-100 border-2 border-purple-300 rounded-lg p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Data Access Layer"}),(0,An.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,An.jsxs)("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Models"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Mongoose Schemas, Validation"})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Data Operations"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"CRUD Operations, Queries"})]}),(0,An.jsxs)("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Data Relationships"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"References, Population"})]})]})]})}),(0,An.jsx)("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] border-t-purple-300 border-r-[20px] border-r-transparent mb-8"}),(0,An.jsx)("div",{className:"w-full",children:(0,An.jsxs)("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-center",children:[(0,An.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Database Layer"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"MongoDB"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Document Storage, Collections"})]}),(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[(0,An.jsx)("h4",{className:"font-semibold",children:"Data Persistence"}),(0,An.jsx)("p",{className:"text-sm mt-1",children:"Indexes, Transactions"})]})]})]})})]})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700",children:"Component Details"}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-xl font-bold text-yellow-700 mb-2",children:"Client Layer"}),(0,An.jsx)("p",{className:"mb-3",children:"The client layer is responsible for the user interface and interaction."}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"React Components:"})," Modular UI components organized by feature"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Routing:"})," React Router for navigation between pages"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"State Management:"})," React Context API and local storage for state persistence"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"API Integration:"})," Axios for HTTP requests to the backend"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Styling:"})," Tailwind CSS for responsive design"]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-xl font-bold text-green-700 mb-2",children:"API Gateway Layer"}),(0,An.jsx)("p",{className:"mb-3",children:"The API gateway handles incoming requests, authentication, and routing to appropriate controllers."}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Express.js:"})," Web framework for handling HTTP requests"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Authentication Middleware:"})," JWT verification for protected routes"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Request Validation:"})," Input validation and sanitization"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"CORS:"})," Cross-Origin Resource Sharing configuration"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Error Handling:"})," Centralized error handling middleware"]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-xl font-bold text-blue-700 mb-2",children:"Business Logic Layer"}),(0,An.jsx)("p",{className:"mb-3",children:"The business logic layer contains the core functionality of the application."}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Controllers:"})," Handle business logic for each domain area"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Authentication:"})," User registration, login, and session management"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Product Management:"})," Inventory tracking, pricing, and categorization"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Order Processing:"})," Cart management, checkout, and order fulfillment"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Franchise Management:"})," Franchise creation, manager assignment, and reporting"]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-xl font-bold text-purple-700 mb-2",children:"Data Access Layer"}),(0,An.jsx)("p",{className:"mb-3",children:"The data access layer provides an interface to the database."}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Mongoose Models:"})," Schema definitions and validation rules"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Data Operations:"})," CRUD operations and complex queries"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Relationships:"})," Managing references between collections"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Middleware:"})," Pre/post hooks for data processing"]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Database Layer"}),(0,An.jsx)("p",{className:"mb-3",children:"The database layer stores all application data."}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"MongoDB:"})," NoSQL database for flexible document storage"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Collections:"})," User, Product, Order, Franchise, etc."]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Indexes:"})," Optimized queries for frequently accessed data"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Data Persistence:"})," Reliable storage with backup capabilities"]})]})]})]})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700",children:"Cross-Cutting Concerns"}),(0,An.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,An.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,An.jsx)("h3",{className:"text-lg font-bold text-red-700 mb-2",children:"Security"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,An.jsx)("li",{children:"JWT Authentication"}),(0,An.jsx)("li",{children:"Password Hashing"}),(0,An.jsx)("li",{children:"Role-Based Access Control"}),(0,An.jsx)("li",{children:"Input Validation"}),(0,An.jsx)("li",{children:"HTTPS Communication"})]})]}),(0,An.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,An.jsx)("h3",{className:"text-lg font-bold text-indigo-700 mb-2",children:"Logging & Monitoring"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,An.jsx)("li",{children:"Request Logging"}),(0,An.jsx)("li",{children:"Error Tracking"}),(0,An.jsx)("li",{children:"Performance Monitoring"}),(0,An.jsx)("li",{children:"Audit Trails"}),(0,An.jsx)("li",{children:"System Health Checks"})]})]}),(0,An.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,An.jsx)("h3",{className:"text-lg font-bold text-teal-700 mb-2",children:"Configuration"}),(0,An.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,An.jsx)("li",{children:"Environment Variables"}),(0,An.jsx)("li",{children:"Feature Flags"}),(0,An.jsx)("li",{children:"Deployment Profiles"}),(0,An.jsx)("li",{children:"API Endpoints"}),(0,An.jsx)("li",{children:"System Constants"})]})]})]})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700",children:"External Integrations"}),(0,An.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-center",children:[(0,An.jsx)("h3",{className:"font-semibold",children:"Payment Gateway"}),(0,An.jsx)("p",{className:"text-xs mt-1",children:"For processing payments"})]}),(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-center",children:[(0,An.jsx)("h3",{className:"font-semibold",children:"Email Service"}),(0,An.jsx)("p",{className:"text-xs mt-1",children:"For notifications"})]}),(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-center",children:[(0,An.jsx)("h3",{className:"font-semibold",children:"Cloud Storage"}),(0,An.jsx)("p",{className:"text-xs mt-1",children:"For file storage"})]}),(0,An.jsxs)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-center",children:[(0,An.jsx)("h3",{className:"font-semibold",children:"Analytics"}),(0,An.jsx)("p",{className:"text-xs mt-1",children:"For usage tracking"})]})]})]}),(0,An.jsx)("div",{className:"mt-10 text-center text-gray-500 text-sm",children:(0,An.jsx)("p",{children:"BlueMedix System Architecture Block Diagram - Created for development and documentation purposes"})})]}),PS=()=>(0,An.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,An.jsxs)("div",{className:"container mx-auto",children:[(0,An.jsxs)("div",{className:"mb-8 text-center",children:[(0,An.jsx)("h1",{className:"text-4xl font-bold text-blue-900",children:"BlueMedix System Architecture"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"A high-level representation of the system components and their interactions"})]}),(0,An.jsx)(AS,{}),(0,An.jsx)("div",{className:"mt-8 text-center",children:(0,An.jsx)("p",{className:"text-gray-600",children:"This block diagram provides a comprehensive overview of the BlueMedix system architecture, showing how different components interact to create a complete medical supply management solution."})})]})}),ES=()=>{const e="p-8 bg-white rounded-lg shadow-lg max-w-6xl mx-auto",t="text-3xl font-bold text-center mb-8 text-blue-800",r="text-2xl font-semibold mb-4 text-blue-700",n="text-gray-700 mb-4",a="border-2 border-blue-200 p-6 rounded-lg mb-10 bg-blue-50 overflow-auto",s={user:"bg-blue-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",product:"bg-green-100 border-2 border-green-300 rounded-lg p-4 shadow-md",order:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-4 shadow-md",franchise:"bg-purple-100 border-2 border-purple-300 rounded-lg p-4 shadow-md",address:"bg-red-100 border-2 border-red-300 rounded-lg p-4 shadow-md",cart:"bg-orange-100 border-2 border-orange-300 rounded-lg p-4 shadow-md",category:"bg-teal-100 border-2 border-teal-300 rounded-lg p-4 shadow-md",franchisestock:"bg-indigo-100 border-2 border-indigo-300 rounded-lg p-4 shadow-md"},o="text-lg font-bold mb-2",i="mt-2",l="text-sm py-1 border-b border-gray-200 flex justify-between",c="font-bold text-blue-800",d="italic text-purple-800",u="mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",h="font-bold text-lg mb-2",f="flex items-center mb-1",p="w-4 h-4 mr-2 rounded",m="text-sm",x="mb-2 pl-4 border-l-2 border-gray-300",g="font-semibold",y="text-sm text-gray-600";return(0,An.jsxs)("div",{className:e,children:[(0,An.jsx)("h1",{className:t,children:"BlueMedix Database Entity-Relationship Diagram"}),(0,An.jsxs)("div",{className:"mb-10",children:[(0,An.jsx)("h2",{className:r,children:"Database Overview"}),(0,An.jsx)("p",{className:n,children:"This diagram illustrates the structure and relationships between the different entities in the BlueMedix database. The system uses MongoDB as its database, with Mongoose for object modeling. Each box represents a collection in the database, showing its fields and relationships to other collections."})]}),(0,An.jsxs)("div",{className:a,children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700 text-center",children:"Entity-Relationship Diagram"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,An.jsxs)("div",{className:s.user,children:[(0,An.jsx)("h3",{className:o,children:"User"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"name"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"email"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"password"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"img_url"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"verify_email"}),(0,An.jsx)("span",{children:"Boolean"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"last_login_date"}),(0,An.jsx)("span",{children:"Date"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"Status"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"address_info"}),(0,An.jsx)("span",{children:"[ObjectId]"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"shopping_cart"}),(0,An.jsx)("span",{children:"[ObjectId]"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"order_history"}),(0,An.jsx)("span",{children:"[ObjectId]"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"forgot_password_otp"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"forgot_password_expiry"}),(0,An.jsx)("span",{children:"Date"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"role"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"phone"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"franchise"}),(0,An.jsx)("span",{children:"ObjectId"})]})]})]}),(0,An.jsxs)("div",{className:s.product,children:[(0,An.jsx)("h3",{className:o,children:"Product"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"name"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"description"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"category"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"price"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"discount"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"warehouseStock"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"lowStockThreshold"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"image"}),(0,An.jsx)("span",{children:"Array"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"manufacturer"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"publish"}),(0,An.jsx)("span",{children:"Boolean"})]})]})]}),(0,An.jsxs)("div",{className:s.order,children:[(0,An.jsx)("h3",{className:o,children:"Order"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"user"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"product_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"order_id"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"product_details"}),(0,An.jsx)("span",{children:"Object"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"paymentid"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"paymentStatus"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"deliveryAddress"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"subtotalAmount"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"totalAmount"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"invoice_reciept"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"deliverystatus"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"franchise"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"deliveryCharge"}),(0,An.jsx)("span",{children:"Number"})]})]})]}),(0,An.jsxs)("div",{className:s.franchise,children:[(0,An.jsx)("h3",{className:o,children:"Franchise"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"name"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"address"}),(0,An.jsx)("span",{children:"Object"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"contactNumber"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"email"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"isActive"}),(0,An.jsx)("span",{children:"Boolean"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"createdAt"}),(0,An.jsx)("span",{children:"Date"})]})]})]}),(0,An.jsxs)("div",{className:s.address,children:[(0,An.jsx)("h3",{className:o,children:"Address"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"Street"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"city"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"state"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"pincode"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"country"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"phone_number"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"status"}),(0,An.jsx)("span",{children:"Boolean"})]})]})]}),(0,An.jsxs)("div",{className:s.cart,children:[(0,An.jsx)("h3",{className:o,children:"Cart"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"productid"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"quantity"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"user_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"franchise"}),(0,An.jsx)("span",{children:"ObjectId"})]})]})]}),(0,An.jsxs)("div",{className:s.category,children:[(0,An.jsx)("h3",{className:o,children:"Category"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"name"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"image"}),(0,An.jsx)("span",{children:"String"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"createdAt"}),(0,An.jsx)("span",{children:"Date"})]})]})]}),(0,An.jsxs)("div",{className:s.franchisestock,children:[(0,An.jsx)("h3",{className:o,children:"FranchiseStock"}),(0,An.jsxs)("div",{className:i,children:[(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:c,children:"_id"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"franchise"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{className:d,children:"product"}),(0,An.jsx)("span",{children:"ObjectId"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"quantity"}),(0,An.jsx)("span",{children:"Number"})]}),(0,An.jsxs)("div",{className:l,children:[(0,An.jsx)("span",{children:"lastUpdated"}),(0,An.jsx)("span",{children:"Date"})]})]})]})]}),(0,An.jsxs)("div",{className:u,children:[(0,An.jsx)("h3",{className:h,children:"Legend"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-blue-300`}),(0,An.jsx)("span",{className:m,children:"User Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-green-300`}),(0,An.jsx)("span",{className:m,children:"Product Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-yellow-300`}),(0,An.jsx)("span",{className:m,children:"Order Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-purple-300`}),(0,An.jsx)("span",{className:m,children:"Franchise Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-red-300`}),(0,An.jsx)("span",{className:m,children:"Address Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-orange-300`}),(0,An.jsx)("span",{className:m,children:"Cart Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-teal-300`}),(0,An.jsx)("span",{className:m,children:"Category Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("div",{className:`${p} bg-indigo-300`}),(0,An.jsx)("span",{className:m,children:"FranchiseStock Entity"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("span",{className:c,children:"Field"}),(0,An.jsx)("span",{className:m,children:"Primary Key"})]}),(0,An.jsxs)("div",{className:f,children:[(0,An.jsx)("span",{className:d,children:"Field"}),(0,An.jsx)("span",{className:m,children:"Foreign Key"})]})]})]})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700",children:"Entity Relationships"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"User \u2192 Address (One-to-Many)"}),(0,An.jsx)("p",{className:y,children:"A user can have multiple addresses stored in their profile. The user's address_info array contains references to address documents."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"User \u2192 Cart (One-to-Many)"}),(0,An.jsx)("p",{className:y,children:"A user can have multiple items in their shopping cart. The user's shopping_cart array contains references to cart documents."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"User \u2192 Order (One-to-Many)"}),(0,An.jsx)("p",{className:y,children:"A user can place multiple orders. The user's order_history array contains references to order documents."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"User \u2192 Franchise (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple users (specifically order managers) can be associated with a single franchise. The user's franchise field references a franchise document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Product \u2192 Category (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple products can belong to a single category. The product's category field references a category document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Order \u2192 User (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple orders can be placed by a single user. The order's user field references a user document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Order \u2192 Product (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple orders can be for a single product. The order's product_id field references a product document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Order \u2192 Address (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple orders can be delivered to a single address. The order's deliveryAddress field references an address document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Order \u2192 Franchise (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple orders can be fulfilled by a single franchise. The order's franchise field references a franchise document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Cart \u2192 Product (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple cart items can reference a single product. The cart's productid field references a product document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Cart \u2192 User (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple cart items can belong to a single user. The cart's user_id field references a user document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"Cart \u2192 Franchise (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple cart items can be fulfilled by a single franchise. The cart's franchise field references a franchise document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"FranchiseStock \u2192 Franchise (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple franchise stock entries can belong to a single franchise. The franchiseStock's franchise field references a franchise document."})]}),(0,An.jsxs)("div",{className:x,children:[(0,An.jsx)("h3",{className:g,children:"FranchiseStock \u2192 Product (Many-to-One)"}),(0,An.jsx)("p",{className:y,children:"Multiple franchise stock entries can reference a single product. The franchiseStock's product field references a product document."})]})]})]}),(0,An.jsxs)("div",{className:"border-2 border-blue-200 p-6 rounded-lg mb-10",children:[(0,An.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-blue-700",children:"Database Schema Overview"}),(0,An.jsx)("p",{className:"mb-4",children:"The BlueMedix database is designed to support a medical supply management system with multiple user roles (admin, order manager, user), franchise management, product inventory, and order processing. The schema follows these design principles:"}),(0,An.jsxs)("ul",{className:"list-disc pl-6 space-y-2 mb-6",children:[(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Document-Oriented Structure:"})," Leverages MongoDB's document model for flexible schema design"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Reference-Based Relationships:"})," Uses ObjectId references to establish relationships between collections"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Role-Based Access:"})," User schema includes role field to support different permission levels"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Inventory Management:"})," Tracks both warehouse and franchise-specific inventory"]}),(0,An.jsxs)("li",{children:[(0,An.jsx)("span",{className:"font-semibold",children:"Order Tracking:"})," Comprehensive order schema with status tracking and payment information"]})]}),(0,An.jsx)("p",{children:"This schema design allows for efficient querying of related data while maintaining data integrity through Mongoose schema validation and middleware hooks."})]}),(0,An.jsx)("div",{className:"mt-10 text-center text-gray-500 text-sm",children:(0,An.jsx)("p",{children:"BlueMedix Database Entity-Relationship Diagram - Created for development and documentation purposes"})})]})},MS=()=>(0,An.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,An.jsxs)("div",{className:"container mx-auto",children:[(0,An.jsxs)("div",{className:"mb-8 text-center",children:[(0,An.jsx)("h1",{className:"text-4xl font-bold text-blue-900",children:"BlueMedix Database Structure"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Entity-Relationship Diagram showing database collections and their interconnections"})]}),(0,An.jsx)(ES,{}),(0,An.jsx)("div",{className:"mt-8 text-center",children:(0,An.jsx)("p",{className:"text-gray-600",children:"This diagram illustrates the database schema of the BlueMedix application, showing how different entities relate to each other in the MongoDB database."})})]})}),TS=()=>(0,An.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,An.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,An.jsx)("h1",{className:"text-4xl font-bold text-center text-blue-900 mb-12",children:"BlueMedix System Documentation"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"h-48 bg-blue-600 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Workflow Diagram"}),(0,An.jsx)("p",{className:"text-gray-600 mb-4",children:"A comprehensive visualization of the system flow from user interaction to backend processing. This diagram illustrates the complete user journeys and process flows within the BlueMedix system."}),(0,An.jsx)(Pe,{to:"/workflow-diagram",className:"inline-block px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors",children:"View Workflow Diagram"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"h-48 bg-green-600 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Block Diagram"}),(0,An.jsx)("p",{className:"text-gray-600 mb-4",children:"A high-level representation of the system components and their interactions. This diagram provides an architectural overview of the BlueMedix system structure."}),(0,An.jsx)(Pe,{to:"/block-diagram",className:"inline-block px-6 py-3 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 transition-colors",children:"View Block Diagram"})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,An.jsx)("div",{className:"h-48 bg-purple-600 flex items-center justify-center",children:(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),(0,An.jsxs)("div",{className:"p-6",children:[(0,An.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"ER Diagram"}),(0,An.jsx)("p",{className:"text-gray-600 mb-4",children:"An Entity-Relationship diagram showing the database structure and interconnections. This diagram illustrates how data is organized and related in the BlueMedix database."}),(0,An.jsx)(Pe,{to:"/er-diagram",className:"inline-block px-6 py-3 bg-purple-600 text-white font-medium rounded-md hover:bg-purple-700 transition-colors",children:"View ER Diagram"})]})]})]}),(0,An.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-12",children:[(0,An.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Additional Documentation"}),(0,An.jsxs)("ul",{className:"space-y-3",children:[(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,An.jsx)("a",{href:"/API_DOCUMENTATION.md",target:"_blank",className:"text-blue-600 hover:underline",children:"API Documentation"})]}),(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,An.jsx)("a",{href:"/WORKFLOW_DIAGRAM.md",target:"_blank",className:"text-blue-600 hover:underline",children:"Workflow Documentation"})]}),(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,An.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,An.jsx)("a",{href:"/ADMIN_SETUP.md",target:"_blank",className:"text-blue-600 hover:underline",children:"Admin Setup Guide"})]})]})]}),(0,An.jsx)("div",{className:"text-center text-gray-500",children:(0,An.jsx)("p",{children:"BlueMedix System Documentation - For development and reference purposes"})})]})}),IS=e=>{let{children:t,allowedRoles:r}=e;const n=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user"));return n?r&&!r.includes(null===a||void 0===a?void 0:a.role)?(0,An.jsx)(xe,{to:"/"}):t:(0,An.jsx)(xe,{to:"/login"})},DS=e=>{let{children:t}=e;return(0,An.jsx)(IS,{allowedRoles:["admin"],children:(0,An.jsx)(Dk,{children:t})})},RS=e=>{let{children:t}=e;return(0,An.jsx)(IS,{allowedRoles:["orderManager"],children:(0,An.jsx)(zk,{children:t})})},LS=e=>{let{children:t}=e;return(0,An.jsx)(IS,{allowedRoles:["user","admin","orderManager"],children:(0,An.jsx)(pS,{children:t})})};const FS=()=>(0,An.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("h1",{className:"text-6xl font-bold text-gray-900",children:"404"}),(0,An.jsx)("p",{className:"text-xl text-gray-600 mt-4",children:"Page not found"}),(0,An.jsx)("button",{onClick:()=>window.history.back(),className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]})}),zS=function(){return(0,An.jsxs)(Ce,{children:[(0,An.jsx)(et,{position:"top-right",autoClose:5e3}),(0,An.jsxs)(ve,{children:[(0,An.jsx)(ge,{path:"/login",element:(0,An.jsx)(Mn,{})}),(0,An.jsx)(ge,{path:"/register",element:(0,An.jsx)(Tn,{})}),(0,An.jsx)(ge,{path:"/forgot-password",element:(0,An.jsx)(In,{})}),(0,An.jsx)(ge,{path:"/reset-password",element:(0,An.jsx)(Dn,{})}),(0,An.jsx)(ge,{path:"/create-admin",element:(0,An.jsx)(Rn,{})}),(0,An.jsx)(ge,{path:"/admin/dashboard",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Ln,{})})}),(0,An.jsx)(ge,{path:"/admin/users",element:(0,An.jsx)(DS,{children:(0,An.jsx)(zn,{})})}),(0,An.jsx)(ge,{path:"/admin/users/:userId",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Bn,{})})}),(0,An.jsx)(ge,{path:"/admin/managers",element:(0,An.jsx)(DS,{children:(0,An.jsx)($n,{})})}),(0,An.jsx)(ge,{path:"/admin/managers/:managerId",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Un,{})})}),(0,An.jsx)(ge,{path:"/admin/managers/create",element:(0,An.jsx)(DS,{children:(0,An.jsx)(qn,{})})}),(0,An.jsx)(ge,{path:"/admin/orders",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Wn,{})})}),(0,An.jsx)(ge,{path:"/admin/orders/:orderId",element:(0,An.jsx)(DS,{children:(0,An.jsx)(jS,{})})}),(0,An.jsx)(ge,{path:"/admin/products",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Vn,{})})}),(0,An.jsx)(ge,{path:"/admin/products/:productId",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Kn,{})})}),(0,An.jsx)(ge,{path:"/admin/categories",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Hn,{})})}),(0,An.jsx)(ge,{path:"/admin/franchises",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Yn,{})})}),(0,An.jsx)(ge,{path:"/admin/franchises/:franchiseId",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Xn,{})})}),(0,An.jsx)(ge,{path:"/admin/franchise-stock",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Gn,{})})}),(0,An.jsx)(ge,{path:"/admin/reports",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Ik,{})})}),(0,An.jsx)(ge,{path:"/admin/profile",element:(0,An.jsx)(DS,{children:(0,An.jsx)(Rk,{})})}),(0,An.jsx)(ge,{path:"/admin/logout",element:(0,An.jsx)(Lk,{})}),(0,An.jsx)(ge,{path:"/manager/dashboard",element:(0,An.jsx)(RS,{children:(0,An.jsx)(Fk,{})})}),(0,An.jsx)(ge,{path:"/manager/profile",element:(0,An.jsx)(RS,{children:(0,An.jsx)(Bk,{})})}),(0,An.jsx)(ge,{path:"/manager/orders",element:(0,An.jsx)(RS,{children:(0,An.jsx)($k,{})})}),(0,An.jsx)(ge,{path:"/manager/orders/:orderId",element:(0,An.jsx)(RS,{children:(0,An.jsx)(Uk,{})})}),(0,An.jsx)(ge,{path:"/manager/customers",element:(0,An.jsx)(RS,{children:(0,An.jsx)(lS,{})})}),(0,An.jsx)(ge,{path:"/manager/customers/:customerId",element:(0,An.jsx)(RS,{children:(0,An.jsx)(cS,{})})}),(0,An.jsx)(ge,{path:"/manager/inventory",element:(0,An.jsx)(RS,{children:(0,An.jsx)(dS,{})})}),(0,An.jsx)(ge,{path:"/manager/reports",element:(0,An.jsx)(RS,{children:(0,An.jsx)(uS,{})})}),(0,An.jsx)(ge,{path:"/manager/logout",element:(0,An.jsx)(hS,{})}),(0,An.jsx)(ge,{path:"/products",element:(0,An.jsx)(Pn,{children:(0,An.jsx)(xS,{})})}),(0,An.jsx)(ge,{path:"/products/:productId",element:(0,An.jsx)(Pn,{children:(0,An.jsx)(gS,{})})}),(0,An.jsx)(ge,{path:"/categories",element:(0,An.jsx)(Pn,{children:(0,An.jsx)(yS,{})})}),(0,An.jsx)(ge,{path:"/user/dashboard",element:(0,An.jsx)(LS,{children:(0,An.jsx)(fS,{})})}),(0,An.jsx)(ge,{path:"/user/profile",element:(0,An.jsx)(LS,{children:(0,An.jsx)(mS,{})})}),(0,An.jsx)(ge,{path:"/cart",element:(0,An.jsx)(LS,{children:(0,An.jsx)(vS,{})})}),(0,An.jsx)(ge,{path:"/orders",element:(0,An.jsx)(LS,{children:(0,An.jsx)(bS,{})})}),(0,An.jsx)(ge,{path:"/orders/:orderId",element:(0,An.jsx)(LS,{children:(0,An.jsx)(jS,{})})}),(0,An.jsx)(ge,{path:"/addresses",element:(0,An.jsx)(wS,{})}),(0,An.jsx)(ge,{path:"/addresses/add",element:(0,An.jsx)(kS,{})}),(0,An.jsx)(ge,{path:"/addresses/edit/:addressId",element:(0,An.jsx)(SS,{})}),(0,An.jsx)(ge,{path:"/user/logout",element:(0,An.jsx)(OS,{})}),(0,An.jsx)(ge,{path:"/",element:(0,An.jsx)(En,{})}),(0,An.jsx)(ge,{path:"/documentation",element:(0,An.jsx)(TS,{})}),(0,An.jsx)(ge,{path:"/workflow-diagram",element:(0,An.jsx)(_S,{})}),(0,An.jsx)(ge,{path:"/block-diagram",element:(0,An.jsx)(PS,{})}),(0,An.jsx)(ge,{path:"/er-diagram",element:(0,An.jsx)(MS,{})}),(0,An.jsx)(ge,{path:"*",element:(0,An.jsx)(FS,{})})]})]})},BS=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:s,getTTFB:o}=t;r(e),n(e),a(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,An.jsx)(a.StrictMode,{children:(0,An.jsx)(zS,{})})),BS()})()})();
//# sourceMappingURL=main.42b453d7.js.map